//===== rAthena Script ======================================= 
//= Nidhoggr's Nest
//===== By: ================================================== 
//= L0ne_W0lf, various sources
//===== Current Version: ===================================== 
//= 1.6
//===== Compatible With: ===================================== 
//= rAthena Project
//===== Description: ========================================= 
//= [Official Conversion]
//= Nidhoggr's Nest Instance
//===== Additional Comments: ================================= 
//= 1.0 First version.
//= 1.1 Minor dialog updates.
//= 1.2 No longer glitches when anyone but party leader talks to the first NPC.
//= 1.3 Added 'instance_check_party' command to the script for proper checking if
//=     the invoking party meets the requirements to join the Memorial Dungeon.
//= 1.4 Cleaning. [Euphy]
//= 1.5 Instance system rewrite. [Euphy]
//= 1.6 Added GM management NPCs. [Euphy]
//============================================================ 

nyd_dun02,100,201,3	script	Yggdrasil Gatekeeper	111,8,8,{
	if (ins_nyd == 0) {
		mes "ประตูหินขนาดมหึมาตั้งตระหง่านอยู่ตรงหน้าคุณ รูปสลักมังกรที่น่าสะพรึงกลัวกำลังสยายปีกที่ดูทรงพลังของมันออก";
		next;
		mes "ที่บริเวณฐานประตู หญิงสาวเผ่า Laphine ถูกสาปให้กลายเป็นหินและดูราวกับว่าเป็นส่วนหนึ่งของประตูบานยักษ์นี้";
		next;
		switch(select("ขยับเข้าไปดูใกล้ๆ อย่างระมัดระวัง:ถอยออกมา")) {
		case 1:
			specialeffect2 EF_HOLYHIT;
			pushpc 3,3;
			if (ep13_1_edq == 14)
				set ep13_1_edq,15;
			mes "พลังลึกลับบางอย่างขัดขวางไม่ให้คุณเข้าใกล้ ดูเหมือนว่าจะมีบางสิ่งที่แข็งแกร่งอยู่หลังประตูบานนี้...";
			next;
			mes "บางทีอาจมีความลับอันยิ่งใหญ่ซ่อนอยู่หลังประตูนี้ เกินกว่าที่ใครจะคาดคิด";
			next;
			mes "ทางที่ดีควรกลับไปที่ค่ายเพื่อแจ้งให้คนอื่นๆ ทราบและขอความช่วยเหลือ";
			if (ep13_1_edq != 15) {
				next;
				mes "คุณต้องทำงานอย่างหนักเพื่อพิสูจน์ตัวเองให้ได้รับความไว้วางใจจากผู้คนในค่ายอาสาสำรวจเสียก่อน";
			}
			set ins_nyd,1;
			close;
		case 2:
			close;
		}
	} else if (ins_nyd == 1) {
		mes "พลังลึกลับบางอย่างขัดขวางไม่ให้คุณเข้าใกล้ ดูเหมือนว่าจะมีบางสิ่งที่แข็งแกร่งอยู่หลังประตูบานนี้...";
		next;
		mes "บางทีอาจมีความลับอันยิ่งใหญ่ซ่อนอยู่หลังประตูนี้ เกินกว่าที่ใครจะคาดคิด";
		next;
		mes "ทางที่ดีควรกลับไปที่ค่ายเพื่อแจ้งให้คนอื่นๆ ทราบและขอความช่วยเหลือ";
		if (ep13_1_edq == 14 || ep13_1_edq == 15) {
			set ep13_1_edq,15;
			close;
		}
		next;
		mes "คุณต้องทำงานอย่างหนักเพื่อพิสูจน์ตัวเองให้ได้รับความไว้วางใจจากผู้คนในค่ายอาสาสำรวจเสียก่อน";
		close;
	} else if (ins_nyd == 111 || ins_nyd == 112) {
		specialeffect2 EF_CHANGECOLD;
		mes "ความรู้สึกประหลาดที่ห่อหุ้มร่างกายของคุณได้สลายหายไป";
		next;
		mes "เมื่อคุณสัมผัสประตูหิน คุณก็ได้ยินเสียงที่ทรงพลังและน่าเกรงขามดังขึ้น";
		next;
		mes "[??????]";
		mes "ผู้ไร้ปีกเอ๋ย... จงกล่าวคำสัญญาของพวกเราออกมา...";
		next;
		switch(select("'Guardian's spell' (คาถาแห่งผู้พิทักษ์)!:ก้าวถอยหลังกลับไป")) {
		case 1:
			mes "[??????]";
			mes "คำสัญญา... คาถาแห่งผู้พิทักษ์... ข้อพิสูจน์แห่งตัวตนของพวกเขา";
			next;
			mes "[Yggdrasil Gatekeeper]";
			mes "ในนามแห่ง Yggdrasiliad ข้าขอรับเจ้าเข้าเป็นผู้รับใช้แห่งผู้พิทักษ์";
			next;
			specialeffect2 EF_CHANGECOLD;
			set ins_nyd,200;
			mes "[Yggdrasil Gatekeeper]";
			mes "ข้าอนุญาตให้เจ้าผ่านประตูแห่งผู้พิทักษ์ได้ บัดนี้เจ้าคือผู้รับใช้ที่ซื่อสัตย์ของ Guardian Nidhoggur แล้ว";
			next;
			mes "เสียงนั้นหายไป และพลังงานอันมืดมิดที่อยู่หลังประตูหินก็เริ่มสงบลง";
			close;
		case 2:
			close;
		}
	} else if (ins_nyd == 131 || ins_nyd == 132 || ins_nyd > 199) {

		set .@party_id,getcharid(1);
		set .@md_name$,"Nidhoggur's Nest";

		set .@ins_nyd_check,checkquest(3135,PLAYTIME); // 3 Day cooldown
		set .@ins_nyd_check2,checkquest(3136,PLAYTIME); // 4 Hour play limit

		mes "เมื่อข้าสัมผัสมือลงบนประตูหิน เสียงหนึ่งก็ดังขึ้นจากส่วนลึกของหัวใจ";
		next;
		if (.@ins_nyd_check == -1 && .@ins_nyd_check2 == -1) {
			if (!instance_check_party(.@party_id,2,70)) {
				mes "[Yggdrasil Gatekeeper]";
				mes "ผู้รับใช้คนอื่นๆ อยู่ที่ไหนเสียล่ะ? พวกเจ้าต้องร่วมมือกันนะ ข้าไม่สามารถอนุญาตให้ผู้รับใช้เข้าพบเป็นการส่วนตัวได้...";
				next;
				mes "[Yggdrasil Gatekeeper]";
				mes "จงพาผู้รับใช้มาด้วยอย่างน้อยอีก 1 คน... และเฉพาะหัวหน้าปาร์ตี้เท่านั้นที่สามารถขออนุญาตเข้าสู่ Nidhoggur's Nest ได้";
				next;
				mes "[Yggdrasil Gatekeeper]";
				mes "และขอแค่ตัวแทนของพวกเจ้าเพียงคนเดียวมาคุยกับข้าก็พอ อย่าทำให้ข้ารำคาญนักเลย...";
				close;
			}
			if (is_party_leader(.@party_id) == true) {
				mes "[Yggdrasil Gatekeeper]";
				mes "เหล่าผู้รับใช้ที่ซื่อสัตย์แห่งผู้พิทักษ์... มีอะไรให้ข้ารับใช้อย่างนั้นหรือ?";
				next;
				switch(select("กรุณาอนุญาตให้ข้าผ่านเข้าไป:ข้าต้องการเข้าไปด้านใน:ข้าต้องการออกไป")) {
				case 1:
					if (instance_create(.@md_name$) < 0) {
						mes "[Yggdrasil Gatekeeper]";
						mes "ดูเหมือนผู้พิทักษ์จะต้องการอยู่ตามลำพัง ข้าจะเข้าไปตรวจสอบดูสักหน่อย โปรดรออยู่ข้างนอกก่อน";
						close;
					}
					mes "[Yggdrasil Gatekeeper]";
					mes "ข้าได้บันทึกคำร้องของพวกเจ้าไว้แล้ว พร้อมจะเข้าไปข้างในหรือยัง?";
					next;
					mes "[Yggdrasil Gatekeeper]";
					mes "หากพวกเจ้าพร้อม ข้าจะเปิดทางให้เข้าไป";
					close;
				case 2:
					goto L_Enter;
				case 3:
					close;
				}
			}
			mes "[Yggdrasil Gatekeeper]";
			mes "หากดันเจี้ยนถูกสร้างขึ้นแล้ว เจ้าสามารถผ่านเข้าไปได้เลย";
			next;
			if(select("ข้าต้องการเข้าไปด้านใน:ข้าต้องการออกไป") == 2)
				close;
			goto L_Enter;
		} else {
			if (.@ins_nyd_check == 0 || .@ins_nyd_check == 1) {
				if (ins_nyd2 == 3 || ins_nyd2 == 4) {
					mes "[Yggdrasil Gatekeeper]";
					mes "เมื่อเงาของ Nidhoggur ถูกปราบลง รากของต้นไม้โลก Yggdrasil ก็ได้รับผลกระทบไปด้วย";
					next;
					mes "[Yggdrasil Gatekeeper]";
					mes "หลังจากเงาของ Nidhoggur หายไป ต้องใช้เวลาอย่างน้อย 3 วันเพื่อให้พลังงานกลับมาคงที่";
					close;
				}
				mes "[Yggdrasil Gatekeeper]";
				mes "หากดันเจี้ยนถูกสร้างขึ้นแล้ว เจ้าสามารถผ่านเข้าไปได้เลย";
				next;
				if(select("ข้าต้องการเข้าไปด้านใน:ข้าต้องการออกไป") == 2)
					close;
				goto L_Enter;
			} else if (.@ins_nyd_check == 2) {
				if (.@ins_nyd_check2 == 0 || .@ins_nyd_check2 == 1) {
					mes "[Yggdrasil Gatekeeper]";
					mes "ขีดจำกัดเวลาในการเข้าดันเจี้ยนหมดลงแล้ว เจ้าต้องรอให้ต้นไม้โลกฟื้นฟูพลังให้คงที่เสียก่อนจึงจะกลับเข้าไปใหม่ได้";
					close;
				} else if (.@ins_nyd_check2 == 2) {
					mes "[Yggdrasil Gatekeeper]";
					mes "ต้นไม้โลก Yggdrasil กลับมาคงที่แล้ว เจ้าต้องการจะเข้าไปใน Nidhoggur's Nest อีกครั้งหรือไม่?";
					next;
					mes "[Yggdrasil Gatekeeper]";
					mes "หากเจ้าต้องการเข้าอีกครั้ง โปรดลงทะเบียนกับข้า";
					erasequest 3135;
					erasequest 3136;
					set ins_nyd2,0;
					close;
				}
			}
		}
		close;
	} else {
		mes "ประตูหินขนาดมหึมาตั้งตระหง่านอยู่ตรงหน้าคุณ รูปสลักมังกรที่น่าสะพรึงกลัวกำลังสยายปีกที่ดูทรงพลังของมันออก";
		next;
		mes "ที่บริเวณฐานประตู หญิงสาวเผ่า Laphine ถูกสาปให้กลายเป็นหินและดูราวกับว่าเป็นส่วนหนึ่งของประตูบานยักษ์นี้";
		next;
		switch(select("ขยับเข้าไปดูใกล้ๆ อย่างระมัดระวัง:ถอยออกมา")) {
		case 1:
			specialeffect2 EF_HOLYHIT;
			pushpc 3,3;
			mes "พลังลึกลับบางอย่างขัดขวางไม่ให้คุณเข้าใกล้ ดูเหมือนว่าจะมีบางสิ่งที่แข็งแกร่งอยู่หลังประตูบานนี้...";
			next;
			mes "บางทีอาจมีความลับอันยิ่งใหญ่ซ่อนอยู่หลังประตูนี้ เกินกว่าที่ใครจะคาดคิด";
			close;
		case 2:
			close;
		}
	}
	close;

L_Enter:
	switch(instance_enter("Nidhoggur's Nest")) {
	case IE_OTHER:
		mes "[Yggdrasil Gatekeeper]";
		mes "เกิดข้อผิดพลาดที่ไม่ทราบสาเหตุ";
		close;
	case IE_NOINSTANCE:
		mes "[Yggdrasil Gatekeeper]";
		mes "เจ้ายังไม่ได้ขออนุญาตเข้าพบ... เจ้าต้องได้รับสิทธิ์เข้าพบคราวก่อนจึงจะผ่านไปได้";
		close;
	case IE_NOMEMBER:
		mes "[Yggdrasil Gatekeeper]";
		mes "ผู้รับใช้คนอื่นๆ อยู่ที่ไหนเสียล่ะ? พวกเจ้าต้องร่วมมือกันนะ ข้าไม่สามารถอนุญาตให้ผู้รับใช้เข้าพบเป็นการส่วนตัวได้...";
		close;
	case IE_OK:
		mapannounce "nyd_dun02", "สมาชิกปาร์ตี้ " + getpartyname(getcharid(1)) + " : คุณ " + strcharinfo(0) + " ได้เข้าสู่ Nidhoggur's Nest แล้ว", bc_map, "0x00ff99";
		if (checkquest(3135) == -1) setquest 3135;
		if (checkquest(3136) == -1) setquest 3136;
		//warp "1@nyd",32,36;
		close;
	}

OnTouch_:
	if (ins_nyd == 0) {
		specialeffect2 EF_CHANGECOLD;
		specialeffect EF_CHANGECOLD;
	}
	end;
}

mid_camp,271,299,3	script	Historian Magnifier#edq	755,3,3,{
	mes "[Historian Magniffer]";
	if (ins_nyd == 1) {
		mes "แน่นอนว่าบนแผ่นดินใหญ่มีเรื่องราวการผจญภัยที่น่าสนใจมากมาย... สวัสดีครับ ผมชื่อ Magnifier เป็นนักประวัติศาสตร์ที่ถูกส่งตัวมาจากสำนักพระราชวัง Prontera ครับ";
		next;
		mes "[Historian Magniffer]";
		mes "การหาอาชีพอื่นทำอาจจะเป็นงานที่มีเกียรติเหมือนกัน แต่มีเพียงนักประวัติศาสตร์เท่านั้นแหละที่จะได้รู้จักโลกใบนี้อย่างลึกซึ้ง...";
		next;
		mes "[Historian Magniffer]";
		mes "โลกนี้ถูกจัดระเบียบอย่างไร... และอนาคตจะเป็นไปในทิศทางไหน! ด้วยการศึกษาอดีตและปัจจุบัน พวกเราสามารถทำนายสิ่งที่จะเกิดขึ้นได้ครับ";
		next;
		mes "[Historian Magniffer]";
		mes "พวกเราคาดหวังในตัวคุณมากนะ นักผจญภัยผู้เชี่ยวชาญ ถ้าคุณพบเบาะแสอะไร... บอกผมได้ทันทีเลยนะครับ";
		close;
	} else if (ins_nyd == 2) {
		mes "ผู้บัญชาการ Agip อยากคุยกับผมงั้นเหรอ? ไหนลองฟังเรื่องของเขาหน่อยสิ";
		next;
		mes "[Historian Magniffer]";
		mes "คุณไปพบถ้ำที่พวกเผ่าแฟรี่นับถือว่าเป็นสถานที่ศักดิ์สิทธิ์มางั้นเหรอ? คุณนี่ฝีมือไม่เบาเลยนะ แล้วคุณไปเจออะไรมาบ้างล่ะ?";
		next;
		mes "[Historian Magnifier]";
		mes "...";
		next;
		mes "... ...";
		next;
		mes "[Historian Magnifier]";
		mes "เดี๋ยวนะ... ผมมีความคิดดีๆ แล้ว";
		next;
		mes "[Historian Magnifier]";
		mes "ไหนดูซิ... เล่มนี้... ไม่ใช่... เล่มนั้นเหรอ...? หืม... หรือจะเป็นเล่มนี้...";
		next;
		mes "[Historian Magnifier]";
		mes "...";
		next;
		mes "[Historian Magnifier]";
		mes "... ...";
		next;
		mes "[Historian Magnifier]";
		mes "โอ้ เจอแล้ว! ต้นไม้โลก Yggdrasil และเผ่าพันธุ์ของพระเจ้า... นี่คือหนังสือของพวกเขา!";
		next;
		mes "[Historian Magnifier]";
		mes "บางทีสิ่งที่คุณค้นพบอาจจะเป็นเส้นทางหลักในการเข้าไปสู่ใจกลางของต้นไม้โลก Yggdrasil ก็ได้นะ!";
		next;
		mes "[Historian Magnifier]";
		mes "ถ้าเป็นเรื่องจริง นี่คือการค้นพบที่ยิ่งใหญ่ที่สุดนับตั้งแต่เราค้นพบวิธีควบคุมมานาเลยนะ ไม่ตื่นเต้นเหรอครับ?";
		next;
		mes "[Historian Magnifier]";
		mes "แต่เราต้องการข้อมูลมากกว่านี้... พวกเขาปฏิเสธไม่ให้คุณเข้าใปงั้นเหรอ?";
		next;
		mes "[Historian Magnifier]";
		mes "ผมจะส่งข้อความไปหาผู้ช่วยของผมที่ประจำอยู่ที่ห้องสมุด Prontera คุณช่วยไปหาเธอเพื่อรวบรวมข้อมูลเพิ่มเติมหน่อยนะ";
		next;
		mes "[Historian Magnifier]";
		mes "ผมจะช่วยคุณหาทางเข้าไปในต้นไม้โลกโดยตรงให้ได้ เชื่อใจผมเถอะ! โอเคไหม~!!";
		set ins_nyd,3;
		close;
	} else if (ins_nyd == 3) {
		mes "มัวยืนรออะไรอยู่ล่ะครับ? รีบไปหาผู้ช่วยของผมที่ห้องสมุด Prontera ได้แล้ว!";
		close;
	} else if (ins_nyd == 4) {
		mes "กลับมาแล้วเหรอ... ดีมาก Naomi เป็นยังไงบ้าง? จริงๆ ผมก็ไม่ค่อยห่วงเธอหรอกนะ เธอเป็นคนร่าเริงตลอดเวลาอยู่แล้ว ฮ่าฮ่า";
		next;
		mes "[Historian Magnifier]";
		mes "ดูเหมือนคุณจะมีเรื่องให้คิดเยอะนะ... สีหน้าคุณเต็มไปด้วยความสงสัยและคำถามมากมายเลย";
		next;
		mes "[Historian Magnifier]";
		mes "แล้ว... คุณได้อ่านเรื่องราวทั้งหมดที่ผมเตรียมไว้ให้หรือยัง?";
		next;
		switch(select("ยังเลย:อ่านครบทุกเรื่องแล้ว")) {
		case 1:
			mes "[Historian Magnifier]";
			mes "โธ่เอ๋ย~ ผมอุตส่าห์เตรียมข้อมูลพวกนั้นไว้อย่างดี แต่คุณกลับไม่ยอมอ่านเลยงั้นเหรอ?";
			next;
			mes "[Historian Magnifier]";
			mes "คุณควรจะกลับไปอ่านให้ครบก่อนจะดีกว่านะ นั่นเป็นข้อมูลพื้นฐานที่สำคัญมากสำหรับสิ่งที่เราต้องทำต่อไปในอนาคต";
			close;
		case 2:
			mes "[Historian Magnifier]";
			mes "หืม ทำได้ดีมากครับ ถ้าอย่างนั้นผมคงไม่ต้องเช็คอะไรเพิ่มแล้วล่ะจริงไหม?";
			next;
			mes "[Historian Magnifier]";
			mes "ผมส่งคุณไปเพื่อสืบดูว่าต้องใช้ข้อมูลดิบอะไรบ้างสำหรับงานที่รอเราอยู่ คุณควรจะนำรายงานผลการวิจัยกลับมาด้วย...";
			next;
			mes "[Historian Magnifier]";
			mes "คุณอาจจะบ่นว่าทำไมผมไม่ไปเอามาเอง... นั่นเป็นเพราะผมเชื่อมั่นในความสามารถของคุณไงล่ะ อย่ามองข้ามเรื่องเล็กน้อยสิ";
			next;
			mes "[Historian Magnifier]";
			mes "แต่เมื่อไม่นานมานี้ ระหว่างที่คุณกำลังส่งรายงานจากผู้บัญชาการ Agip กลับไปยังแผ่นดินใหญ่ คุณทำรายงานพวกนั้นหายไป... จำได้ไหม?";
			next;
			mes "[Historian Magnifier]";
			mes "จนถึงตอนนี้ยังไม่มีร่องรอยอะไรเลย... หรือว่ามีใครบางคนลอบโจมตีคุณกันแน่?";
			next;
			mes "[Historian Magnifier]";
			mes "ยังไงซะความจริงก็ต้องปรากฏ แต่เราต้องระวังอย่าให้ชาวพื้นเมืองที่นั่นตกใจ ถ้าเราบุ่มบ่ามเข้าไปโดยที่พวกเขาไม่ทันตั้งตัว";
			next;
			mes "[Historian Magnifier]";
			mes "ผมพูดมากไปหน่อยแล้ว... เอาเป็นว่า อย่างที่คุณรู้จากรายงานของผม คุณได้ค้นพบสิ่งที่ยิ่งใหญ่เข้าให้แล้ว!";
			next;
			mes "[Historian Magnifier]";
			mes "อย่างแรก เราต้องหาข้อมูลเกี่ยวกับสถานที่นั้นให้มากกว่านี้ ผมคิดว่าเราทำได้ แต่... เราก็คงทำอะไรไม่ได้มากนักถ้าขาดความช่วยเหลือจากคนอื่น";
			next;
			mes "[Historian Magnifier]";
			mes "ผมได้ยินมาว่ามีคณะสำรวจของเหล่านักผจญภัยที่พยายามจะติดต่อกับเผ่าพันธุ์ต่างๆ ในช่วงนี้... คุณพอจะเคยได้ยินเรื่องนี้บ้างไหม?";
			next;
			mes "[Historian Magnifier]";
			mes "เอาเถอะ ลองพยายามติดต่อพวกเขาก่อน เพื่อความชัดเจนเกี่ยวกับถ้ำหรือสมบัติพวกนั้น";
			next;
			mes "[Historian Magnifier]";
			mes "สำหรับตอนนี้ คุณลองพยายามไปติดต่อเผ่า Sapha และ Laphine ดู แล้วลองเค้นข้อมูลจากพวกเขามาให้ได้";
			next;
			mes "[Historian Magnifier]";
			mes "ผมก็จะหาข้อมูลจากที่นี่ด้วยเหมือนกัน ถ้าเจออะไรคืบหน้า กลับมาบอกผมด้วยนะ";
			set ins_nyd,5;
			close;
		}
	} else if ((ins_nyd == 5) || (ins_nyd == 51) || (ins_nyd == 52)) {
		mes "โอเคครับ ลองพยายามติดต่อพวกเขาดูเป็นอย่างแรก เพื่อที่เราจะได้ข้อมูลที่ชัดเจนเกี่ยวกับถ้ำหรือสมบัติพวกนั้น";
		next;
		mes "[Historian Magnifier]";
		mes "ตอนนี้คุณไปลองติดต่อเผ่า Sapha และ Laphine เพื่อหาข้อมูลเพิ่มเติมก่อนนะครับ";
		next;
		mes "[Historian Magnifier]";
		mes "ผมจะคอยสืบอยู่ที่นี่เอง ถ้าได้เรื่องยังไง กลับมาแจ้งผมด้วยนะ";
		close;
	} else if ((ins_nyd == 61) || (ins_nyd == 62)) {
		mes "อา มาได้ถูกเวลาพอดีเลย ผมเจอสิ่งที่น่าสนใจระหว่างค้นหารายงานจาก Arunafeltz ล่ะ";
		next;
		mes "[Historian Magnifier]";
		mes "ตอนนี้ พวกเรากำลังยืนอยู่บนส่วนหนึ่งของรากต้นไม้โลก Yggdrasil ครับ";
		next;
		mes "[Historian Magnifier]";
		mes "จุดนี้เชื่อมต่อกับต้นไม้โลกผ่านทางราก ผมว่าเราอาจจะได้เห็นการเผชิญหน้ากันระหว่างเผ่า Sapha และ Laphine ที่นี่ในไม่ช้า คุณคิดเหมือนกันไหม?";
		next;
		mes "[Historian Magnifier]";
		mes "เป็นอย่างที่ผมคาดไว้จริงๆ ถ้ำนั้นคือทางเข้าที่เชื่อมไปยังหนึ่งในรากของ Yggdrasil...";
		next;
		mes "[Historian Magnifier]";
		mes "แล้วคุณล่ะ ได้เบาะแสอะไรเกี่ยวกับเผ่า Sapha และ Laphine บ้างไหม?";
		next;
		mes "...";
		next;
		mes "... ...";
		next;
		mes "[Historian Magnifier]";
		mes "ทั้งสองฝ่ายดูมีท่าทีที่กำกวมจัง... ผมเริ่มจะกังวลซะแล้วสิ...";
		next;
		mes "[Historian Magnifier]";
		mes "ผู้นำระดับสูงของทั้งสองเผ่าดูเหมือนจะมีปัญหากันอยู่ แม้จะยังไม่มีประกาศออกมาเป็นทางการก็เถอะ แต่ว่า...";
		next;
		mes "[Historian Magnifier]";
		mes "เราไปรายงานสถานการณ์จนถึงตอนนี้ให้ผู้บัญชาการ Agip ทราบกันก่อนเถอะ แล้วค่อยรอการตัดสินใจจากเขา";
		set ins_nyd,7;
		close;
	} else if ((ins_nyd == 7) || (ins_nyd == 8)) {
		mes "ไปรายงานเรื่องที่เราค้นพบให้ผู้บัญชาการ Hibba Agip ทราบก่อนครับ ทุกอย่างขึ้นอยู่กับการตัดสินใจของเขาแล้ว";
		close;
	} else if ((ins_nyd == 121) || (ins_nyd == 122) || (ins_nyd == 131) || (ins_nyd == 132) || (ins_nyd ==14)) {
		mes "ที่แท้เรื่องราวมันเป็นแบบนี้เองเหรอ... สิ่งที่เราสันนิษฐานไว้มีส่วนถูกอยู่บ้าง... สถานที่นั้นถูกเรียกว่า Guardian's Nest (รังของผู้พิทักษ์) สินะ";
		next;
		mes "[Historian Magnifier]";
		mes "วันนี้พวกเราได้รับความรู้มหาศาลเลยล่ะ แต่ว่า...";
		next;
		mes "[Historian Magnifier]";
		mes "สิ่งที่เราค้นพบในวันนี้... มันจะส่งผลกระทบต่อมนุษยชาติอย่างไรบ้างนะ? มันยากที่จะคาดเดาจริงๆ...";
		next;
		mes "[Historian Magnifier]";
		mes "แต่นี่เป็นเพียงจุดเริ่มต้นเท่านั้น... จากนี้ไปพวกเราคงจะยุ่งกันน่าดูเลยล่ะ";
		next;
		mes "[Historian Magnifier]";
		mes "ก่อนอื่น ไปรายงานให้ผู้บัญชาการ Agip ทราบก่อน แล้วค่อยทำตามสถานการณ์นะ ขอผมรวบรวมผลวิจัยที่ได้มาหน่อย...";
		close;
	} else {
		mes "แน่นอนว่าบนแผ่นดินใหญ่มีเรื่องราวการผจญภัยที่น่าสนใจมากมาย... สวัสดีครับ ผมชื่อ Magnifier เป็นนักประวัติศาสตร์ที่ถูกส่งตัวมาจากสำนักพระราชวัง Prontera ครับ";
		next;
		mes "[Historian Magniffer]";
		mes "การหาอาชีพอื่นทำอาจจะเป็นงานที่มีเกียรติเหมือนกัน แต่มีเพียงนักประวัติศาสตร์เท่านั้นแหละที่จะได้รู้จักโลกใบนี้อย่างลึกซึ้ง...";
		next;
		mes "[Historian Magniffer]";
		mes "โลกนี้ถูกจัดระเบียบอย่างไร... และอนาคตจะเป็นไปในทิศทางไหน! ด้วยการศึกษาอดีตและปัจจุบัน พวกเราสามารถทำนายสิ่งที่จะเกิดขึ้นได้ครับ";
		next;
		mes "[Historian Magniffer]";
		mes "พวกเราคาดหวังในตัวคุณมากนะ นักผจญภัยผู้เชี่ยวชาญ ถ้าคุณพบเบาะแสอะไร... บอกผมได้ทันทีเลยนะครับ";
		close;
	}
}

prt_in,171,94,3	script	Assistant Naomi#edq	893,3,3,{
	mes "[Assistant Naomi]";
	set .@name$,strcharinfo(0);
	if (ins_nyd == 3) {
		mes "ท่านด็อกเตอร์ไม่เคยคิดจะกลับมาบ้างเลยหรือไงนะ งานก็เยอะแยะไปหมด... ฉันคนเดียวจะทำไหวได้ยังไง...";
		next;
		mes "[Assistant Naomi]";
		mes "นี่คุณน่ะ ช่วยย้ายหนังสือพวกนี้หน่อยสิ เอาไปวางที่ชั้น 3 แถว B นะ";
		next;
		mes "["+.@name$+"]";
		mes "เอ่อ... คือว่า... ผม...";
		next;
		mes "[Assistant Naomi]";
		mes "ไม่เห็นหรือไงว่าฉันยุ่งอยู่น่ะ? อย่ามัวแต่ลังเล รีบทำเข้าเถอะ";
		next;
		switch(select("แกล้งทำเป็นยุ่งแล้วถอยออกมา:ช่วยเธอสักครั้งจะเป็นไรไป")) {
		case 1:
			mes "[Assistant Naomi]";
			mes "ตายแล้ว! อันนี้อยู่ไหนนะ? แล้วอันนั้นล่ะ? โธ่เอ๊ย! งานมันยากชะมัดเลย!";
			close;
		case 2:
			mes "[Assistant Naomi]";
			mes "อา... ถ้าคุณย้ายพวกนั้นเสร็จแล้ว เล่มพวกนี้ก็ต้องเอาไปไว้ที่ชั้น 3 แถว B เหมือนกันนะ";
			next;
			mes "["+.@name$+"]";
			mes "อ่า... เข้าใจแล้วครับ...";
			next;
			mes "[Assistant Naomi]";
			mes "เอาล่ะ เท่านี้ก็น่าจะเกือบเสร็จแล้ว... ว่าแต่คุณเป็นใครกันคะ? เป็นผู้ช่วยคนใหม่ที่ด็อกเตอร์ Magnifier ส่งมาเหรอ?";
			next;
			mes "["+.@name$+"]";
			mes "เขาขอให้ผมมาเอาเนื้อหารายงานบางอย่างน่ะครับ เขาไม่ได้บอกอะไรคุณไว้เลยเหรอ?";
			next;
			mes "[Assistant Naomi]";
			mes "หืม... ฉันไม่เจอหน้าเขามาปีกว่าแล้วนะ! ตอนนี้เขาไปทำอะไรอยู่ที่ไหนกันล่ะนั่น?";
			next;
			mes "["+.@name$+"]";
			mes "เขาบอกว่าจะส่งข้อความมาหาคุณ... คุณยังไม่ได้รับมันเหรอครับ?";
			next;
			mes "[Assistant Naomi]";
			mes "ข้อความเหรอ? ...ไหนดูซิ... ฉันไม่คิดว่าเขาจะเขียนข้อความมาหาเลยนะเนี่ย...";
			next;
			mes "[Assistant Naomi]";
			mes "เดี๋ยวฉันจะไปเช็คตู้จดหมายดูสักหน่อย รอแป๊บนะ ถ้าเบื่อก็ลองอ่านหนังสือพวกนั้นดูสิ";
			next;
			mes "...";
			next;
			mes "... ...";
			next;
			mes "ที่นี่ดูวุ่นวายมากเพราะมีกองหนังสือและเอกสารวางทับถมกันเต็มไปหมด ดูเหมือนด็อกเตอร์ Magnifier จะมีรายงานเยอะมหาศาลเลยล่ะ";
			next;
			mes "["+.@name$+"]";
			mes "'กำเนิดโลก', 'เรื่องเล่าตำนานโอดิน', 'ศึกเทพเจ้าและผลลัพธ์หลังสงคราม', 'ความฝันของเหล่าชนเผ่า' มีหนังสือหลากหลายประเภทเลยแฮะ...";
			next;
			mes "...";
			next;
			mes "[Assistant Naomi]";
			mes "โอ้ ขอโทษทีที่ให้รอนานนะคะ จดหมายมันเยอะมากน่ะ ฉันเลยต้องใช้เวลาหาอยู่พักใหญ่";
			next;
			mes "[Assistant Naomi]";
			mes "เขาส่งจดหมายมาหาฉันตั้ง 20 กว่าฉบับแน่ะ ฉันไม่เคยรู้เลยนะเนี่ย...";
			next;
			mes "[Assistant Naomi]";
			mes "อา เจอแล้ว นี่คือข้อความที่เกี่ยวกับคุณ เขาบอกให้แชร์ข้อมูลการวิจัยและรายงานต่างๆ ให้คุณทราบได้";
			next;
			mes "["+.@name$+"]";
			mes "ด็อกเตอร์เขาเชี่ยวชาญด้านไหนเป็นพิเศษเหรอครับ?";
			next;
			mes "[Assistant Naomi]";
			mes "ตั้งแต่ 5 ปีก่อน เขาสงสัยเรื่องจุดเริ่มต้นของโลกใบนี้ ก็เลยเริ่มออกตามหาข้อมูลเกี่ยวกับพระเจ้าผู้สร้างโลกน่ะค่ะ";
			next;
			mes "[Assistant Naomi]";
			mes "เขาวิจัยเกี่ยวกับการต่อสู้ระหว่างโอดินกับเหล่าเทพ รวมถึงต้นกำเนิดและชีวิตของพระเจ้าด้วย";
			next;
			mes "["+.@name$+"]";
			mes "ถ้าอย่างนั้น เขาก็รู้อยู่แล้วสิครับว่าการคืนชีพของ Satan Morocc จะเกิดขึ้น?";
			next;
			mes "[Assistant Naomi]";
			mes "ฉันก็ไม่แน่ใจนะ แต่เขาคิดว่าสักวันมันจะต้องเกิดขึ้นแน่ แค่มันอุบัติขึ้นเร็วกว่าที่เขาคาดไว้เท่านั้นเอง";
			next;
			mes "["+.@name$+"]";
			mes "แล้วอาณาจักร Rune-Midgarts อนุมัติการวิจัยแบบนี้ด้วยเหรอครับ?";
			next;
			mes "[Assistant Naomi]";
			mes "วิชาการของพวกเราไม่ใช่ศาสนาค่ะ และทางอาณาจักรเองก็มีความอยากรู้อยากเห็นเกี่ยวกับประวัติศาสตร์ของโลกนี้เหมือนกัน";
			next;
			mes "[Assistant Naomi]";
			mes "ทั้งเรื่องการต่อสู้ระหว่างโอดินกับเทพเจ้า ลูกหลานของเทพ และจุดประสงค์ของพวกเขา... ด็อกเตอร์ทุ่มเททั้งชีวิตเพื่อวิจัยเรื่องนี้เลยล่ะค่ะ";
			next;
			mes "["+.@name$+"]";
			mes "แต่รายงานพวกนั้นยังไม่ได้ถูกเผยแพร่ออกไปใช่ไหมครับ?";
			next;
			mes "[Assistant Naomi]";
			mes "นั่นแหละคือเหตุผลที่เขาบอกให้คุณมาที่นี่ไงคะ อีกอย่าง นี่ไม่ใช่ครั้งแรกที่ฉันได้ยินเรื่องพวกนี้หรอกนะ";
			next;
			mes "[Assistant Naomi]";
			mes "หลังจากการสถาปนาอาณาจักร Rune-Midgarts และ Arunafeltz ข่าวลือเรื่องชนเผ่าและตำนานต่างๆ ก็ถูกแพร่กระจายไปอย่างลับๆ มาตลอด";
			next;
			mes "[Assistant Naomi]";
			mes "เอาเป็นว่า คุณควรอ่านหนังสือพวกนี้ให้ครบนะคะ ส่วนฉันก็จะไปทำงานของฉันต่อ";
			next;
			mes "["+.@name$+"]";
			mes "ผมไม่ต้องช่วยเรียงหนังสือพวกนี้เข้าชั้นต่อเหรอครับ?";
			next;
			mes "[Assistant Naomi]";
			mes "ด็อกเตอร์บอกว่าเขาจะให้คนอื่นมาเก็บหนังสือพวกนี้ไปเองค่ะ อีกอย่าง คุณไม่ได้ต้องการข้อมูลพื้นฐานเพื่อไปทำงานต่อหรอกเหรอ?";
			next;
			mes "[Assistant Naomi]";
			mes "ก่อนที่คุณจะกลับไปหาด็อกเตอร์ คุณควรอ่านหนังสือเหล่านี้ให้เข้าใจเสียก่อนนะ ถ้าอย่างนั้นฉันขอตัวไปทำงานต่อนะคะ";
			set ins_nyd,4;
			close;
		}
	} else if (ins_nyd == 4) {
		mes "ลองเปิดดูหนังสือรอบๆ เพื่อหาข้อมูลที่คุณสนใจ";
		next;
		switch(select("บันทึกการค้นพบสิ่งประหลาด:รายงานเกี่ยวกับชนเผ่าพื้นเมือง")) {
		case 1:
			mes "เป็นที่ทราบกันดีว่า Satan Morocc ไม่ได้คืนชีพขึ้นมาด้วยพลังของตัวเองอย่างปกติ";
			next;
			mes "เหล่าเหล่านักผจญภัยจาก Rune-Midgarts ได้เข้าโจมตีเขาอย่างต่อเนื่อง ทำให้เขาสูญเสียพลังไปทีละน้อย และต้องใช้เวลามากขึ้นในการคืนชีพอย่างสมบูรณ์";
			next;
			mes "Satan Morocc หยุดการทำลายล้างเมือง Morocc และเปลี่ยนมันให้กลายเป็นทะเลทรายที่รกร้าง ก่อนจะเริ่มฉีกมิติของโลกออกเป็นเสี่ยงๆ";
			next;
			mes "Satan Morocc กังวลเรื่องผู้ที่จะติดตามเขามา จึงสร้างร่างแยก (Morocc clones) ขึ้นมาเพื่อคอยเฝ้าจับตาดูอยู่เบื้องหลัง";
			next;
			mes "ด้วยรูปลักษณ์ที่จำลองมาจาก Morocc ทำให้การสัญจรผ่านรอยแยกแห่งกาลเวลาและอวกาศเป็นเรื่องยากลำบาก";
			next;
			mes "แต่นักผจญภัยก็ยังไม่ลดละความพยายาม พวกเขามาจากทั่วทุกมุมโลกเพื่อเข้าใกล้ Dimensional Gorge (หุบเขาต่างมิติ)";
			next;
			mes "รายงานของนักผจญภัยเหล่านี้ถูกส่งไปยังตัวแทนของทุกอาณาจักร จนนำไปสู่การก่อตั้งทีมสำรวจเพื่อหาข้อมูลเพิ่มเติม";
			next;
			mes "เหล่านักวิทยาศาสตร์แห่งสาธารณรัฐ Schwarzwald ได้สร้างโลหะผสมชนิดใหม่ โดยใช้เศษโลหะที่พบในหุบเขาต่างมิติ";
			next;
			mes "Schwarzwald ได้ยื่นขออนุมัติเพื่อค้นหาแหล่งกำเนิดของโลหะชนิดใหม่นี้ และเนื่องจาก Rune-Midgarts ไม่สามารถวิจัยได้เองเพียงลำพัง ในที่สุดพวกเขาก็ยอมตกลง";
			next;
			mes "พวกเขาได้ร่วมมือกันรวบรวมอาสาสมัคร โดยสมาคม Assassin Guild เป็นกลุ่มแรกที่อาสาเข้ามา";
			next;
			mes "เหล่าแอสซาสซินมีอดีตที่เลวร้ายกับ Satan Morocc พวกเขาจึงรวบรวมสมาชิก 18 คนเพื่อออกตามล่ามัน";
			next;
			mes "ประมาณ 3 ชั่วโมงต่อมา สมาชิกทั้ง 18 คนกลับออกมาอย่างปลอดภัย และทุกคนได้แบ่งปันข้อมูลที่รวบรวมมาได้";
			next;
			mes "พวกเขาค้นพบโลกอีกใบที่มีสภาพแวดล้อมและธรรมชาติที่แตกต่างจากโลกเราอย่างสิ้นเชิง และที่สำคัญคือ มนุษย์สามารถอาศัยอยู่ที่นั่นได้";
			next;
			mes "สิ่งที่น่าตกใจที่สุดคือการไหลของเวลา แอสซาสซินทั้ง 18 คนอาศัยอยู่ที่นั่นประมาณ 2 สัปดาห์ แต่พวกเขากลับออกมาภายในเวลาเพียง 3 ชั่วโมงหลังจากเดินทางไป";
			next;
			mes "บททดสอบสุดท้าย... คือการส่งนักผจญภัยอาสาสมัครเข้าไปสำรวจโลกใหม่อย่างเป็นทางการ";
			next;
			mes "มีผู้สมัครเข้ามาอย่างล้นหลาม อาสาสมัครจำนวนมากหายเข้าไปในรอยแยกต่างมิติ และพวกเขาก็นำข้อมูลใหม่ๆ กลับมา";
			next;
			mes "โลกใหม่มีระบบนิเวศที่แตกต่างกันโดยสิ้นเชิง 3 รูปแบบ ขึ้นอยู่กับเผ่าพันธุ์ที่อาศัยอยู่ที่นั่น";
			next;
			mes "ปรากฏการณ์ที่แตกต่างกันเหล่านี้จำเป็นต้องได้รับการศึกษาอย่างละเอียดถี่ถ้วน เพื่อทำความเข้าใจความสัมพันธ์ระหว่างโลกของพวกเขาและโลกของเรา";
			next;
			mes "ในเวลาที่ใครต่อใครคิดว่าเป็นไปไม่ได้ที่จะเดินทางไปยังโลกอื่น หน้าแรกของบทประวัติศาสตร์ใหม่ก็ได้ถูกเปิดขึ้นแล้ว";
			close;
		case 2:
			mes "กาลครั้งหนึ่งนานมาแล้ว เมื่อโลกยังไม่มีดวงอาทิตย์ ดวงจันทร์ หรือดวงดาว มีเพียงความว่างเปล่า... และ Ymir ก็ได้ถือกำเนิดขึ้น จากนั้น Ymir ก็เติบโตขึ้นจากการสร้างบุตรชาย";
			next;
			mes "แต่ทว่า บุตรของเขาก็เติบโตขึ้นเช่นกัน และสุดท้ายเขาก็ถูกสังหารโดย Odin, Vili และ Ve สามพี่น้องเทพเจ้าที่ร่วมมือกันโจมตีจากหลายด้าน";
			next;
			mes "ในช่วงเวลาที่ Ymir สิ้นชีพ เลือดของเขาได้ไหลบ่าท่วมท้นไปทั่วโลก... สังหารทุกสรรพสิ่งที่มีชีวิตที่ขวางทาง";
			next;
			mes "มีเพียง Hvergelmir แห่งเผ่า Sapha เท่านั้นที่รอดพ้นจากอุทกภัยเลือดครั้งนั้นมาได้ และเขาได้สาบานว่าจะล้างแค้นใน Jotunheim ดินแดนที่ปกคลุมด้วยหิมะและหมอก";
			next;
			mes "ในปัจจุบัน ได้มีการค้นพบสมาชิกของเผ่า Sapha จากดินแดนที่อยู่ไกลออกไปจากหุบเขาต่างมิติ";
			next;
			mes "นอกจากเผ่า Sapha แล้ว ยังมีอีกเผ่าหนึ่งที่อาศัยอยู่อีกฟากของรอยแยกกาลเวลาและอวกาศ ซึ่งเป็นที่รู้จักในนาม Laphine";
			next;
			mes "เหล่าเผ่า Laphine ได้รวมตัวกันเพื่อออกสำรวจรอยแยกมิติ เพื่อหาสาเหตุของอาการผิดปกติที่เกิดขึ้นกับต้นไม้โลก และอาจจะเพื่อหาวิธีรักษาด้วย";
			next;
			mes "เผ่า Laphine ได้รับหน้าที่ในการดูแลรักษา Yggdrasil พวกเขาสร้างดินแดนใกล้กับ Asgard และคอยปกป้องสมดุลของพลังเวทมนตร์แห่งต้นไม้โลก";
			next;
			mes "เผ่า Laphine ไม่เคยติดต่อกับใครภายนอก Asgard เลย แต่เนื่องจากพวกเขาพบว่าพลังของ Yggdrasil กำลังอ่อนแอลง...";
			next;
			mes "พวกเขาจึงประกาศว่าจะเข้าร่วมประชุมกับสภาสูงเป็นครั้งแรกในรอบ 1,000 ปีของมนุษย์ นับตั้งแต่สิ้นสุดสงครามระหว่างเทพเจ้าและผู้วิเศษ";
			close;
		}
	} else {
		mes "ท่านด็อกเตอร์ไม่เคยคิดจะกลับมาบ้างเลยหรือไงนะ งานก็เยอะแยะไปหมด... ฉันคนเดียวจะทำไหวได้ยังไง...";
		next;
		mes "[Assistant Naomi]";
		mes "ไม่เห็นเหรอว่าฉันยุ่งอยู่น่ะ? อย่ามัวแต่ยืนเกะกะ ไปได้แล้วค่ะ!";
		close;
	}
}

splendide,198,178,3	script	Grumbling Soldier#edq	447,3,3,{
	mes "[Grumbling Soldier]";
	// ตรวจสอบว่าใส่เครื่องแปลภาษา (Ring of the Wise King) หรือไม่
	if (isequipped(2782) == 1) {
		mes "ช่วงนี้โลกช่างวุ่นวายไม่หยุดหย่อนเลยนะ แม้แต่จะบินไปไหนมาไหนให้สบายใจก็ยังทำไม่ได้เลย";
		next;
		if (ins_nyd == 5) {
			switch(select("ถ้ำทางทิศเหนือมีอะไรอย่างนั้นเหรอ?:พวกเผ่า Sapha คือใครกัน?:อืม... ไว้เราค่อยคุยกันใหม่นะ")) {
			case 1:
				mes "[Grumbling Soldier]";
				mes "อะไรนะ? ถ้าคุณขืนเดินสุ่มสี่สุ่มห้าเข้าไปแถวนั้นล่ะก็... ได้แบกร่างสะบักสะบอมกลับมาแน่";
				next;
				mes "[Grumbling Soldier]";
				mes "ผมเองก็อธิบายไม่ถูกเหมือนกันว่ามันคืออะไร แต่มันให้ความรู้สึกที่ไม่ค่อยดีเอาซะเลย แถมที่นั่นยังมีพวกมอนสเตอร์ที่น่ากลัวเต็มไปหมดด้วย";
				next;
				mes "[Grumbling Soldier]";
				mes "พวกมันกระซิบกระซาบกันเรื่องบางอย่าง... เหมือนมีอะไรบางอย่างอยู่ที่นั่น... แต่ช่างเถอะ ผมไม่สนใจหรอก...";
				next;
				mes "[Grumbling Soldier]";
				mes "อาจจะเป็นไปได้ว่า... พวกเผ่า Sapha เคยขุดถ้ำนั่นมาก่อนล่ะมั้ง... พวกนั้นน่ะถนัดเรื่องการขุดเจาะเป็นพิเศษอยู่แล้วนี่";
				set ins_nyd,51;
				close;
			case 2:
				mes "[Grumbling Soldier]";
				mes "โอ้! ก็เพราะพวกเขานั่นแหละที่ทำให้เราต้องมาติดแหง็กอยู่ในเมืองที่ทั้งลึกลับและอับชื้นแบบนี้มานานกว่าร้อยปีแล้ว!";
				next;
				mes "[Grumbling Soldier]";
				mes "พวกนั้นไม่เคยสนหรอกว่าต้นไม้โลก Yggdrasil จะเกิดปัญหาขึ้นหรือไม่";
				next;
				mes "[Grumbling Soldier]";
				mes "พวกนั้นน่ะเต็มไปด้วยความคิดแย่ๆ... พวกเขานั่นแหละที่เป็นคนทำลายรากของ Yggdrasil";
				next;
				mes "[Grumbling Soldier]";
				mes "พวกเรามาอยู่ที่นี่ก็เพื่อจับตาดูไม่ให้พวก Sapha ทำให้สถานการณ์มันเลวร้ายไปมากกว่านี้ยังไงล่ะ";
				close;
			case 3:
				close;
			}
		} else {
			mes "[Grumbling Soldier]";
			mes "ช่วงนี้โลกช่างวุ่นวายไม่หยุดหย่อนเลยนะ แม้แต่จะบินไปไหนมาไหนให้สบายใจก็ยังทำไม่ได้เลย";
			next;
			mes "[Grumbling Soldier]";
			mes "คุณจะไปคาดหวังอะไรได้ล่ะ ในเมื่อพวกยักษ์จาก Manuk เริ่มขุดเจาะพื้นโลกเพื่อทำลายต้นไม้โลก Yggdrasil แบบนั้น...";
			next;
			mes "[Grumbling Soldier]";
			mes "และที่แย่ที่สุดก็คือ... มีพวกตัวประหลาดๆ มาเดินป้วนเปี้ยนอยู่ตามถนนในเมืองเต็มไปหมด...";
			next;
			mes "[Grumbling Soldier]";
			mes "ใช่ ผมหมายถึงคุณนั่นแหละ... คุณคิดยังไงกับวิธีที่รัฐบาลจัดการกับเรื่องนี้กันล่ะ...?";
			next;
			mes "[Grumbling Soldier]";
			mes "แม้ว่าพวกเขาจะไม่ได้สนใจประวัติที่ผ่านมาของคุณ แต่คุณเองก็ควรจะระวังตัวไว้ให้ดีนะ...";
			close;
		}
	} else {
		// เมื่อไม่ได้ใส่แหวน Ring of the Wise King จะฟังเป็นภาษาเผ่า Laphine
		mes "SeLarsmar Di marThusVil U SeMushVohl";
		close;
	}
}

splendide,240,164,3	script	Sighing Soldier#edq	461,3,3,{
	mes "[Sighing Soldier]";
	// ตรวจสอบว่าใส่เครื่องแปลภาษา (Ring of the Wise King) หรือไม่
	if (isequipped(2782) == 1) {
		mes "เมื่อไหร่การสู้รบกับพวก Sapha นี่จะจบลงสักทีนะ... เฮ้ออออ...";
		next;
		if (ins_nyd == 5) {
			switch(select("ถ้ำทางทิศเหนือมีอะไรอย่างนั้นเหรอ?:พวกเผ่า Sapha คือใครกัน?:อืม... ไว้เราค่อยคุยกันใหม่นะ")) {
			case 1:
				mes "[Sighing Soldier]";
				mes "คือ... ผมเองก็ไม่แน่ใจนักหรอกครับ แต่พวกเรามักจะเลี่ยงไม่ไปแถวๆ นั้นกันน่ะ";
				next;
				mes "[Sighing Soldier]";
				mes "บางครั้งพวกนักวิจัยที่ถูกส่งมาก็ชอบไปด้อมๆ มองๆ แถวนั้น... ผมรู้สึกแย่จังที่มันไม่มีอะไรให้ดูเลย... โดยไม่มีเหตุผลด้วย...";
				next;
				mes "[Sighing Soldier]";
				mes "แต่พวกผู้บัญชาการมั่นใจมากเลยล่ะว่ามีบางอย่างซ่อนอยู่ในนั้น";
				next;
				mes "[Sighing Soldier]";
				mes "พวกเราไม่รู้ว่ามอนสเตอร์ที่นั่นแข็งแกร่งแค่ไหน ก็เลยไม่เคยเข้าไปตรวจสอบกันจริงๆ จังๆ แต่ถ้าถามความเห็นส่วนตัวล่ะก็... ไม่มีใครอยากไปที่นั่นหรอกครับ...";
				set ins_nyd,51;
				close;
			case 2:
				mes "[Sighing Soldier]";
				mes "ผมไม่รู้ว่าคนอื่นคิดยังไงนะ... แต่พวกเรามีปัญหาเรื่องทัศนคติที่มีต่อเผ่า Sapha อยู่เหมือนกัน";
				next;
				mes "[Sighing Soldier]";
				mes "พวกเราไม่ได้พยายามจะแก้ปัญหาด้วยการเจรจา แต่ดันเลือกที่จะเปิดฉากโจมตีพวกเขาก่อน";
				next;
				mes "[Sighing Soldier]";
				mes "บางทีนะ... พวกผู้บัญชาการของเราอาจจะแค่ไม่อยากยอมรับเผ่าพันธุ์อื่นที่แตกต่างจากเราก็ได้...";
				next;
				mes "[Sighing Soldier]";
				mes "อย่าเข้าใจผิดนะ... ช่วงนี้พวกเรามีการพูดถึงเผ่าพันธุ์ของคุณอยู่เหมือนกัน และพวกผู้บัญชาการก็รู้สึกขอบคุณพวกคุณมากครับ";
				next;
				mes "[Sighing Soldier]";
				mes "ยังไงซะ... ผมก็แค่รู้สึกเหนื่อยหน่ายกับสถานการณ์ที่ไร้ความหมายและตึงเครียดแบบนี้เหลือเกิน... เฮ้อ";
				close;
			case 3:
				close;
			}
		} else {
			mes "[Sighing Soldier]";
			mes "เมื่อไหร่การสู้รบกับพวก Sapha นี่จะจบลงสักทีนะ... เฮ้ออออ...";
			next;
			mes "[Sighing Soldier]";
			mes "พูดตรงๆ นะ ผมไม่เคยคิดว่าคุณหรือพวก Sapha เป็นศัตรูของเราเลยสักนิด... (ถอนหายใจ)...";
			next;
			mes "[Sighing Soldier]";
			mes "มันไม่มีวิธีคลี่คลายเรื่องนี้ด้วยการพูดคุยกันเลยเหรอ? การสู้รบที่เปล่าประโยชน์เนี่ยมันไม่มีความหมายเอาซะเลย! ให้ตายสิ";
			close;
		}
	} else {
		// ภาษาเผ่า Laphine เมื่อไม่ใส่แหวน
		mes "VohlLarsmar Ha DielCyatas";
		close;
	}
}

spl_in01,109,60,3	script	Commander Lebiordirr#edq	435,3,3,{
	mes "[Commander Lebiordirr]";
	if (isequipped(2782) == 1) {
		if (ins_nyd == 51) {
			mes "คุณคือ...? คนที่เที่ยวเดินไล่ถามข้อมูลจากพวกทหารของฉันอย่างนั้นเหรอ...?";
			next;
			mes "[Commander Lebiordirr]";
			mes "คุณควรจะระวังตัวไว้หน่อยนะ เผ่าพันธุ์ของเราให้เกียรติในตัวตนของพวกคุณมนุษย์มาตลอด แต่ว่า...";
			next;
			mes "[Commander Lebiordirr]";
			mes "การที่ฉันยอมให้คุณเข้ามาที่นี่ถือว่าฉันแบกรับความเสี่ยงไว้มากพอแล้ว ดังนั้นจงสำรวมไว้ด้วย";
			next;
			mes "[Commander Lebiordirr]";
			mes "อย่าทำตัวให้เป็นจุดสนใจนัก เพราะมันจะทำให้เผ่าพันธุ์ของคุณดูแย่ในสายตาพวกเรา";
			next;
			mes "[Commander Lebiordirr]";
			mes "เอาล่ะ เราไม่มีเรื่องอะไรต้องคุยกันมากไปกว่านี้ กลับไปในที่ที่คุณมาซะ";
			next;
			mes "[Commander Lebiordirr]";
			mes "นอกจากว่า... คุณจะมีข้อความอะไรจะบอกฉันงั้นเหรอ? หน้าตาคุณมันฟ้องแบบนั้นนะ...";
			next;
			if(select("เปล่าครับ ไม่มีอะไร ไว้ค่อยคุยกันใหม่:ฉันตั้งใจจะอยู่ที่นี่ ด้วยเหตุผลที่จำเป็น")==1) close;
			mes "[Splendide Guard]";
			mes "ท่านครับ ให้ผมลากตัวเจ้าตัวก่อกวนนี่ออกไปเลยไหมครับ?";
			next;
			mes "[Commander Lebiordirr]";
			mes "ไม่ต้อง... ลองฟังคำอธิบายดูก่อนสิ ว่าไงล่ะ? ถ้าคุณต้องการ...";
			next;
			mes "[Commander Lebiordirr]";
			mes "ฉันพอจะรู้อยู่บ้างว่าช่วงนี้กาลเวลามันเริ่มวิปริต... คุณคงมาที่นี่เพื่อหาทางแก้ไขล่ะสิ ใช่ไหม?";
			next;
			mes "[Commander Lebiordirr]";
			mes "เผ่าพันธุ์ของเราให้เกียรติพวกคุณ ดังนั้นจงลืมเรื่องการสืบค้นหรือสำรวจแถวนี้ไปซะเถอะ";
			next;
			mes "[Commander Lebiordirr]";
			mes "ฉันได้ยินมาว่าพวกคุณต้องการจะหาขุมทรัพย์ในถ้ำที่ถูกปิดตายทางทิศเหนือนั่น";
			next;
			mes "[Commander Lebiordirr]";
			mes "สถานที่นั้นถูกสั่งห้ามเข้าโดยคำสั่งของเผ่า Laphine ใครก็ตามไม่สามารถเข้าไปได้หากไม่ได้รับอนุญาต";
			next;
			mes "[Commander Lebiordirr]";
			mes "ถ้าคุณทำตามกฎนี้ไม่ได้ ฉันจะยุติความสัมพันธ์กับคุณ และสั่งแบนพรรคพวกของคุณทุกคนจากที่นี่";
			next;
			mes "[Commander Lebiordirr]";
			mes "ลำพังความสัมพันธ์กับพวก Sapha ก็ยังไม่มั่นคงพออยู่แล้ว เราไม่มีเวลามานั่งกังวลเรื่องคนนอกหรอกนะ";
			next;
			mes "[Commander Lebiordirr]";
			mes "เอาล่ะ ถ้าคุณเข้าใจแล้ว ก็ไปบอกพรรคพวกของคุณซะ";
			set ins_nyd,61;
			close;
		} else if (ins_nyd == 61) {
			mes "ถ้าคุณทำตามกฎนี้ไม่ได้ ฉันจะยุติความสัมพันธ์กับคุณ และสั่งแบนพรรคพวกของคุณทุกคนจากที่นี่";
			next;
			mes "[Commander Lebiordirr]";
			mes "เราไม่มีเวลามานั่งกังวลเรื่องคนนอกหรอกนะ";
			next;
			mes "[Commander Lebiordirr]";
			mes "ถ้าเข้าใจแล้ว ก็ไปแจ้งเพื่อนๆ ของคุณซะ";
			close;
		} else if (ins_nyd == 81) {
			mes "กลับมาทำไมอีก คนนอก?";
			next;
			select("มาเพื่อขอพวก Laphine เรื่องการสำรวจ...");
			mes "[Commander Lebiordirr]";
			mes "สำรวจอะไร? คิดคำพูดให้ดีๆ นะ?";
			next;
			mes "[Commander Lebiordirr]";
			mes "นี่เราคุยกันไม่รู้เรื่องเหรอ? คุณต้องการอะไรกันแน่?";
			next;
			select("ฉันจำเป็นต้องสำรวจถ้ำนั่น");
			mes "[Commander Lebiordirr]";
			mes "นั่นหมายความว่า... คุณจะเมินเฉยต่อคำเตือนของฉันงั้นเหรอ? นี่เป็นการตัดสินใจของคุณเอง หรือคุณแค่ทำตามคำสั่ง?";
			next;
			select("ฉันแค่ทำตามคำสั่ง");
			mes "[Commander Lebiordirr]";
			mes "นี่คุณตั้งใจจะดูหมิ่นฉันใช่ไหม คนนอก?";
			next;
			mes "[Commander Lebiordirr]";
			mes "ทำไมถึงอยากสำรวจนัก? มันควรจะมีเหตุผลที่ดีมากๆ นะ";
			next;
			select("มันเกี่ยวกับรายงานของด็อกเตอร์ Magnifier...");
			mes "[Commander Lebiordirr]";
			mes "แล้ว... ทำไมฉันต้องไปใส่ใจรายงานของคนนอกด้วยล่ะ?";
			next;
			mes "[Commander Lebiordirr]";
			mes "การปกป้อง Yggdrasil! นั่นคือโชคชะตาของ Laphine แล้วคุณล่ะ กล้าพูดแบบนั้นเกี่ยวกับตัวเองไหม?";
			next;
			mes "[Commander Lebiordirr]";
			mes "คุณมีหลักฐานอะไรไหมว่าคุณเกิดมาพร้อมกับพรของ Odin และ Yggdrasil?";
			next;
			mes "[Commander Lebiordirr]";
			mes "ฉันไม่ควรพูดอะไรมากกว่านี้แล้ว อย่าหาว่าฉันหยาบคายเลยนะ แต่กรุณาออกไปได้แล้ว!";
			next;
			select("ถ้าอย่างนั้น ฉันจะไปขอให้พวก Sapha ช่วยแทน");
			mes "[Commander Lebiordirr]";
			mes "คุณพูดเรื่องอะไรน่ะ คนนอก?";
			next;
			mes "[Splendide Guard]";
			mes "ท่านครับ ให้ผมจัดการคนนอกที่ไร้มารยาทคนนี้เลยไหมครับ?";
			next;
			mes "[Commander Lebiordirr]";
			mes "เดี๋ยว... รอก่อน... พวก Sapha รู้จักความหมายของสถานที่แห่งนั้นด้วยเหรอ? คุณไปขอความร่วมมือกับพวกนั้นมางั้นเหรอ?";
			next;
			mes "[Commander Lebiordirr]";
			mes "อา... เจ้าเล่ห์นักนะ... นี่คุณกำลังลองเชิงพวกเราอยู่ใช่ไหม?";
			next;
			mes "[Splendide Guard]";
			mes "ใจเย็นก่อนครับท่าน เดี๋ยวผมจะจับเจ้าคนนอกนี่โยนเข้าคุกเอง";
			next;
			mes "[Commander Lebiordirr]";
			mes "ไม่... ไม่ เดี๋ยวก่อน ตกลง ฉันจะยอมรับก็ได้ ฉันอนุญาตให้คุณเข้าไปใน Holy Sekos (วิหารศักดิ์สิทธิ์)";
			next;
			mes "[Commander Lebiordirr]";
			mes "ก็ได้ หากคุณเป็นผู้รับใช้ของ Yggdrasil อย่างที่กล่าวอ้าง ฉันจะยอมให้คุณเข้าไป แต่ฉันจะไม่รับผิดชอบต่อการกระทำของคุณนะ";
			next;
			mes "[Commander Lebiordirr]";
			mes "และจงจำไว้ว่า ถ้าคุณพบอะไรที่ไม่ชอบมาพากลข้างในนั้น คุณต้องแบ่งปันข้อมูลนั้นกับพวกเราด้วย!";
			next;
			select("แน่นอนอยู่แล้ว!");
			mes "[Commander Lebiordirr]";
			mes "เอาล่ะ... ในเมื่อฉันตกลงอนุญาตให้คุณสำรวจแล้ว... Arioss ช่วยพวกเขาหน่อย และนำผลลัพธ์กลับมาแจ้งด้วย";
			next;
			mes "[Aide Arioss]";
			mes "ท่านครับ... แน่ใจแล้วเหรอครับ? นี่มันคือการรุกล้ำ Holy Sekos นะครับ...";
			next;
			mes "[Commander Lebiordirr]";
			mes "คำว่ารุกล้ำมันรุนแรงไป ฉันอนุญาตให้พวกเขาเข้าไปเอง ให้พวกเขาเข้าไปยังดีกว่าให้พวกยักษ์โสโครกนั่นเข้าถึง บางทีนี่อาจจะช่วยชีวิตพวกเราไว้ก็ได้...";
			next;
			mes "[Commander Lebiordirr]";
			mes "นี่ คนนอก Arioss จะเป็นคนอธิบายสถานการณ์เกี่ยวกับพวกยักษ์ให้ฟัง คุยกับเขาซะ...";
			set ins_nyd,91;
			close;
		} else if ((ins_nyd == 91) || (ins_nyd == 101) || (ins_nyd == 111) || (ins_nyd == 200) || (ins_nyd == 201) || (ins_nyd == 202)) {
			mes "คนนอก Arioss จะอธิบายสถานการณ์เกี่ยวกับพวกยักษ์ให้ฟัง ไปคุยกับเขาดู...";
			close;
		} else if ((ins_nyd == 72) || (ins_nyd == 82) || (ins_nyd == 92) || (ins_nyd == 102) || (ins_nyd == 112) || (ins_nyd == 122) || (ins_nyd == 132)) {
			mes "ยินดีต้อนรับสู่ค่ายของ Laphine ใน Splendide คนนอก... ฉันคือ Lebiordirr เป็นผู้ดูแลที่นี่";
			next;
			mes "[Commander Lebiordirr]";
			mes "ระวังการกระทำของคุณด้วย ลำพังแค่ปัญหาที่มีกับเผ่า Sapha ก็มากพออยู่แล้ว";
			next;
			mes "[Commander Lebiordirr]";
			mes "ถ้าคุณสำรวมกิริยา ฉันก็จะไม่ทำอันตรายใดๆ กับคุณ ขอให้โชคดี";
			close;
		} else if (ins_nyd == 203) {
			mes "ฉันรอคุณอยู่พอดี กลับมาได้อย่างปลอดภัยถือว่าเป็นข่าวดี แล้วคุณพบอะไรบ้างไหม?";
			next;
			select("อธิบายเรื่องการจากไปของ Guardian Nidhoggur");
			mes "[Commander Lebiordirr]";
			mes "อะไรนะ? ผู้พิทักษ์ไม่ได้อยู่ในรังของเขาอย่างนั้นเหรอ...?";
			next;
			mes "[Commander Lebiordirr]";
			mes "และเพราะการหายตัวไปของเขา ทำให้ตอนนี้ 'เงาของผู้พิทักษ์' กำลังทำลายรากของต้นไม้โลกงั้นเหรอ...?";
			next;
			mes "[Commander Lebiordirr]";
			mes "เรื่องนี้มันเหลือเชื่อเกินไป คุณกำลังดูหมิ่นศักดิ์ศรีของผู้พิทักษ์และพวกเราอยู่นะ ฉันไม่ได้ช่วยคุณเพื่อให้คุณมาแต่งเรื่องแบบนี้";
			next;
			mes "[Aide Arioss]";
			mes "ไม่ใช่แบบนั้นหรอกครับท่านผู้บัญชาการ พวกเขาพูดความจริงครับ";
			next;
			mes "[Commander Lebiordirr]";
			mes "คุณพูดอะไรน่ะ Arioss อย่าลืมฐานะของตัวเองที่เป็นนักบวชของผู้พิทักษ์สิ";
			next;
			mes "[Aide Arioss]";
			mes "แม้ว่าผมจะไม่ได้เห็นด้วยตาตัวเอง แต่นี่เป็นเหตุผลที่อธิบายได้ว่าทำไมเราถึงขาดการติดต่อกับต้นไม้โลก Yggdrasil ผู้ยิ่งใหญ่";
			next;
			mes "[Commander Lebiordirr]";
			mes "อย่าเอ่ยชื่อองค์ท่าน Yggdrasil อย่างลอยๆ แบบนั้น";
			next;
			select("ส่งต่อคำกล่าวของต้นไม้โลก Yggdrasil");
			mes "[Commander Lebiordirr]";
			mes "องค์ท่านต้นไม้โลก Yggdrasil ตรัสแบบนั้นจริงๆ เหรอก?";
			next;
			mes "[Commander Lebiordirr]";
			mes "เหตุผลเบื้องหลังทั้งหมดนี้... ไม่ใช่เพราะเผ่า Sapha แต่เป็นเพราะการหายตัวไปอย่างกะทันหันของผู้พิทักษ์งั้นเหรอ? และผู้พิทักษ์ได้ละทิ้งตัวตนของเขาไปแล้วงั้นเหรอ?";
			next;
			mes "[Commander Lebiordirr]";
			mes "เรื่องนี้ต้องรายงาน... ต้องรายงานต่อมหาปุโรหิตแห่ง Alfheim... ไม่อยากจะเชื่อเลย";
			next;
			mes "[Aide Arioss]";
			mes "ท่านผู้บัญชาการ... เราควรแจ้งคนในเผ่าที่เหลือด้วยไหมครับ...?";
			next;
			mes "[Commander Lebiordirr]";
			mes "คุณไม่ต้องกังวลเรื่องนี้หรอก Arioss ในฐานะผู้บัญชาการ ฉันจะจัดการเอง คุณแค่ทำเหมือนไม่มีอะไรเกิดขึ้นก็พอ...";
			next;
			mes "[Commander Lebiordirr]";
			mes "เจ้าคนแปลกหน้า ขอบคุณสำหรับความร่วมมือในสถานการณ์เช่นนี้... โปรดลืมเรื่องที่เกิดขึ้นในวันนี้ไปซะ...";
			next;
			mes "[Commander Lebiordirr]";
			mes "Arioss ช่วยตอบแทนคนแปลกหน้าคนนี้สำหรับการช่วยเหลือด้วย ฉันขอตัวไปพักผ่อนก่อน...";
			next;
			mes "[Aide Arioss]";
			mes "ท่านผู้บัญชาการ...";
			set ins_nyd,121;
			close;
		} else if ((ins_nyd == 121) || (ins_nyd == 131)) {
			mes "เจ้าคนแปลกหน้า ขอบคุณสำหรับความร่วมมือ... โปรดลืมเรื่องที่เกิดขึ้นในวันนี้ไปซะเถอะ...";
			close;
		} else {
			mes "ยินดีต้อนรับสู่ค่ายของ Laphine ใน Splendide คนนอก... ฉันคือ Lebiordirr เป็นผู้ดูแลที่นี่";
			next;
			mes "[Commander Lebiordirr]";
			mes "ระวังการกระทำของคุณด้วย ลำพังแค่ปัญหาที่มีกับเผ่า Sapha ก็มากพออยู่แล้ว";
			next;
			mes "[Commander Lebiordirr]";
			mes "ถ้าคุณสำรวมกิริยา ฉันก็จะไม่ทำอันตรายใดๆ กับคุณ ขอให้โชคดี";
			close;
		}
	} else {
		// ภาษาเผ่า Laphine เมื่อไม่ใส่แหวน
		mes "ThusDurnah Ra SharVeldIyaz U UorAmanDur Yee neaOsaAdor Yee...";
		close;
	}
}

spl_in01,104,56,3	script	Aide Arioss#edq	437,3,3,{
	mes "[Aide Arioss]";
	// ตรวจสอบการสวมใส่ Ring of the Wise King
	if (isequipped(2782) == 1) {
		if (ins_nyd == 91) {
			mes "(ถอนหายใจ) ในเมื่อมันเป็นความประสงค์ของผู้บัญชาการ Lebiordirr ข้าก็จะยอมร่วมมือกับคุณด้วย...";
			next;
			mes "[Aide Arioss]";
			mes "คุณต้องการจะไปที่นั่นเพื่อสืบให้รู้แน่ชัดว่าสถานที่แห่งนั้นคืออะไรสินะ?";
			next;
			mes "[Aide Arioss]";
			mes "ตกลง... มันเป็นอย่างที่คุณสันนิษฐานไว้ ที่นั่นคือสถานที่ที่เชื่อมต่อกับต้นไม้โลก และยังเป็น Guardian's Nest (รังของผู้พิทักษ์) อีกด้วย";
			next;
			select("รังของผู้พิทักษ์?");
			mes "[Aide Arioss]";
			mes "ใช่แล้ว ที่นั่นคือรังของ Nidhoggur ผู้พิทักษ์แห่งต้นไม้โลก...";
			next;
			mes "[Aide Arioss]";
			mes "มีเพียงผู้รับใช้ที่มีตราประทับของผู้พิทักษ์จากเผ่า Laphine เท่านั้นที่ได้รับอนุญาตให้เข้าไปได้";
			next;
			mes "[Aide Arioss]";
			mes "เดิมทีสถานที่นั้นถูกปิดตายจากโลกภายนอก จนกระทั่งพวกยักษ์เผ่า Sapha เข้ามาทำให้ทุกอย่างเปลี่ยนไป...";
			next;
			mes "[Aide Arioss]";
			mes "เพื่อที่จะขุดหาแร่ธาตุให้ได้มากขึ้น พวกนั้นเริ่มขุดเจาะพื้นดินอย่างบ้าคลั่ง";
			next;
			mes "[Aide Arioss]";
			mes "ในที่สุด พวกเขาก็ทำลายส่วนหนึ่งของรากต้นไม้โลกที่อยู่ใกล้กับเหมืองของพวกเขามากเกินไป ทำให้ต้นไม้โลกเริ่มล้มป่วยอย่างหนัก";
			next;
			mes "[Aide Arioss]";
			mes "กว่าพวกเราจะมาถึงที่นี่และรู้ความจริง ต้นไม้โลกก็อยู่ในสภาพที่แย่มากแล้ว เนื่องมาจากโรงงานจำนวนมากที่เผ่า Sapha สร้างขึ้น";
			next;
			mes "[Aide Arioss]";
			mes "แม้ว่าพวกเราจะพยายามโจมตีเผ่า Sapha เพื่อบีบบังคับให้พวกเขาออกไปเป็นเวลานาน แต่พวกนั้นก็ไม่ยอมแพ้ง่ายๆ จนทำให้สถานการณ์ยืดเยื้อมาจนถึงตอนนี้";
			next;
			mes "[Aide Arioss]";
			mes "และในช่วงเวลานี้เองที่พรรคพวกของคุณได้เดินทางผ่านรอยแยกกาลเวลามายังดินแดนแห่งนี้";
			next;
			mes "[Aide Arioss]";
			mes "เพราะเหตุการณ์ไม่คาดฝันหลายอย่าง รังของผู้พิทักษ์ที่ควรจะถูกซ่อนอยู่ลึกใต้พื้นดิน กลับถูกเผ่าพันธุ์ของคุณค้นพบเข้า...";
			next;
			mes "[Aide Arioss]";
			mes "ตอนนี้คุณคงเข้าใจแล้วว่าสถานการณ์มันรุนแรงแค่ไหน เพราะเผ่า Sapha ทำให้พวกเราไม่สามารถเข้าใกล้ผู้พิทักษ์เพื่อขอคำชี้แนะจากท่านได้อีก";
			next;
			mes "[Aide Arioss]";
			mes "มันเป็นเรื่องที่น่าอับอายต่อศักดิ์ศรีของเรามาก... แต่ถ้าคุณช่วยให้เราเข้าไปที่นั่นได้อีกครั้ง และได้พูดคุยกับผู้พิทักษ์ บางทีเราอาจจะพบทางแก้ไข...";
			next;
			mes "[Aide Arioss]";
			mes "ถ้าอย่างนั้นข้าขอฝากเรื่องนี้ไว้กับคุณด้วย สำหรับคำขอของคุณ ข้าจะพยายามร่วมมืออย่างเต็มที่";
			next;
			mes "[Aide Arioss]";
			mes "ข้าบอกทุกอย่างที่คุณอยากรู้ไปหมดแล้ว... ถ้าต้องการอะไรเพิ่มเติมก็บอกข้าได้เลย";
			set ins_nyd,101;
			close;
		} else if (ins_nyd == 101) {
			mes "อา คุณบอกว่ามีพลังงานประหลาดขวางทางเข้าสู่รังของผู้พิทักษ์อยู่ใช่ไหม?";
			next;
			mes "[Aide Arioss]";
			mes "นั่นเป็นเพราะมีเพียงผู้ที่ถูกเลือกโดยผู้พิทักษ์เท่านั้นที่จะเข้าไปได้";
			next;
			mes "[Aide Arioss]";
			mes "พวกเราเป็นผู้รับใช้ของผู้พิทักษ์มาหลายชั่วอายุคน และคอยปกป้องต้นไม้โลกมาโดยตลอด";
			next;
			mes "[Aide Arioss]";
			mes "ก่อนที่เราจะถูกพามาที่นี่ มีผู้รับใช้ทั้งหมด 3 คนรวมถึงข้าด้วย หน้าที่ของพวกเราคือการเยียวยาต้นไม้โลก";
			next;
			mes "[Aide Arioss]";
			mes "คนหนึ่งถูกฆ่าตายในสงครามครั้งล่าสุดกับเผ่า Sapha... และอีกคนถูกจับตัวไปเป็นเชลย";
			next;
			mes "[Aide Arioss]";
			mes "ข้าจะมอบเครื่องหมายยืนยันให้คุณ ไม่ต้องกังวลไป ข้าแค่ทำเครื่องหมายให้คุณเป็นผู้รับใช้ของผู้พิทักษ์ชั่วคราวเท่านั้น";
			specialeffect2 EF_HOLYHIT;
			next;
			mes "[Aide Arioss]";
			mes "นอกจากนี้ จงจำบทสวดนี้ไว้ให้ดี เพราะมันจำเป็นต้องใช้ในการเปิดประตูของผู้พิทักษ์";
			next;
			mes "[Aide Arioss]";
			mes "AnomarDu Ha OdesUdenVer Ie ";
			next;
			mes "[Aide Arioss]";
			mes "remuAlaAsh Mu ModtasAn Yu Dur";
			next;
			mes "[Aide Arioss]";
			mes "TalsehrDur So CyaReMush Di DielAlaWos Ie RuffserIman Ie ";
			next;
			mes "[Aide Arioss]";
			mes "จงไปหาแฟรี่ที่เฝ้าประตูอยู่ แล้วกล่าวบทสวดนี้ออกมา";
			next;
			mes "[Aide Arioss]";
			mes "เครื่องหมายและบทสวดนี้จะเป็นเครื่องยืนยันว่าคุณคือหนึ่งในผู้รับใช้ของผู้พิทักษ์";
			next;
			mes "[Aide Arioss]";
			mes "ได้โปรดไปพบผู้พิทักษ์ และกลับมาพร้อมคำตอบของทุกอย่าง ข้าเชื่อมั่นในตัวคุณนะ";
			set ins_nyd,111;
			close;
		} else if ((ins_nyd == 111) || (ins_nyd == 200) || (ins_nyd == 201) || (ins_nyd == 202)) {
			mes "ได้โปรดไปพบผู้พิทักษ์และขอคำชี้แนะที่ชาญฉลาดจากท่าน ข้าจะรอฟังข่าวดีจากคุณ";
			close;
		} else if ((ins_nyd == 72) || (ins_nyd == 82) || (ins_nyd == 92) || (ins_nyd == 102) || (ins_nyd == 112)) {
			mes "... ...";
			next;
			mes "ไม่สนใจเรื่องพวกนี้เลยแม้แต่นิดเดียวงั้นเหรอ? เป็นผู้หญิงที่โง่เขลาจริงๆ...";
			close;
		} else if (ins_nyd == 121) {
			mes "เรื่องราวมันกลายเป็นแบบนี้ไปแล้วจริงๆ สินะ... ในฐานะนักบวชของผู้พิทักษ์ มันเป็นความรับผิดชอบของพวกเราเอง...";
			next;
			mes "[Aide Arioss]";
			mes "ข้าขอเป็นตัวแทนของเผ่า Laphine ทั้งหมด เพื่อแสดงความขอบคุณต่อคุณ เรื่องนี้คงเป็นเรื่องที่ทำใจได้ยากสำหรับผู้บัญชาการของเรา...";
			next;
			mes "[Aide Arioss]";
			mes "แม้ความพยายามที่คุณทุ่มเทให้เราจะประเมินค่าไม่ได้... แต่ได้โปรดรับสิ่งนี้ไว้เพื่อเป็นเครื่องหมายแห่งมิตรภาพจากเราเถอะ";
			if (checkre(3))
				getexp 1500000,350000;
			else
				getexp 150000,35000;
			getitem 6081,10; //Splendide_Coin
			set ins_nyd,131;
			mes "[Aide Arioss]";
			mes "หากมีอะไรที่เราพอจะช่วยคุณได้ในอนาคต พวกเราจะทำอย่างเต็มที่เพื่อช่วยเหลือคุณ ขอบคุณอีกครั้งนะ";
			close;
		} else if (ins_nyd == 131) {
			mes "หากมีอะไรที่เราพอจะช่วยคุณได้ในอนาคต พวกเราจะทำอย่างเต็มที่เพื่อช่วยเหลือคุณ ขอบคุณอีกครั้งนะครับ";
			close;
		} else {
			mes "... ...";
			next;
			mes "อย่าไปสนใจ... อืม... ผู้หญิงที่ไร้ความรู้สึกคนนั้นเลย...";
			close;
		}
	} else {
		// ภาษาเผ่า Laphine เมื่อไม่ใส่แหวน
		mes "AmanVilShar Ie DorLuShar Mu Re";
		close;
	}
}

// ระบบกับดักตรวจสอบบริเวณพื้นที่หวงห้ามภายในอาคาร
spl_in01,110,21,0	script	trap#s_edq	-1,10,10,{
OnTouch_:
	if ((isequipped(2782) == 1) && (ins_nyd == 51)) {
		mes "[Splendide Guard]";
		mes "ชายคนนั้นกำลังอยู่ภายใต้การกักตัวในขณะนี้";
		next;
		mes "[Splendide Guard]";
		mes "คุณควรจะสำรวมกิริยาไว้หน่อยนะ ผู้ช่วย Arioss บอกไว้ว่าไม่ว่าจะเป็นเผ่าพันธุ์ไหนก็ต้องได้รับการปฏิบัติภายใต้กฎเดียวกัน";
		// วาร์ปผู้เล่นกลับไปที่หน้าโต๊ะผู้บัญชาการ
		warp "spl_in01",109,58;
		close;
	}
	end;
}

// ทหารยามคนที่ 1
spl_in01,101,52,5	script	Splendide Guard#1_edq	447,1,1,{
	mes "[Splendide Guard]";
	if (isequipped(2782) == 1) mes "ที่นี่คือสำนักงานแห่งเมือง Splendide อย่าเสียมารยาทที่นี่";
	else mes "ThusDurnah Ra SharVeldIyaz U UorAmanDur Yee neaOsaAdor Yee ";
	close;
}

// ทหารยามคนที่ 2
spl_in01,118,52,3	script	Splendide Guard#2_edq	447,1,1,{
	mes "[Splendide Guard]";
	if (isequipped(2782) == 1) mes "ที่นี่คือสำนักงานแห่งเมือง Splendide อย่าเสียมารยาทที่นี่";
	else mes "ThusDurnah Ra SharVeldIyaz U UorAmanDur Yee neaOsaAdor Yee ";
	close;
}

man_in01,311,57,3	script	Neat Etorr#edq	453,3,3,{
	mes "[Neat Etorr]";
	// ตรวจสอบการสวมใส่ Ring of the Wise King
	if (isequipped(2782) == 1) {
		if (ins_nyd == 52) {
			mes "แขกจากต่างโลก... โปรดอภัยในความไร้มารยาทของพวกเราด้วย...";
			next;
			mes "[Neat Etorr]";
			mes "ในฐานะผู้นำของเผ่า Sapha ข้ามีเรื่องสำคัญมากจะบอกคุณ นั่นคือเหตุผลที่ข้าเรียกคุณมา...";
			next;
			mes "[Neat Etorr]";
			mes "เผ่าพันธุ์ของคุณเพิ่งจะมายังดินแดนแห่งนี้ได้ไม่นานผ่านทางรอยแยกกาลเวลา";
			next;
			mes "[Neat Etorr]";
			mes "คุณคงจะเห็นสถานการณ์ตอนนี้แล้ว พวกเราทำสงครามกับพวก Laphine มายาวนานมาก";
			next;
			mes "[Neat Etorr]";
			mes "และเมื่อไม่นานมานี้ เพราะพวกคุณไม่เข้าใจสถานการณ์ที่เป็นอยู่ คุณจึงได้ทำบางสิ่งที่ข้าในฐานะผู้นำไม่สามารถนิ่งเฉยได้อีกต่อไป";
			next;
			mes "[Neat Etorr]";
			mes "ข้าหวังว่าคนของคุณจะระมัดระวังการกระทำบนดินแดนแห่งนี้ และยุติการแทรกแซงที่ไม่จำเป็นเสีย";
			next;
			if(select("จากไปอย่างเงียบๆ:แสร้งทำเป็นไม่เข้าใจ และถามรายละเอียดเพิ่มเติม")==1) close;
			mes "[Manuk Field Elite Soldier]";
			mes "ท่านครับ เราจะปล่อยคนพวกนี้ไปง่ายๆ หลังจากที่พวกมันก่อเรื่องวุ่นวายบนแผ่นดินเราเนี่ยนะ?";
			next;
			mes "[Neat Etorr]";
			mes "หลังจากเกิดเรื่องขึ้น ข้าไม่คิดว่าพวกเขาจะรู้หรอกว่าต้องทำอะไรต่อ ให้ข้าอธิบายเอง";
			next;
			mes "[Neat Etorr]";
			mes "สำหรับตอนนี้ พวกเรายอมรับในเผ่าพันธุ์ของคุณ และพยายามอดทนต่อกิจกรรมต่างๆ ของพวกคุณมาตลอด";
			next;
			mes "[Neat Etorr]";
			mes "แต่พักหลังมานี้ เราเริ่มสงสัยว่าพวกคุณอาจจะเป็นหูเป็นตาให้กับพวก Laphine";
			next;
			mes "[Neat Etorr]";
			mes "เมื่อไม่นานมานี้ เราได้ยินว่าคุณไปพบซากอารยธรรมในถ้ำร้างทางทิศเหนือ และกำลังดำเนินการสืบสวนวิจัยเกี่ยวกับมันอยู่";
			next;
			mes "[Neat Etorr]";
			mes "พวกเราจับตัวนักบวชของเผ่า Laphine มาได้ในสงครามครั้งก่อน และเราได้ยินมาว่าคุณพยายามติดต่อกับเชลยคนนั้น";
			next;
			mes "[Neat Etorr]";
			mes "เชลยคนนั้นคือแหล่งข้อมูลเดียวของเผ่าเรา เราจึงดูแลนางเป็นอย่างดี และนางก็เกี่ยวข้องกับการสืบสวนของคุณในตอนนี้ด้วย";
			next;
			mes "[Neat Etorr]";
			mes "สำหรับคนของคุณที่ไม่มีความเกี่ยวข้องโดยตรง ที่นั่นไม่ใช่ที่สำหรับตอบสนองความอยากรู้อยากเห็น ข้าหวังว่าคุณจะหยุดการสืบสวน และเลิกยุ่งเรื่องคนอื่นเสีย";
			next;
			mes "[Neat Etorr]";
			mes "หากคุณไม่ยอมรับคำขอของเรา ก็อย่าหวังว่าจะได้รับความร่วมมือใดๆ ระหว่างเผ่าพันธุ์ในอนาคต";
			next;
			mes "[Neat Etorr]";
			mes "เพราะสงครามกับพวก Laphine ทำให้ทุกอย่างวุ่นวายไปหมด แต่ถึงอย่างนั้น เราก็ไม่ยอมให้คนนอกมาแทรกแซง";
			next;
			mes "[Neat Etorr]";
			mes "คุณได้ยินครบหมดแล้ว ทีนี้ก็กลับไปรายงานคนของคุณซะ";
			set ins_nyd,62;
			close;
		} else if (ins_nyd == 62) {
			mes "เชลยคนนั้นคือแหล่งข้อมูลเดียวของเผ่าเรา เราจึงดูแลนางเป็นอย่างดี และนางก็เกี่ยวข้องกับการสืบสวนของคุณในตอนนี้ด้วย";
			next;
			mes "[Neat Etorr]";
			mes "สำหรับคนของคุณ ที่นั่นไม่ใช่ที่สำหรับตอบสนองความอยากรู้อยากเห็น ข้าหวังว่าคุณจะหยุดการสืบสวน และเลิกยุ่งเรื่องคนอื่นเสีย";
			next;
			mes "[Neat Etorr]";
			mes "หากคุณไม่ยอมรับคำขอของเรา ก็อย่าหวังว่าจะได้รับความร่วมมือใดๆ ระหว่างเผ่าพันธุ์ในอนาคต";
			close;
		} else if (ins_nyd == 72) {
			mes "เพราะคุณไม่เข้าใจสถานการณ์ที่เป็นอยู่ คุณจึงได้ทำบางสิ่งที่ข้าไม่สามารถนิ่งเฉยได้อีกต่อไป";
			next;
			mes "[Neat Etorr]";
			mes "ข้าหวังว่าพวกคุณจะระมัดระวังการกระทำบนดินแดนนี้ และเลิกแทรกแซงเรื่องที่ไม่จำเป็น";
			close;
		} else if (ins_nyd == 82) {
			mes "คุณต้องการอะไรจากข้าล่ะ เจ้าคนแปลกหน้า?";
			next;
			select("มาเพื่อขอความร่วมมือในการสืบสวนร่วมกับเผ่า Sapha");
			mes "[Neat Etorr]";
			mes "ร่วมมือสืบสวนงั้นเหรอ? คุณหมายความว่ายังไง?";
			next;
			mes "[Neat Etorr]";
			mes "ดูเหมือนคุณจะไม่เข้าใจที่ข้าพูดไปก่อนหน้านี้นะ คุณคิดอะไรอยู่กันแน่?";
			next;
			select("ได้โปรดอนุญาตให้ฉันเข้าไปสืบสวนในถ้ำเถอะ");
			mes "[Neat Etorr]";
			mes "เท่าที่ข้าเห็น คุณกำลังดูหมิ่นคำขอของข้า นี่คือความตั้งใจของคุณเอง หรือเป็นความตั้งใจของคนของคุณกันแน่?";
			next;
			select("มันคือความตั้งใจของเรา");
			mes "[Neat Etorr]";
			mes "อา... มันไม่ใช่การตัดสินใจที่ง่ายเลยนะ คุณทำให้ข้าประหลาดใจจริงๆ";
			next;
			mes "[Neat Etorr]";
			mes "แต่ข้าขอถามหน่อยว่าทำไมคุณถึงอยากทำแบบนี้?";
			next;
			select("อธิบายทฤษฎีของศาสตราจารย์ Magnifier");
			mes "[Neat Etorr]";
			mes "น่าประหลาดใจที่คุณได้ผลสรุปเช่นนั้น พวกเราเองก็มีทฤษฎีที่คล้ายกันอยู่";
			next;
			mes "[Neat Etorr]";
			mes "อย่างน้อยเราก็คิดเหมือนกันว่าเราต้องใช้ข้อมูลจากเชลยชาว Laphine เพื่อหาเบาะแส";
			next;
			mes "[Neat Etorr]";
			mes "ปัญหานี้คือรากเหง้าของความขัดแย้งระหว่างเรากับพวก Laphine และแน่นอนว่ามันอาจจะเป็นโอกาสในการคลี่คลายมันด้วย";
			next;
			mes "[Neat Etorr]";
			mes "ด้วยเหตุนี้ มันจึงยิ่งเป็นเหตุผลที่เราต้องพึ่งพากำลังของตนเอง ไม่มีที่ว่างให้คุณเข้ามาแทรกแซงหรอก ได้โปรดยอมแพ้ซะเถอะ";
			next;
			select("ถอนคำขอ และจะไปขอความช่วยเหลือจากเผ่า Laphine แทน");
			mes "[Manuk Field Elite Soldier]";
			mes "ในที่สุดแกก็เผยธาตุแท้ออกมา ข้ากะแล้วว่าแกต้องเป็นสายลับจากพวก Laphine!";
			next;
			mes "[Neat Etorr]";
			mes "อา... คุณถึงขั้นพูดแบบนั้นเชียวเหรอ การช่วยพวก Laphine มันจะให้อะไรคุณได้?";
			next;
			mes "[Neat Etorr]";
			mes "พวกภูตแคระที่น่ารังเกียจพวกนั้นรุกล้ำสิทธิการใช้ชีวิตของเรา และพยายามจะกำจัดพวกเราทิ้ง";
			next;
			mes "[Neat Etorr]";
			mes "เหตุผลที่เราไม่ยอมให้ใครเข้าไปในสถานที่นั้น ก็เพราะมันเต็มไปด้วยเรื่องน่าสงสัย";
			next;
			mes "[Neat Etorr]";
			mes "ก็ได้ ข้าจะอนุมัติคำขอของคุณ และยอมให้คุณเข้าไปสืบสวนความลับที่พวก Laphine ซ่อนไว้ในถ้ำนั้น";
			next;
			mes "[Neat Etorr]";
			mes "หากคุณสัญญาว่าจะแบ่งปันผลการวิจัยและการค้นพบทั้งหมดให้เราทราบ เราจะยอมรับคำขอของคุณ";
			next;
			select("แน่นอน ฉันสัญญา");
			mes "[Neat Etorr]";
			mes "ตกลง จากนี้ไปเราจะร่วมมือกับคุณ และอนุญาตให้คุณสื่อสารกับเชลยชาว Laphine ได้โดยตรง";
			next;
			mes "[Manuk Field Elite Soldier]";
			mes "ท่านผู้บัญชาการ... ท่านแน่ใจแล้วเหรอครับ? เรายังไม่รู้เลยว่าพวกนี้เป็นมิตรหรือศัตรู...";
			next;
			mes "[Neat Etorr]";
			mes "ด้วยลำพังเพียงกำลังของเรา มันเป็นไปไม่ได้เลยที่จะรู้ว่าพวก Laphine กำลังวางแผนอะไรอยู่ ข้าคิดว่าที่ผ่านมามันพิสูจน์เรื่องนั้นได้ดี";
			next;
			mes "[Neat Etorr]";
			mes "สิ่งที่พวกเขาทำอยู่ในตอนนี้อาจนำเราไปสู่ทางออกก็ได้";
			next;
			mes "[Neat Etorr]";
			mes "เจ้าคนแปลกหน้า ข้าหวังว่าความร่วมมือของเราจะเป็นไปด้วยดี ทีนี้จงไปสอบถามข้อมูลจากเชลยชาว Laphine ซะ";
			set ins_nyd,92;
			close;
		} else if ((ins_nyd == 92) || (ins_nyd == 102) || (ins_nyd == 112) || (ins_nyd == 200) || (ins_nyd == 201) || (ins_nyd == 202)) {
			mes "เจ้าคนแปลกหน้า ข้าหวังว่าความร่วมมือของเราจะเป็นไปด้วยดี ทีนี้จงไปสอบถามข้อมูลจากเชลยชาว Laphine ซะ";
			close;
		} else if ((ins_nyd == 71) || (ins_nyd == 81) || (ins_nyd == 91) || (ins_nyd == 101) || (ins_nyd == 111) || (ins_nyd == 121) || (ins_nyd == 131)) {
			mes "คนนอก ยินดีต้อนรับสู่ Manuk หมู่บ้านของชาว Sapha ข้าคือตัวแทนของที่นี่ นีท เอตอร์";
			next;
			mes "[Neat Etorr]";
			mes "พวกเราเป็นเพียงหมู่บ้านเล็กๆ ไม่มีอะไรพิเศษ... แต่ขอให้พักผ่อนตามสบาย";
			close;
		} else if (ins_nyd == 203) {
			mes "ข้ารอคุณอยู่พอดี ดีแล้วที่คุณปลอดภัย แล้วคุณค้นพบอะไรบ้างไหม?";
			next;
			select("อธิบายเรื่องการจากไปอย่างกะทันหันของผู้พิทักษ์");
			mes "[Neat Etorr]";
			mes "อย่างนั้นเหรอ... ที่นั่นคือรังของผู้พิทักษ์ต้นไม้โลก สถานที่ศักดิ์สิทธิ์ของพวก Laphine สินะ";
			next;
			mes "[Neat Etorr]";
			mes "แต่เพราะความโกรธแค้นจากการจากไปของผู้พิทักษ์ ทำให้เงาของเขาอาละวาดทำลายต้นไม้โลกงั้นเหรอ?";
			next;
			mes "[Neat Etorr]";
			mes "หากสิ่งที่คุณพูดเป็นความจริง ก็ไม่มีเหตุผลใดที่พวกเราจะต้องสู้รบกับเผ่า Laphine อีกต่อไป...";
			next;
			mes "[Neat Etorr]";
			mes "การค้นพบที่ยิ่งใหญ่อะไรเช่นนี้... สรุปว่า Nidhoggur ไม่ได้ทำหน้าที่เป็นผู้พิทักษ์ต้นไม้โลกอีกต่อไปแล้วอย่างนั้นหรือ...?";
			next;
			mes "[Neat Etorr]";
			mes "เงาของ Nidhoggur ถือกำเนิดขึ้นในโลกนี้ และทำลายรากของต้นไม้โลก... ช่างเป็นหายนะจริงๆ";
			next;
			select("ส่งต่อข้อความจากต้นไม้โลก Yggdrasil");
			mes "[Neat Etorr]";
			mes "นั่นคือสิ่งที่นักบวชของผู้พิทักษ์กล่าวไว้อย่างนั้นหรือ?";
			next;
			mes "[Neat Etorr]";
			mes "จากนี้ไป เราจำเป็นต้องพูดคุยเรื่องนี้กับเผ่า Laphine";
			next;
			mes "[Neat Etorr]";
			mes "แต่ก็นะ... เราไม่รู้ว่าพวกนั้นจะมีเหตุผลพอไหม... หึหึ";
			next;
			mes "[Neat Etorr]";
			mes "นี่คือทั้งหมดที่เราต้องการจากคุณ... ที่เหลือเป็นเรื่องระหว่างเรากับเผ่า Laphine";
			next;
			mes "[Neat Etorr]";
			mes "ขอบคุณที่ช่วยพวกเราแก้ปัญหามหาศาลนี้ ตอนนี้คุณลืมเรื่องนี้ไปได้เลย";
			next;
			mes "[Neat Etorr]";
			mes "มันอาจจะไม่มากนัก แต่โปรดรับสิ่งนี้ไว้เป็นเครื่องหมายแห่งความขอบคุณจากเรา";
			if (checkre(3))
				getexp 1500000,350000;
			else
				getexp 150000,35000;
			getitem 6080,10; //Manuk_Coin
			set ins_nyd,132;
			close;
		} else if (ins_nyd == 132) {
			mes "เจ้าคนแปลกหน้า ขอบคุณที่ช่วยเหลือเราในยามคับขัน ข้าจะไม่ลืมความมีน้ำใจของคุณเลย";
			close;
		} else {
			mes "คนนอก ยินดีต้อนรับสู่ Manuk หมู่บ้านของชาว Sapha ข้าคือนีท เอตอร์ ตัวแทนของที่นี่";
			next;
			mes "[Neat Etorr]";
			mes "พวกเราเป็นเพียงหมู่บ้านเล็กๆ ไม่มีอะไรพิเศษ... แต่ขอให้พักผ่อนตามสบาย";
			close;
		}
	} else {
		// ภาษาเผ่า Sapha เมื่อไม่ใส่แหวน
		mes "Tkeh likek Ohek QekhlHkl PkedlioH.";
		close;
	}
}

// ทหารยามคนที่ 1
man_in01,286,61,5	script	Manuk Guard#1_edq	450,1,1,{
	mes "[Manuk Guard]";
	// ตรวจสอบการสวมใส่ Ring of the Wise King
	if (isequipped(2782) == 1) mes "ข้ากำลังเฝ้านักโทษชาว Laphine คนนี้อยู่ อย่ามากวนใจข้า";
	else mes "Klekod Oi Thekd Pheid Okei.";
	close;
}

// ทหารยามคนที่ 2
man_in01,295,61,3	script	Manuk Guard#2_edq	450,1,1,{
	mes "[Manuk Guard]";
	if (isequipped(2782) == 1) mes "ข้ากำลังเฝ้านักโทษชาว Laphine คนนี้อยู่ อย่ามากวนใจข้า";
	else mes "Liek QUekdk Ohei Vue.";
	close;
}

man_in01,291,62,3	script	Laphine Prisoner#edq	437,3,3,{
	mes "[Laphine Prisoner]";
	// ตรวจสอบการสวมใส่ Ring of the Wise King
	if (isequipped(2782) == 1) {
		if (ins_nyd == 5) {
			mes "คุณ... ไม่ใช่คนของเผ่า Sapha นี่... คุณเป็น... คนนอกอย่างนั้นเหรอ?";
			next;
			mes "[Laphine Prisoner]";
			mes "คุณเคยติดต่อกับเผ่า Laphine บ้างไหม? เคยไปที่เมือง Splendide หรือเปล่า?";
			next;
			mes "[Laphine Prisoner]";
			mes "ได้โปรดเถอะ ไปคุยกับคนของฉันที่ Splendide ที พวกเขาจะได้มาช่วยฉันออกไป";
			next;
			switch(select("เกิดอะไรขึ้นกับคุณ?:ในถ้ำทางทิศเหนือมีอะไร?:เล่าเรื่องเผ่าของคุณให้ฟังหน่อย:ปล่อยให้เธออยู่คนเดียว")) {
			case 1:
				mes "[Laphine Prisoner]";
				mes "ระหว่างการต่อสู้ครั้งล่าสุดกับพวก Sapha... พวกมันจับตัวฉันได้และพามาคุมขังไว้ที่นี่";
				next;
				mes "[Laphine Prisoner]";
				mes "พวก Sapha เป็นฝ่ายโจมตีก่อน พวกมันกำลังทำลายต้นไม้โลก";
				next;
				mes "[Laphine Prisoner]";
				mes "นั่นคือสาเหตุที่สงครามเริ่มขึ้น แต่ฉันไม่อยากจะสู้กับพวก Sapha อีกต่อไปแล้ว...";
				next;
				mes "[Laphine Prisoner]";
				mes "ถ้าไม่ใช่เพราะเรื่องนั้น... ฉันคงไม่ยอมทนอยู่ที่นี่หรอก...";
				next;
				mes "[Laphine Prisoner]";
				mes "ได้โปรด นำข่าวนี้ไปบอกที่ Splendide ด้วย ส่งคนมาช่วยฉันที... ไม่อย่างนั้นพวกมันอาจจะฆ่าฉันก็ได้";
				close;
			case 2:
				mes "[Laphine Prisoner]";
				mes "ที่นั่นมี...";
				next;
				mes "[Laphine Prisoner]";
				mes "ไม่... ฉันบอกคุณไม่ได้... มันเป็นความลับของเผ่าพันธุ์เรา...";
				next;
				mes "[Laphine Prisoner]";
				mes "ฉันบอกได้เพียงแค่ว่า... ถ้าพวก Sapha บุกรุกเข้าไปในสถานที่แห่งนั้น พวกเราจะไม่มีวันให้อภัยพวกมันเด็ดขาด!";
				set ins_nyd,52;
				close;
			case 3:
				mes "[Laphine Prisoner]";
				mes "ชาว Laphine ปกป้องต้นไม้โลก Yggdrasil มาหลายชั่วอายุคนแล้ว";
				next;
				mes "[Laphine Prisoner]";
				mes "พวกเราอยู่ใน... ช่วงเวลาที่ต่างออกไป ดินแดนที่ต่างออกไป... พวกเรามาที่นี่เพื่อการสำรวจ";
				next;
				mes "[Laphine Prisoner]";
				mes "หลังจากได้รับรายงานจากสายลับเรื่องอาการผิดปกติของต้นไม้โลก เราจึงได้พบการมีอยู่ของพวก Manuk (Sapha)";
				next;
				mes "[Laphine Prisoner]";
				mes "พวกนั้นขุดหาแร่ และการทำแบบนั้นมันทำลายรากของต้นไม้โลก...";
				next;
				mes "[Laphine Prisoner]";
				mes "เราจึงส่งกองกำลังสำรวจมาที่นี่ และหลังจากนั้นไม่นาน สงครามกับพวก Sapha ก็เริ่มขึ้น...";
				close;
			case 4:
				close;
			}
		} else if (ins_nyd == 92) {
			mes "พวก Sapha ถึงกับยอมร่วมมือกับเผ่าพันธุ์ที่ไม่รู้จักเลยงั้นเหรอ?";
			next;
			mes "[Laphine Prisoner]";
			mes "เป้าหมายของคุณคืออะไร? ทำไมคุณถึงอยากรู้ว่าสถานที่แห่งนั้นคืออะไรกันแน่?";
			next;
			mes "[Laphine Prisoner]";
			mes "ก็ได้... เป็นอย่างที่คุณสันนิษฐานไว้ ที่นั่นคือสถานที่เชื่อมต่อกับต้นไม้โลก และยังเป็น Guardian's Nest (รังของผู้พิทักษ์) อีกด้วย";
			next;
			select("รังของผู้พิทักษ์?");
			mes "[Laphine Prisoner]";
			mes "ใช่ ที่นั่นคือรังของ Nidhoggur ผู้พิทักษ์แห่งต้นไม้โลก...";
			next;
			mes "[Laphine Prisoner]";
			mes "มีเพียงผู้รับใช้ที่มีตราประทับจากเผ่า Laphine เท่านั้นที่ได้รับอนุญาตให้เข้าไปได้";
			next;
			mes "[Laphine Prisoner]";
			mes "เดิมทีสถานที่นั้นถูกปิดตายจากโลกภายนอก จนกระทั่งพวกยักษ์เผ่า Sapha เข้ามาทำให้ทุกอย่างเปลี่ยนไป...";
			next;
			mes "[Laphine Prisoner]";
			mes "เพื่อที่จะขุดหาแร่ธาตุเพิ่ม พวกมันเริ่มขุดเจาะพื้นดินอย่างบ้าคลั่ง";
			next;
			mes "[Laphine Prisoner]";
			mes "ในที่สุด พวกมันก็ทำลายส่วนหนึ่งของรากต้นไม้โลกที่อยู่ใกล้กับเหมืองของพวกมันมากเกินไป ทำให้ต้นไม้โลกเริ่มเจ็บป่วยอย่างหนัก";
			next;
			mes "[Laphine Prisoner]";
			mes "กว่าพวกเราจะมาถึงและรู้ความจริง ต้นไม้โลกก็อยู่ในสภาพที่แย่มากแล้ว เนื่องมาจากโรงงานจำนวนมากที่เผ่า Sapha สร้างขึ้น";
			next;
			mes "[Laphine Prisoner]";
			mes "แม้ว่าพวกเราจะพยายามโจมตีพวก Sapha เพื่อบีบให้พวกมันออกไปเป็นเวลานาน แต่พวกนั้นก็ไม่ยอมแพ้ง่ายๆ จนทำให้สถานการณ์ยืดเยื้อมาจนถึงตอนนี้";
			next;
			mes "[Laphine Prisoner]";
			mes "และในช่วงเวลานี้เอง เผ่าพันธุ์ของคุณก็ได้เดินทางผ่านรอยแยกกาลเวลามายังดินแดนแห่งนี้";
			next;
			mes "[Laphine Prisoner]";
			mes "เพราะเหตุผลที่ไม่คาดคิดหลายอย่าง รังของผู้พิทักษ์ที่ควรจะถูกซ่อนอยู่ลึกใต้พื้นดิน กลับถูกเผ่าพันธุ์ของคุณค้นพบเข้า...";
			next;
			mes "[Laphine Prisoner]";
			mes "ตอนนี้คุณคงเข้าใจความรุนแรงของสถานการณ์แล้ว เพราะพวก Sapha ทำให้พวกเราไม่สามารถเข้าใกล้ผู้พิทักษ์เพื่อขอคำชี้แนะจากท่านได้อีก";
			next;
			mes "[Laphine Prisoner]";
			mes "หึ... ต่อให้ฉันไม่ให้ความร่วมมือ ฉันก็รู้ว่าคุณคงจะหาวิธีอื่นเข้าไปจนได้ล่ะสิ...";
			next;
			mes "[Laphine Prisoner]";
			mes "เมื่อดูจากสถานการณ์ปัจจุบันของชาว Laphine แล้ว พวกเราไม่มีกำลังพอที่จะโอบล้อมพื้นที่ Manuk และขับไล่พวกยักษ์ออกไปได้";
			next;
			mes "[Laphine Prisoner]";
			mes "ก็ได้ ในเมื่อมันกลายเป็นแบบนี้แล้ว ฉันจะช่วยคุณเอง มันไม่มีทางตันหรอก ถ้าคุณพยายามต่อไป คุณจะพบทางแก้ไขแน่นอน";
			next;
			mes "[Laphine Prisoner]";
			mes "ต่อให้ฉันไม่พูดอะไร สถานการณ์ของฉันมันก็ไม่เปลี่ยนไปจากเดิมหรอก";
			next;
			mes "[Laphine Prisoner]";
			mes "ฉันบอกทุกอย่างที่คุณอยากได้ยินไปหมดแล้ว หากคุณมีคำขออื่นใดอีก โปรดแจ้งให้ฉันทราบ";
			set ins_nyd,102;
			close;
		} else if (ins_nyd == 102) {
			mes "อา คุณบอกว่ามีพลังงานประหลาดขวางทางเข้าสู่รังของผู้พิทักษ์อยู่ใช่ไหม?";
			next;
			mes "[Laphine Prisoner]";
			mes "นั่นเป็นเพราะมีเพียงผู้ที่ถูกเลือกโดยผู้พิทักษ์เท่านั้นที่จะเข้าไปได้";
			next;
			mes "[Laphine Prisoner]";
			mes "พวกเราเป็นผู้รับใช้ของผู้พิทักษ์มาหลายชั่วอายุคน และคอยปกป้องต้นไม้โลกมาโดยตลอด";
			next;
			mes "[Laphine Prisoner]";
			mes "ก่อนที่เราจะถูกจับมาที่นี่ มีผู้รับใช้ทั้งหมด 3 คนรวมถึงฉัน หน้าที่ของพวกเราคือการเยียวยาต้นไม้โลก";
			next;
			mes "[Laphine Prisoner]";
			mes "คนหนึ่งถูกฆ่าตายในสงครามครั้งล่าสุดกับพวก Sapha... และฉันก็ถูกจับมาเป็นเชลย";
			next;
			mes "[Laphine Prisoner]";
			mes "ฉันจะมอบเครื่องหมายยืนยันให้คุณ ไม่ต้องห่วงนะ ฉันแค่ทำเครื่องหมายให้คุณเป็นผู้รับใช้ของผู้พิทักษ์ชั่วคราวเท่านั้น";
			specialeffect2 EF_HOLYHIT;
			next;
			mes "[Laphine Prisoner]";
			mes "และจงจำบทสวดนี้ไว้ เพราะมันจำเป็นต้องใช้ในการเปิดประตูของผู้พิทักษ์";
			next;
			mes "[Laphine Prisoner]";
			mes "AnomarDu Ha OdesUdenVer Ie ";
			next;
			mes "[Laphine Prisoner]";
			mes "remuAlaAsh Mu ModtasAn Yu Dur";
			next;
			mes "[Laphine Prisoner]";
			mes "TalsehrDur So CyaReMush Di DielAlaWos Ie RuffserIman Ie ";
			next;
			mes "[Laphine Prisoner]";
			mes "จงไปหาแฟรี่ที่เฝ้าประตูอยู่ แล้วกล่าวบทสวดนี้ออกมา";
			next;
			mes "[Laphine Prisoner]";
			mes "เครื่องหมายและบทสวดนี้จะเป็นตัวยืนยันว่าคุณคือหนึ่งในผู้รับใช้ของผู้พิทักษ์";
			next;
			mes "[Laphine Prisoner]";
			mes "ได้โปรดไปพบผู้พิทักษ์ และกลับมาพร้อมคำตอบของทุกอย่าง และนำคำตอบไปบอกกับ...";
			set ins_nyd,112;
			close;
		} else if ((ins_nyd == 71) || (ins_nyd == 81) || (ins_nyd == 91) || (ins_nyd == 101) || (ins_nyd == 111) || (ins_nyd == 121) || (ins_nyd == 131)) {
			mes "... ...";
			next;
			mes "[Manuk Guard]";
			mes "เฮ้ คนนอก! ถอยออกมาจากนักโทษเดี๋ยวนี้!";
			close;
		} else if (ins_nyd == 112) {
			mes "ได้โปรดไปพบผู้พิทักษ์ และกลับมาพร้อมคำตอบของทุกอย่าง และนำคำตอบไปบอกกับ...";
			close;
		} else if (ins_nyd == 132) {
			mes "ใช่... ฉันได้ยินที่คุณคุยกับพวก Sapha แล้ว...";
			next;
			mes "[Laphine Prisoner]";
			mes "ถ้าคนของฉันจะหันมาไว้ใจพวก Sapha จริงๆ ล่ะก็... ฉันก็ไม่รู้สิ";
			next;
			mes "[Laphine Prisoner]";
			mes "ความเกลียดชังที่พวกเรามีต่อพวกนั้นมันพุ่งสูงเกินกว่าระดับปกติไปแล้ว...";
			next;
			mes "[Laphine Prisoner]";
			mes "ยักษ์พวกนั้น... จะไว้ใจได้จริงๆ งั้นเหรอ?";
			next;
			mes "[Laphine Prisoner]";
			mes "มัน... มันจะดีกว่าถ้าคุณไม่เชื่อคนที่ชื่อ Etorr นั่น... จิตใจของพวก Sapha น่ะคาดเดาไม่ได้หรอก";
			close;
		} else {
			mes "... ...";
			next;
			mes "[Manuk Guard]";
			mes "เฮ้ คนนอก! ถอยออกมาจากนักโทษเดี๋ยวนี้!";
			close;
		}
	} else {
		// ภาษาเผ่า Laphine เมื่อไม่ใส่แหวน
		mes "AmanVilShar Ie DorLuShar Mu Re";
		close;
	}
}

// ระบบดักจับเพื่อนำตัวผู้เล่นไปพบ Neat Etorr
man_in01,282,42,0	script	trap#edq2	-1,10,10,{
OnTouch_:
	// ตรวจสอบว่าใส่แหวนแปลภาษา และอยู่ในขั้นตอนเควสต์ที่ต้องพบผู้นำหรือไม่
	if ((isequipped(2782) == 1) && (ins_nyd == 52)) {
		mes "[Manuk Field Elite Soldier]";
		mes "นี่คือคำสั่งของท่าน Neat Etorr โปรดตามพวกเราไปพบท่านด้วยครับ";
		next;
		mes "[Manuk Field Elite Soldier]";
		mes "นำตัวเขาไปหาท่าน Neat Etorr ทหารทุกนาย เตรียมพร้อม!";
		// วาร์ปผู้เล่นไปยืนหน้าผู้นำเผ่า Sapha
		warp "man_in01",311,54;
		close;
	}
	end;
}

// First floor
//============================================================
1@nyd,213,277,5	script	Murdered Yggdrasilid#1F	437,5,5,{
	if ('ins_nyd2 == 0) {
		mes "เมื่อแสงสว่างอันริบหรี่สัมผัสถึงหัวใจของคุณ เสียงหนึ่งก็ดังขึ้นในหัว...";
		next;
		mes "[World Tree Yggdrasil]";
		mes "ทุกอย่างมันจบสิ้นแล้ว... ผู้รับใช้แห่งผู้พิทักษ์... รีบหนีไปจากที่นี่ซะ";
		next;
		while(1) {
			switch(select("คุณคือใคร?:คุณหมายความว่ายังไง?")) {
			case 1:
				mes "[World Tree Yggdrasil]";
				mes "ข้า... ข้าคือต้นไม้โลก Yggdrasil ผู้รับใช้ของผู้พิทักษ์ Nidhoggur และยังเป็นมหาปุโรหิตผู้นำของเหล่าชาว Laphine ด้วย";
				next;
				mes "[World Tree Yggdrasil]";
				mes "ดูเหมือนคุณจะไม่ใช่นักบวชหญิงของเผ่า Laphine... คุณเข้ามาที่นี่ได้อย่างไรกัน? ไม่สิ... ไม่มีเวลามานั่งตอบเรื่องนั้นแล้ว";
				next;
				mes "[World Tree Yggdrasil]";
				mes "เร็วเข้า... รีบไปซะ... ออกไปจากที่นี่ก่อนที่มันจะสายเกินไป";
				next;
				break;
			case 2:
				mes "[World Tree Yggdrasil]";
				mes "ผู้พิทักษ์... มีบางอย่างผิดปกติเกิดขึ้นกับผู้พิทักษ์ ข้าไม่รู้เลยว่าอะไรที่ทำให้ท่านกลายเป็นแบบนี้";
				next;
				mes "[World Tree Yggdrasil]";
				mes "ที่นี่... ที่นี่ไม่ใช่รังของผู้พิทักษ์แห่งต้นไม้โลก Yggdrasil อีกต่อไปแล้ว";
				next;
				mes "[World Tree Yggdrasil]";
				mes "ความมืดมิดเข้าครอบงำผู้พิทักษ์และทำลายล้างทุกชีวิต... ตอนนี้สถานที่แห่งนี้ได้กลายเป็นบ้านที่ถูกสาปของเหล่ามอนสเตอร์ไปแล้ว";
				next;
				mes "[World Tree Yggdrasil]";
				mes "ตอนนี้ Nidhoggur's Shadow (เงาของนิดฮอกเกอร์) อันชั่วร้ายกำลังสร้างความหายนะอยู่ที่นี่...";
				next;
				mes "[World Tree Yggdrasil]";
				mes "ตอนนี้ยังไม่สายเกินไป รีบออกไปซะ... นำเรื่องนี้ไปบอกเผ่า Laphine... แจ้งผู้บัญชาการแห่ง Alfheim...";
				next;
				mes "[World Tree Yggdrasil]";
				mes "วิญญาณของข้า... ถูกจองจำอยู่ที่นี่ คุณคือคนเดียวที่ข้าสามารถเชื่อใจได้ในตอนนี้";
				next;
				set .@exit,1;
			}
			if (.@exit) break;
		}
		select("เงาของ Nidhoggur งั้นเหรอ?");
		mes "[World Tree Yggdrasil]";
		mes "ผู้พิทักษ์ Nidhoggur... ท่านไม่อยู่ในรังแล้ว";
		next;
		mes "[World Tree Yggdrasil]";
		mes "ท่าน... ได้ละทิ้งเงาของตนเองและจากไป ด้วยเหตุผลบางประการ";
		next;
		mes "[World Tree Yggdrasil]";
		mes "สิ่งที่เหลืออยู่ มีเพียง 'เงา' อันอัปลักษณ์ของผู้พิทักษ์ Nidhoggur... เงาที่กำลังคลุ้มคลั่ง";
		next;
		mes "[World Tree Yggdrasil]";
		mes "เงาตนนั้นได้สูบกินสารอาหารทั้งหมดไปจากต้นไม้โลก Yggdrasil และเริ่มบ้าคลั่งเมื่อไม่มีอะไรให้มันสูบกินได้อีก ตอนนี้... มันต้องการดินแดนแห่งนี้";
		next;
		mes "[World Tree Yggdrasil]";
		mes "เมื่อใดที่เงาอันอัปลักษณ์นี้หนีออกไปเพื่อขโมยพลังจากต้นไม้โลกต้นอื่นๆ จะเกิดการทำลายล้างครั้งยิ่งใหญ่ และโลกนี้จะกลายเป็นขุมนรก";
		next;
		mes "[World Tree Yggdrasil]";
		mes "คุณต้อง... บอกเรื่องนี้แก่ผู้บัญชาการแห่ง Alfheim เพื่อหาทางรับมือ มีเพียงพวกเขาเท่านั้น...";
		next;
		select("ไม่มีอะไรที่เราพอจะทำได้เลยเหรอ?");
		mes "[World Tree Yggdrasil]";
		mes "ด้วยพลังของพวกเราในตอนนี้... มันเป็นไปไม่ได้เลยที่จะพิชิตผู้พิทักษ์ได้";
		next;
		mes "[World Tree Yggdrasil]";
		mes "แต่สิ่งที่กำลังคลุ้มคลั่งอยู่ไม่ใช่ตัวผู้พิทักษ์ แต่เป็น 'เงา' อันมืดมิดของเขา... บางทีเราอาจจะกักขังมันไว้ที่นี่ได้...";
		next;
		mes "[World Tree Yggdrasil]";
		mes "คุณเต็มใจจะรับภารกิจนี้ไหม? แม้ว่ามันอาจจะต้องแลกด้วยชีวิตของคุณก็ตาม?";
		next;
		if(select("ปล่อยให้เป็นหน้าที่ของเราเอง:พวกเราทำไม่ไหวหรอก") == 2)
			close;
		mes "[World Tree Yggdrasil]";
		mes "ข้าขอบใจในการตัดสินใจของคุณอย่างสุดซึ้ง ข้าจะใช้พลังที่เหลืออยู่ทั้งหมดเพื่อเปิดเส้นทางสู่รังของผู้พิทักษ์";
		next;
		mes "[World Tree Yggdrasil]";
		if (is_party_leader() == true) {
			mes "เส้นทางสู่รังของผู้พิทักษ์อยู่เลยน้ำตกข้างต้นไม้โลกยักษ์ทางทิศเหนือไป ระบบป้องกันของศาสนสถานจะเริ่มทำงานในทันที";
			next;
			mes "[World Tree Yggdrasil]";
			mes "จงกำจัดเหล่าองครักษ์ของผู้พิทักษ์ทั้งหมด แล้วผ่านน้ำตกเข้าไปในรัง... และหยุดยั้ง 'เงาของ Nidhoggur' ที่นั่นซะ";
			next;
			mes "[World Tree Yggdrasil]";
			mes "ประตูจะเปิดออกในไม่ช้า จงไปกำจัดองครักษ์ทั้งหมด... คุณต้องกำจัดพวกมันให้หมดภายใน 30 นาที ก่อนที่ประตูจะเปิด...";
			next;
			mes "[World Tree Yggdrasil]";
			mes "30 นาที... นั่นคือขีดจำกัดพลังของข้าแล้ว ได้โปรดรีบหน่อย";
			next;
			mes "[World Tree Yggdrasil]";
			mes "และ... ระวังตัวด้วย... จงระวังพลังแห่งเงามืดให้ดี";
			'ins_nyd2 = 1;
			donpcevent instance_npcname("ins_nyd_1f_timer")+"::OnEnable";
			donpcevent instance_npcname("nyd_call_mon_1")+"::OnEnable";
			close;
		} else {
			mes "เส้นทางสู่รังของผู้พิทักษ์อยู่เลยน้ำตกข้างต้นไม้โลกยักษ์ทางทิศเหนือไป ระบบป้องกันจะเริ่มทำงานในทันที";
			next;
			mes "[World Tree Yggdrasil]";
			mes "จงกำจัดเหล่าองครักษ์ของผู้พิทักษ์ทั้งหมด แล้วผ่านน้ำตกเข้าไปในรัง... และหยุดยั้ง 'เงาของ Nidhoggur' ที่นั่นซะ";
			next;
			mes "[World Tree Yggdrasil]";
			mes "ประตูจะเปิดออกในไม่ช้า จงไปกำจัดองครักษ์ทั้งหมด... คุณต้องกำจัดพวกมันให้หมดภายใน 30 นาที ก่อนที่ประตูจะเปิด...";
			next;
			mes "[World Tree Yggdrasil]";
			mes "30 นาที... นั่นคือขีดจำกัดพลังของข้าแล้ว ได้โปรดรีบหน่อย";
			next;
			mes "[World Tree Yggdrasil]";
			mes "และ... ระวังตัวด้วย... จงระวังพลังแห่งเงามืดให้ดี";
			close;
		}
	} else if ('ins_nyd2 == 1) {
		mes "[World Tree Yggdrasil]";
		mes "เส้นทางสู่รังของผู้พิทักษ์อยู่เลยน้ำตกทางทิศเหนือไป ระบบป้องกันจะเริ่มทำงานในทันที";
		next;
		mes "[World Tree Yggdrasil]";
		mes "จงกำจัดองครักษ์ทั้งหมดและผ่านน้ำตกเข้าไป... หยุดยั้งเงาของ Nidhoggur ให้ได้";
		next;
		mes "[World Tree Yggdrasil]";
		mes "ประตูจะเปิดในไม่ช้า จงไปกำจัดองครักษ์ให้สิ้น";
		close;
	} else if ('ins_nyd2 == 2) {
		mes "[World Tree Yggdrasil]";
		mes "เส้นทางสู่รังของผู้พิทักษ์อยู่เลยน้ำตกข้างต้นไม้โลกยักษ์ทางทิศเหนือไป";
		next;
		mes "[World Tree Yggdrasil]";
		mes "จงใช้พลังของคุณ... ทำลายล้างเงาอันชั่วร้ายนั่นซะ...";
		next;
		mes "[World Tree Yggdrasil]";
		mes "นี่คือ... ทั้งหมดที่ข้าพอจะช่วยคุณได้...";
		close;
	} else {
		mes "[World Tree Yggdrasil]";
		mes "พวกที่คิดจะทำให้ศาสนสถานอันศักดิ์สิทธิ์ของผู้พิทักษ์ต้องแปดเปื้อน... จงออกไปซะ";
		warp "mid_camp",100,100;
	}
	end;

OnTouch:
	if ('ins_nyd2 == 0) {
		mes "ผู้หญิงจากเผ่า Laphine มาทำอะไรที่นี่กัน...";
		next;
		mes "เกิดอะไรขึ้นน่ะ? ลองไปตรวจสอบดูสิ";
		close;
	}
	end;

OnInstanceInit:
	set 'ins_nyd2,0;
	end;
}

1@nyd,1,1,0	script	nyd_call_mon_1	-1,{
OnInstanceInit:
	enablenpc instance_npcname("nyd_call_mon_1");
	end;

OnEnable:
	set .@map$, instance_mapname("1@nyd");
	// เรียกมอนสเตอร์องครักษ์ออกมาตามพิกัดที่กำหนด
	monster .@map$,220,250,"Nidhoggur's Guardian#1",2020,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,220,252,"Nidhoggur's Guardian#2",2020,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,240,270,"Nidhoggur's Guardian#3",2020,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,240,272,"Nidhoggur's Guardian#4",2020,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,200,200,"Nidhoggur's Guardian#5",2020,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,210,210,"Nidhoggur's Guardian#6",2020,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,225,265,"Nidhoggur's Guardian#7",2021,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,225,270,"Nidhoggur's Guardian#8",2021,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,245,235,"Nidhoggur's Guardian#9",2021,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,255,255,"Nidhoggur's Guardian#10",2021,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,225,245,"Nidhoggur's Guardian#11",2021,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	monster .@map$,230,280,"Nidhoggur's Guardian#12",2021,1,instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	
	// ข้อความประกาศเมื่อเริ่มภารกิจ
	mapannounce .@map$, "Nidhoggur's Guardian : จงปกป้องศาสนสถานของผู้พิทักษ์ และกำจัดเหล่าผู้บุกรุกออกไปให้สิ้น!",bc_map,"0x00ff99";
	end;

OnDisable:
	killmonster instance_mapname("1@nyd"),instance_npcname("nyd_call_mon_1")+"::OnMyMobDead";
	disablenpc instance_npcname("nyd_call_mon_1");
	end;

OnMyMobDead:
	set .@map$, instance_mapname("1@nyd");
	set .@mob_dead_num,mobcount(.@map$, instance_npcname("nyd_call_mon_1")+"::OnMyMobDead");
	
	// เมื่อกำจัดมอนสเตอร์ครบทุกตัว
	if (.@mob_dead_num < 1) {
		mapannounce .@map$, "เหล่าองครักษ์ของ Nidhoggur ทั้งหมดถูกกำจัดแล้ว!",bc_map,"0x00ff99";
		donpcevent instance_npcname("ins_nyd_1f_timer")+"::OnDisable";
		donpcevent instance_npcname("nyd_to2f_warp")+"::OnEnable";
		'ins_nyd2 = 2; // ปลดล็อกสถานะเพื่อไปชั้น 2
	}
	end;
}

1@nyd,1,2,0	script	ins_nyd_1f_timer	-1,{
OnInstanceInit:
	disablenpc instance_npcname("ins_nyd_1f_timer");
	end;

OnEnable:
	enablenpc instance_npcname("ins_nyd_1f_timer");
	initnpctimer;
	end;

OnDisable:
	disablenpc instance_npcname("ins_nyd_1f_timer");
	stopnpctimer;
	killmonsterall instance_mapname("1@nyd");
	end;

// ประกาศเมื่อผ่านไป 15 นาที
OnTimer900000:
	mapannounce instance_mapname("1@nyd"), "World Tree Yggdrasil : เหลือเวลาอีกไม่มากแล้ว ได้โปรดรีบหน่อย",bc_map,"0xFFFF00";
	end;

// ประกาศเมื่อผ่านไป 20 นาที
OnTimer1200000:
	mapannounce instance_mapname("1@nyd"), "World Tree Yggdrasil : พลังของข้ากำลังจะค่อยๆ จางหายไป ได้โปรดเร่งมือเข้า",bc_map,"0xFFFF00";
	end;

// ประกาศเมื่อผ่านไป 25 นาที
OnTimer1500000:
	mapannounce instance_mapname("1@nyd"), "World Tree Yggdrasil : ข้า... เริ่มจะถึงขีดจำกัดแล้ว... ได้โปรดรีบหน่อยเถอะ",bc_map,"0xFFFF00";
	end;

// ประกาศเมื่อครบ 30 นาที (ล้มเหลว)
OnTimer1800000:
	mapannounce instance_mapname("1@nyd"), "World Tree Yggdrasil : พวกคุณล้มเหลว... แต่ข้าจะใช้พลังเฮือกสุดท้ายที่เหลืออยู่... ส่งพวกคุณออกไปจากที่นี่",bc_map,"0xFFFF00";
	end;

OnTimer1830000:
	mapannounce instance_mapname("1@nyd"), "การเปิดประตูสู่รังล้มเหลว",bc_map,"0xFFFF00";
	end;

OnTimer1850000:
	donpcevent instance_npcname("ins_nyd_1f_timer")+"::OnDisable";
	donpcevent instance_npcname("nyd_call_mon_1")+"::OnDisable";
	// วาร์ปทุกคนในปาร์ตี้กลับไปยังจุดพักแรมมิดการ์ด (Midgard Camp)
	instance_warpall "mid_camp",310,150, instance_id();
	stopnpctimer;
	end;
}

1@nyd,195,320,0	script	nyd_to2f_warp	45,5,5,{
OnInstanceInit:
OnDisable:
	disablenpc instance_npcname("nyd_to2f_warp");
	end;

OnEnable:
	enablenpc instance_npcname("nyd_to2f_warp");
	end;

OnTouch:
	'ins_nyd2 = ins_nyd2 = 3;
	warp instance_mapname("2@nyd"),200,10;
	end;
}

1@nyd,1,1,0	script	ins_nyd1_spawn_mobs	-1,{
OnInstanceInit:
	set .@map$, instance_mapname("1@nyd");
	monster .@map$,0,0,"Ancient Tree",2019,40,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyTreeDead";
	monster .@map$,0,0,"Rhyncho",2020,30,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyRhynDead";
	monster .@map$,0,0,"Phylla",2021,30,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyPhyDead";
	monster .@map$,0,0,"Aqua Elemental",2016,30,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyAquaDead";
	monster .@map$,0,0,"Dark Pinguicula",2015,30,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyPingDead";
	end;

OnMyTreeDead:
	monster instance_mapname("1@nyd"),0,0,"Ancient Tree",2019,1,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyTreeDead";
	end;

OnMyRhynDead:
	monster instance_mapname("1@nyd"),0,0,"Rhyncho",2020,1,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyRhynDead";
	end;

OnMyPhyDead:
	monster instance_mapname("1@nyd"),0,0,"Phylla",2021,1,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyPhyDead";
	end;

OnMyAquaDead:
	monster instance_mapname("1@nyd"),0,0,"Aqua Elemental",2016,1,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyAquaDead";
	end;

OnMyPingDead:
	monster instance_mapname("1@nyd"),0,0,"Dark Pinguicula",2015,1,instance_npcname("ins_nyd1_spawn_mobs")+"::OnMyPingDead";
	end;
}

// Second Floor
//============================================================
2@nyd,200,14,0	script	nyd_2f_enter	-1,6,6,{
OnTouch_:
	donpcevent instance_npcname("nyd_2f_enter_broad")+"::OnEnable";
	disablenpc instance_npcname("nyd_2f_enter");
	end;
}

// ระบบประกาศเสียงของ Nidhoggur's Shadow เมื่อผู้เล่นเข้าสู่ชั้น 2
2@nyd,1,1,0	script	nyd_2f_enter_broad	-1,{
OnInstanceInit:
OnDisable:
	disablenpc instance_npcname("nyd_2f_enter_broad");
	end;

OnEnable:
	enablenpc instance_npcname("nyd_2f_enter_broad");
	initnpctimer;
	end;

OnTimer12000:
	mapannounce instance_mapname("2@nyd"), "Nidhoggur's Shadow : ไม่ไหวแล้ว... ข้าทนรับมันต่อไปไม่ไหวแล้ว...",bc_map,"0xFFFF00";
	end;

OnTimer15000:
	mapannounce instance_mapname("2@nyd"), "Nidhoggur's Shadow : ข้าต้องการ... ข้าต้องการพลังของต้นไม้โลก Yggdrasil...",bc_map,"0xFFFF00";
	end;

OnTimer18000:
	mapannounce instance_mapname("2@nyd"), "Nidhoggur's Shadow : ทำลาย... ทุกสรรพสิ่ง...",bc_map,"0xFFFF00";
	stopnpctimer;
	disablenpc instance_npcname("nyd_2f_enter_broad");
	end;
}

// จุดควบคุมการเปลี่ยนมิติ (Warp) ภายในชั้น 2
2@nyd,199,178,0	script	nyd_2f_ddr_control	-1,6,6,{
OnTouch:
	specialeffect2 EF_HOLYHIT;
	mes "มีกระแสลมประหลาดก่อตัวขึ้นจากใต้หินอันวิจิตรตระการตา";
	next;
	mes "พลังอันแปลกประหลาดค่อยๆ เข้าโอบล้อมร่างกายของคุณ มิติรอบตัวเริ่มมีการบิดเบี้ยวและเปลี่ยนแปลงไป";
	close2;
	// วาร์ปผู้เล่นไปยังพิกัดในมิติถัดไป
	warp instance_mapname("2@nyd"),199,255;
	end;
}

2@nyd,199,268,0	script	nyd_2f_boss_enter	-1,8,8,{
OnTouch:	// !Fix me: official script uses OnTouch_
	if (is_party_leader() == true) {
		donpcevent instance_npcname("nyd_2f_boss_enter_call")+"::OnEnable";
		disablenpc instance_npcname("nyd_2f_boss_enter");
		end;
	}
	end;
}

2@nyd,2,2,0	script	nyd_2f_boss_enter_call	-1,{
OnInstanceInit:
	disablenpc instance_npcname("nyd_2f_boss_enter_call");
	end;

OnEnable:
	enablenpc instance_npcname("nyd_2f_boss_enter_call");
	set .@map$, instance_mapname("2@nyd");
	// เรียกบอส Nidhoggur's Shadow ออกมา
	monster .@map$,199,327,"Nidhoggur's Shadow",2022,1,instance_npcname("nyd_2f_boss_enter_call")+"::OnMyMobDead";
	mapannounce .@map$, "Nidhoggur's Shadow : ข้าจะกลืนกินพวกเจ้าทุกคน... ทั้งพวกเจ้าและต้นไม้โลก Yggdrasil!",bc_map,"0x00ff99";
	//donpcevent instance_npcname("nyd_2f_boss_enter_call")+"::Ongo";
	initnpctimer;
	end;

OnDisable:
	killmonster instance_mapname("2@nyd"),instance_npcname("nyd_2f_boss_enter_call")+"::OnMyMobDead";
	disablenpc instance_npcname("nyd_2f_boss_enter_call");
	end;

// เมื่อเวลาผ่านไป 3 นาที (180,000 ms) จะเริ่มกลไกการวาร์ปสุ่มห้อง
OnTimer180000:
	stopnpctimer;
OnWarpColor:
	set .@map$, instance_mapname("2@nyd");
	switch(rand(1,4)) {
	case 1:
		// ห้องสีแดง (Red Room) - เลือด
		mapannounce .@map$, "Nidhoggur's Shadow : ท่ามกลางความบ้าคลั่งนี้... เลือดของพวกเจ้าคือสิ่งที่ข้าต้องการ!",bc_map,"0xFFFF00";
		donpcevent instance_npcname("nyd_2f_white")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_yellow")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_green")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_red")+"::OnEnable";
		instance_warpall .@map$,115,278, instance_id();
		end;
	case 2:
		// ห้องสีขาว (White Room) - แช่แข็ง
		mapannounce .@map$, "Nidhoggur's Shadow : ข้าจะแช่แข็งเลือดของพวกเจ้าทุกหยดให้เย็นเยียบ!",bc_map,"0xFFFF00";
		donpcevent instance_npcname("nyd_2f_red")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_yellow")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_green")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_white")+"::OnEnable";
		instance_warpall .@map$,115,373, instance_id();
		end;
	case 3:
		// ห้องสีเหลือง (Yellow Room) - นิทรา/ภาพลวงตา
		mapannounce .@map$, "Nidhoggur's Shadow : จงหลับใหลไปชั่วกาลนานในภาพลวงตาอันว่างเปล่านี้ซะเถอะ!",bc_map,"0xFFFF00";
		donpcevent instance_npcname("nyd_2f_red")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_white")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_green")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_yellow")+"::OnEnable";
		instance_warpall .@map$,284,278, instance_id();
		end;
	case 4:
		// ห้องสีเขียว (Green Room) - ความเจ็บปวด
		mapannounce .@map$, "Nidhoggur's Shadow : ข้าจะให้พวกเจ้าได้ลิ้มรสความทรมานจากการค่อยๆ ตายอย่างช้าๆ!",bc_map,"0xFFFF00";
		donpcevent instance_npcname("nyd_2f_red")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_white")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_yellow")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_green")+"::OnEnable";
		instance_warpall .@map$,284,374, instance_id();
		end;
	}
	end;

OnMyMobDead:
	set .@map$, instance_mapname("2@nyd");
	if (mobcount(.@map$,instance_npcname("nyd_2f_boss_enter_call")+"::OnMyMobDead") < 1) {
		// เมื่อบอสถูกกำจัด
		mapannounce .@map$, "Nidhoggur's Shadow : ผู้พิทักษ์แห่งต้นไม้โลก Yggdrasil... พลังของเขากำลังสูญสิ้นไป...",bc_map,"0x00ff99";
		donpcevent instance_npcname("World Tree Yggdrasil#2F")+"::OnEnable";
		donpcevent instance_npcname("nyd_2f_boss_enter_call")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_boss_enter_logic")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_red_c")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_white_c")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_yellow_c")+"::OnDisable";
		donpcevent instance_npcname("nyd_2f_green_c")+"::OnDisable";
		'ins_nyd2 = 4; // ตั้งค่าสถานะว่าบอสถูกกำจัดแล้ว
		end;
	}
	end;
}

2@nyd,2,4,0	script	nyd_2f_boss_enter_logic	-1,{
OnInstanceInit:
	disablenpc instance_npcname("nyd_2f_boss_enter_logic");
	end;

OnEnable:
	stopnpctimer;
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	disablenpc instance_npcname("nyd_2f_boss_enter_logic");
	end;

OnTimer180000:
	stopnpctimer;
	donpcevent instance_npcname("nyd_2f_boss_enter_call")+"::OnWarpColor";
	end;
}

2@nyd,202,324,5	script	World Tree Yggdrasil#2F	437,3,3,{
	mes "[World Tree Yggdrasil]";
	mes "ขอบคุณมาก... คุณคือผู้ช่วยชีวิตของทั้งมวลมนุษย์และเผ่า Laphine";
	next;
	mes "[World Tree Yggdrasil]";
	mes "คุณกำจัดเงาของ Nidhoggur ได้แล้ว แต่... มันยังไม่ได้หายไปตลอดกาลหรอกนะ พลังของมันเพียงแค่ถูกทำให้หลับใหลไปเท่านั้น";
	next;
	mes "[World Tree Yggdrasil]";
	mes "แต่แค่นี้คุณก็ช่วยดึงเวลาให้พวกเราได้มากพอแล้ว ช่างเป็นเรื่องที่วิเศษยิ่งนัก";
	next;
	mes "[World Tree Yggdrasil]";
	mes "โปรดนำเรื่องนี้ไปรายงานแก่ผู้ที่รับผิดชอบในเมือง Splendide และ Manuk ด้วยเถิด";
	next;
	mes "[World Tree Yggdrasil]";
	mes "ดังเช่นที่คุณได้ประจักษ์แล้ว ไม่ว่าจะเป็นเผ่า Sapha หรือ Laphine ต่างก็ไม่ใช่ต้นเหตุที่ทำให้ต้นไม้โลกอ่อนแอลง ทั้งหมดเป็นเพราะเงาของผู้พิทักษ์...";
	next;
	mes "[World Tree Yggdrasil]";
	mes "ความคุ้มคลั่งของผู้พิทักษ์นั้น... เกิดจากพลังลึกลับที่เรามิอาจหยั่งรู้... คุณต้องบอกเรื่องนี้ให้ทุกคนได้รับทราบ";
	next;
	mes "[World Tree Yggdrasil]";
	mes "เอาละ... ให้ข้านำทางคุณออกจากรังที่ต้องสาปแห่งนี้เถิด";
	next;
	switch(select("โปรดส่งฉันออกไปข้างนอก:ฉันอยากจะขอสำรวจแถวนี้ต่ออีกสักพัก")) {
	case 1:
		'ins_nyd2 = 0;
		set ins_nyd,203; // อัปเดตสถานะเควสต์เพื่อไปรับรางวัลกับ Neat Etorr หรือ Arioss
		// วาร์ปผู้เล่นกลับไปยังหน้าทางเข้าดันเจี้ยน
		warp "nyd_dun02",98,196;
		end;
	case 2:
		mes "[World Tree Yggdrasil]";
		mes "อย่างนั้นหรือ... ข้าจะยังอยู่ที่นี่หากคุณต้องการจะจากไป";
		close;
	}

OnInstanceInit:
OnDisable:
	disablenpc instance_npcname("World Tree Yggdrasil#2F");
	end;

OnEnable:
	enablenpc instance_npcname("World Tree Yggdrasil#2F");
	// ประกาศข้อความเมื่อบอสถาย
	mapannounce instance_mapname("2@nyd"), "World Tree Yggdrasil : ทำได้ดีมาก ขอให้ทุกคนไปรวมตัวกันที่วงเวทย์ตรงกลาง และเตรียมตัวสำหรับการล่มสลายของรังแห่งนี้",bc_map,"0x00ff99";
	end;
}

2@nyd,115,278,0	script	nyd_2f_red	-1,5,5,{
OnInstanceInit:
	disablenpc();
	end;

OnEnable:
	enablenpc();
	donpcevent instance_npcname(strnpcinfo(0)+"_warp1")+"::OnEnable";
	donpcevent instance_npcname(strnpcinfo(0)+"_warp2")+"::OnEnable";
	donpcevent instance_npcname(strnpcinfo(0)+"_warp3")+"::OnEnable";
	donpcevent instance_npcname(strnpcinfo(0)+"_c")+"::OnEnable";
	initnpctimer;
	end;

OnDisable:
	donpcevent instance_npcname(strnpcinfo(0)+"_warp1")+"::OnDisable";
	donpcevent instance_npcname(strnpcinfo(0)+"_warp2")+"::OnDisable";
	donpcevent instance_npcname(strnpcinfo(0)+"_warp3")+"::OnDisable";
	disablenpc();
	end;

OnTouch:
	if (compare(strnpcinfo(0),"red")) {
		percentheal -50,0;
		percentheal -30,0;
		sc_start SC_BLEEDING,60000,0;
	} else if (compare(strnpcinfo(0),"white")) {
		percentheal -50,0;
		sc_start SC_FREEZE,20000,0;
	} else if (compare(strnpcinfo(0),"yellow")) {
		percentheal 0,-50;
		sc_start SC_SLEEP,20000,0;
		sc_start SC_CONFUSION,60000,0;
	} else if (compare(strnpcinfo(0),"green")) {
		percentheal -50,-50;
		sc_start SC_POISON,60000,0;
	}
	end;

OnTimer10000:
	disablenpc();
	stopnpctimer;
	end;
}

2@nyd,6,6,0	script	nyd_2f_red_c	-1,{
OnInstanceInit:
	disablenpc();
	end;

OnEnable:
	enablenpc();
	initnpctimer;
	set .@map$, instance_mapname("2@nyd");
	set .@label$, instance_npcname(strnpcinfo(0))+"::OnMyMobDead";
	if (compare(strnpcinfo(0),"red")) {
		monster .@map$,120,285,"Nidhoggur's Guardian#1",2020,1,.@label$;
		monster .@map$,119,286,"Nidhoggur's Guardian#2",2020,1,.@label$;
		monster .@map$,120,270,"Nidhoggur's Guardian#3",2020,1,.@label$;
		monster .@map$,119,269,"Nidhoggur's Guardian#4",2021,1,.@label$;
		monster .@map$,118,270,"Nidhoggur's Guardian#5",2021,1,.@label$;
	} else if (compare(strnpcinfo(0),"white")) {
		monster .@map$,120,380,"Nidhoggur's Guardian#1",2020,1,.@label$;
		monster .@map$,119,381,"Nidhoggur's Guardian#2",2020,1,.@label$;
		monster .@map$,120,367,"Nidhoggur's Guardian#3",2020,1,.@label$;
		monster .@map$,119,366,"Nidhoggur's Guardian#4",2021,1,.@label$;
		monster .@map$,118,365,"Nidhoggur's Guardian#5",2021,1,.@label$;
	} else if (compare(strnpcinfo(0),"yellow")) {
		monster .@map$,282,284,"Nidhoggur's Guardian#1",2020,1,.@label$;
		monster .@map$,283,283,"Nidhoggur's Guardian#2",2020,1,.@label$;
		monster .@map$,280,275,"Nidhoggur's Guardian#3",2020,1,.@label$;
		monster .@map$,281,276,"Nidhoggur's Guardian#4",2021,1,.@label$;
		monster .@map$,281,277,"Nidhoggur's Guardian#5",2021,1,.@label$;
	} else if (compare(strnpcinfo(0),"green")) {
		monster .@map$,282,378,"Nidhoggur's Guardian#1",2020,1,.@label$;
		monster .@map$,283,377,"Nidhoggur's Guardian#2",2020,1,.@label$;
		monster .@map$,280,368,"Nidhoggur's Guardian#3",2020,1,.@label$;
		monster .@map$,281,368,"Nidhoggur's Guardian#4",2021,1,.@label$;
		monster .@map$,281,367,"Nidhoggur's Guardian#5",2021,1,.@label$;
	}
	end;

OnMyMobDead:
	set .@map$, instance_mapname("2@nyd");
	// ตรวจสอบว่ามอนสเตอร์ในกลุ่มนี้ถูกกำจัดจนหมดแล้วหรือยัง
	if (mobcount(.@map$,instance_npcname(strnpcinfo(0))+"::OnMyMobDead") < 1) {
		// ข้อความประกาศจากบอสก่อนเริ่มการต่อสู้จริง
		mapannounce .@map$, "Nidhoggur's Shadow : ฝีมือพวกเจ้าไม่เลวเลย... แต่ครั้งนี้ ข้าจะเป็นคู่ต่อสู้ให้พวกเจ้าเอง!",bc_map,"0x00ff99";
		
		// เปิดระบบ Logic การต่อสู้ของบอส และปิดสคริปต์เรียกมอนสเตอร์ตัวเดิม
		donpcevent instance_npcname("nyd_2f_boss_enter_logic")+"::OnEnable";
		donpcevent instance_npcname(strnpcinfo(0))+"::OnDisable";
		end;
	}
	end;

/*
OnReset:	// Label not called.
	killmonster instance_mapname("2@nyd"),instance_npcname(strnpcinfo(0))+"::OnMyMobDead";
	donpcevent instance_npcname(strnpcinfo(0))+"::OnDisable";
	end;
*/

OnDisable:
	stopnpctimer;
	killmonster instance_mapname("2@nyd"),instance_npcname(strnpcinfo(0))+"::OnMyMobDead"; //custom
	donpcevent instance_npcname(substr(strnpcinfo(0),0,getstrlen(strnpcinfo(0))-3))+"::OnDisable";
	disablenpc();
	end;

OnTimer180000:
	killmonster instance_mapname("2@nyd"),instance_npcname(strnpcinfo(0))+"::OnMyMobDead";
	stopnpctimer;
	donpcevent instance_npcname("nyd_2f_boss_enter_call")+"::OnWarpColor";
	end;
}

2@nyd,130,298,0	script	nyd_2f_red_warp1	-1,6,6,{
OnInstanceInit:
OnDisable:
	disablenpc();
	end;

OnEnable:
	enablenpc();
	end;

OnTouch:
	if (compare(strnpcinfo(0),"red"))
		warp instance_mapname("2@nyd"),115,278;
	else if (compare(strnpcinfo(0),"white"))
		warp instance_mapname("2@nyd"),115,373;
	else if (compare(strnpcinfo(0),"yellow"))
		warp instance_mapname("2@nyd"),284,278;
	else if (compare(strnpcinfo(0),"green"))
		warp instance_mapname("2@nyd"),284,374;
	end;
}
2@nyd,142,296,0	duplicate(nyd_2f_red_warp1)	nyd_2f_red_warp2	-1,6,6
2@nyd,145,283,0	duplicate(nyd_2f_red_warp1)	nyd_2f_red_warp3	-1,6,6

2@nyd,115,373,0	duplicate(nyd_2f_red)	nyd_2f_white	-1,5,5
2@nyd,6,7,0	duplicate(nyd_2f_red_c)	nyd_2f_white_c	-1
2@nyd,127,354,0	duplicate(nyd_2f_red_warp1)	nyd_2f_white_warp1	-1,6,6,
2@nyd,140,357,0	duplicate(nyd_2f_red_warp1)	nyd_2f_white_warp2	-1,6,6
2@nyd,145,367,0	duplicate(nyd_2f_red_warp1)	nyd_2f_white_warp3	-1,6,6

2@nyd,284,278,0	duplicate(nyd_2f_red)	nyd_2f_yellow	-1,5,5
2@nyd,6,8,0	duplicate(nyd_2f_red_c)	nyd_2f_yellow_c	-1
2@nyd,255,285,0	duplicate(nyd_2f_red_warp1)	nyd_2f_yellow_warp1	-1,6,6
2@nyd,257,296,0	duplicate(nyd_2f_red_warp1)	nyd_2f_yellow_warp2	-1,6,6
2@nyd,268,300,0	duplicate(nyd_2f_red_warp1)	nyd_2f_yellow_warp3	-1,6,6

2@nyd,284,374,0	duplicate(nyd_2f_red)	nyd_2f_green	-1,5,5
2@nyd,6,9,0	duplicate(nyd_2f_red_c)	nyd_2f_green_c	-1
2@nyd,274,356,0	duplicate(nyd_2f_red_warp1)	nyd_2f_green_warp1	-1,6,6
2@nyd,260,356,0	duplicate(nyd_2f_red_warp1)	nyd_2f_green_warp2	-1,6,6
2@nyd,258,368,0	duplicate(nyd_2f_red_warp1)	nyd_2f_green_warp3	-1,6,6

2@nyd,1,1,0	script	ins_nyd2_spawn_mobs	-1,{
OnInstanceInit:
	set .@map$, instance_mapname("2@nyd");
	areamonster .@map$,20,12,380,172,"Rhyncho",2020,40,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyRhynDead";
	areamonster .@map$,20,12,380,172,"Phylla",2021,40,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyPhyDead";
	areamonster .@map$,20,12,380,172,"Dark Shadow",2023,40,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyDarkshaDead";
	areamonster .@map$,20,12,380,172,"Dark Pinguicula",2015,40,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyPingDead";
	end;

OnMyRhynDead:
	areamonster instance_mapname("2@nyd"),20,12,380,172,"Rhyncho",2020,1,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyRhynDead";
	end;

OnMyPhyDead:
	areamonster instance_mapname("2@nyd"),20,12,380,172,"Phylla",2021,1,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyPhyDead";
	end;

OnMyDarkshaDead:
	areamonster instance_mapname("2@nyd"),20,12,380,172,"Dark Shadow",2023,1,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyDarkshaDead";
	end;

OnMyPingDead:
	areamonster instance_mapname("2@nyd"),20,12,380,172,"Dark Pinguicula",2015,1,instance_npcname("ins_nyd2_spawn_mobs")+"::OnMyPingDead";
	end;
}

// GM Management NPCs
//============================================================
sec_in02,36,167,3	script	Nidhoggur Manager	447,1,1,{
	callfunc "F_GM_NPC";
	mes "กรุณาใส่รหัสผ่าน";
	next;
	// ตรวจสอบรหัสผ่าน (Password: 18544)
	if (callfunc("F_GM_NPC","18544",1) == 0) {
		mes "รหัสผ่านไม่ถูกต้อง";
		close;
	}
	mes "คุณต้องการดำเนินการส่วนไหน?";
	next;
	switch(select("รีเซ็ตตัวแปรเพื่อเข้าดันเจี้ยน Nidhoggur:เปลี่ยนค่าตัวแปร 'ins_nyd':ลบเวลาจำกัด 3 วัน (Quest 3135):ตรวจสอบค่าตัวแปรปัจจุบัน")) {
	case 1:
		set ins_nyd,200;
		set ins_nyd2,0;
		erasequest 3135;
		mes "ตั้งค่า ins_nyd เป็น 200 และ ins_nyd2 เป็น 0 เรียบร้อยแล้ว";
		mes "ลบข้อมูลเควสต์ 3135 สำเร็จ";
		close;
	case 2:
		mes "คุณต้องการเปลี่ยนตัวแปรไหน?";
		next;
		switch(select("ins_nyd:ins_nyd2")) {
			case 1: set .@var$,"ins_nyd"; break;
			case 2: set .@var$,"ins_nyd2"; break;
		}
		mes "กรุณาระบุตัวเลขที่ต้องการตั้งค่า";
		next;
		input .@input;
		setd .@var$, .@input;
		mes "ตั้งค่า " + .@var$ + " เป็น " + .@input + " สำเร็จ";
		close;
	case 3:
		mes "ระบบจะทำการลบเวลาจำกัด 3 วัน หลังจากที่คุณปิดหน้าต่างสนทนานี้";
		next;
		erasequest 3135;
		mes "ลบ Quest Timer เรียบร้อยแล้ว";
		close;
	case 4:
		mes "ค่าตัวแปร ins_nyd ปัจจุบันคือ " + ins_nyd;
		mes "ค่าตัวแปร ins_nyd2 ปัจจุบันคือ " + ins_nyd2;
		close;
	}
}

// NPC สำหรับผู้ดูแลระบบ (GM) เพื่อควบคุมการรีเซ็ตดันเจี้ยน
nyd_dun02,7,7,2	script	Purification Admin#nyd2	844,2,0,{
	callfunc "F_GM_NPC";
	mes "กรุณาใส่รหัสผ่าน";
	// รหัสผ่านคือ: dragonslayer
	set .@i, callfunc("F_GM_NPC","dragonslayer",1);
	next;
	if (.@i == 0) {
		mes "กรุณาใส่รหัสผ่านให้ถูกต้องตามตัวอักษร";
		close;
	}
	switch(select("สร้างหินชำระล้าง (Purification Stone):ลบหินชำระล้าง:ปิด NPC ทางเข้า (Gatekeeper):เปิด NPC ทางเข้า (Gatekeeper):ยกเลิก")) {
	case 1:
		mes "หินชำระล้างถูกสร้างขึ้นแล้ว และจะคงอยู่เป็นเวลา 30 นาที";
		donpcevent "Purification Stone#nyd2::OnEnable";
		close;
	case 2:
		mes "หินชำระล้างถูกทำลายทิ้งแล้ว";
		donpcevent "Purification Stone#nyd2::OnDisable";
		close;
	case 3:
		mes "ปิดการใช้งาน Yggdrasil Gatekeeper ที่พิกัด nyd_dun02 100 201 เรียบร้อย";
		disablenpc "Yggdrasil Gatekeeper";
		close;
	case 4:
		mes "เปิดการใช้งาน Yggdrasil Gatekeeper ที่พิกัด nyd_dun02 100 201 เรียบร้อย";
		enablenpc "Yggdrasil Gatekeeper";
		close;
	case 5:
		close;
	}
}

// หินชำระล้างสำหรับให้ผู้เล่นกดรีเซ็ต Cooldown ดันเจี้ยน
nyd_dun02,88,195,4	script	Purification Stone#nyd2	406,{
	erasequest 3135;
	erasequest 3136;
	set ins_nyd,200;
	set ins_nyd2,0;
	mes "^0000FFบันทึกและผลกระทบที่เกี่ยวข้องกับ Nidhoggur's Nest ได้ถูกชำระล้างแล้ว คุณสามารถสร้างและเข้าสู่ดันเจี้ยนได้อีกครั้ง^000000";
	close;

OnInit:
	disablenpc "Purification Stone#nyd2";
	end;

OnEnable:
	initnpctimer;
	end;

OnDisable:
	stopnpctimer;
	disablenpc "Purification Stone#nyd2";
	end;

OnTimer1000:
	enablenpc "Purification Stone#nyd2";
	end;

OnTimer1740000:
	// ประกาศแจ้งเตือนล่วงหน้า 1 นาทีก่อนหินหาย
	mapannounce "nyd_dun02","หินชำระล้างจะถูกทำลายในอีก 1 นาที",bc_map,"0x00FF99",FW_NORMAL,12;
	end;

OnTimer1800000:
	disablenpc "Purification Stone#nyd2";
	end;
}
