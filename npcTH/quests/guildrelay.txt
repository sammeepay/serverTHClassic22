//===== rAthena Script ======================================= 
//= Guild Relay Quest
//===== By: ================================================== 
//= L0ne_W0lf
//===== Current Version: ===================================== 
//= 1.1
//===== Compatible With: ===================================== 
//= rAthena Project
//===== Description: ========================================= 
//= [Official Conversion]
//= Guild Relay Quest.
//= Quest designed for multiple users at once.
//= Variable in use: guildrelay_q (Max: ??)
//= Variable in use: guildtime (Max: ??)
//===== Additional Comments: ================================= 
//= 1.0 First version.
//= 1.1 Fixed errors reported by NoHealing (Bugreport:3934) [L0ne_W0lf]
//= NPCs now duplicate from FLOATING npcs instead of Luina 1 npcs.
//============================================================ 

// Floating NPCs to duplicate from.
//============================================================
-	script	RelayDummy1::GuildRelay1	754,{
	set .@name$,strnpcinfo(1);
	if (.@name$ == "Buzz") {
		set .@name2$,"Lenya";
		set .@name3$,"Gealuve";
		set .@name4$,"Pariz";
		set .@GID, GetCastleData("aldeg_cas"+strnpcinfo(2),1);
	}
	else if (.@name$ == "Jody") {
		set .@name2$,"Ron Haware";
		set .@name3$,"Vers";
		set .@name4$,"Gen Garish";
		set .@GID, GetCastleData("gefg_cas"+strnpcinfo(2),1);
	}
	else if (.@name$ == "Chungye") {
		set .@name2$,"Dosuhlji";
		set .@name3$,"Yayula";
		set .@name4$,"Ashin";
		set .@GID, GetCastleData("payg_cas"+strnpcinfo(2),1);
	}
	else if (.@name$ == "Hermod") {
		set .@name2$,"Atila";
		set .@name3$,"Cecil";
		set .@name4$,"Diligo";
		set .@GID, GetCastleData("prtg_cas"+strnpcinfo(2),1);
	}
	if (checkweight(908,630) == 0) {
		mes "^3355FFรอสักครู่! ตอนนี้คุณ";
		mes "แบกสัมภาระหนักเกินไป";
		mes "กรุณานำของที่ไม่จำเป็นไปฝากไว้";
		mes "ในคลังเก็บของของ Kafra";
		mes "แล้วค่อยกลับมาใหม่^000000";
		close;
	}
	if (.@GID == 0) {
		mes "^3355FFคุณไม่แน่ใจว่าเพราะอะไร แต่";
		mes "ชายคนนี้ดูเหมือนจะค่อนข้าง";
		mes "หดหู่ใจ เขาเหลือบมองคุณ";
		mes "เพียงครู่เดียวแล้วก็หลบตาไป";
		mes "ดูเหมือนว่าเขาอยากจะ";
		mes "อยู่คนเดียวมากกว่า^000000";
		next;
		mes "^3355FFไม่มีเหตุผลที่คุณจะต้อง";
		mes "ป้วนเปี้ยนอยู่แถวป้อมปราการ";
		mes "ที่ไม่มีเจ้าของ คุณควรจะ";
		mes "ออกเดินทางต่อไปได้แล้ว^000000";
		close;
	}
	if (getcharid(2) == .@GID) {
		if (is_guild_leader() == true) {
			.@time = atoi( gettimestr("%H%M",5) );
			if (guildrelay_q == 100) {
				if (guildtime > 2299) {
					if (.@time > 0101 && .@time < guildtime) {
						mes "[" + .@name$ + "]";
						mes "โอ้ คุณกลับมาแล้ว พักผ่อน";
						mes "เพียงพอหรือยัง? ข้าแน่ใจว่า";
						mes "สมาชิกกิลด์คนอื่นๆ ตอนนี้คง";
						mes "รู้สึกสดชื่นกันแล้วล่ะ";
						mes "ดูจากท่าทางแล้ว คุณพร้อม";
						mes "สำหรับภารกิจต่อไปของท่านแล้ว";
						next;
						mes "[" + .@name$ + "]";
						mes "ขั้นตอนต่อไปสำหรับ";
						mes "ท่านคือการรับสิ่งนี้ไป 'Spirit of Trust'";
						mes "หากกิลด์นี้จะมั่นคงได้";
						mes "ท่านต้องคำนึงถึงว่าในกิลด์นั้น";
						mes "มีความไว้วางใจต่อกันมากเพียงใด";
						set guildrelay_q,8;
						getitem 7240,1; //Soul_Of_Confidence
						next;
						mes "[" + .@name$ + "]";
						mes "การทดสอบที่สองของท่านคือ";
						mes "การนำ ^4D4DFFSpirit of Trust^000000 นี้";
						mes "ไปมอบให้กับปราชญ์ผู้ที่สามารถ";
						mes "ควบคุมธาตุของธรรมชาติได้ หรือ";
						mes "จะพูดอีกอย่างก็คือ Sage หรือ Scholar";
						mes "จะต้องเป็นผู้ดำเนินงานนี้";
						next;
						mes "[" + .@name$ + "]";
						mes "Spirit of Trust จะต้อง";
						mes "ถูกนำไปส่งให้กับ ^4D4DFF" + .@name3$ + "^000000";
						mes "ดังนั้นอย่าลืมแจ้งข้อมูลนี้";
						mes "ให้กับ Sage หรือ Scholar ของท่าน";
						mes "เอาล่ะ ขอให้โชคดีในการเดินทาง";
						close;
					}
					else {
						mes "[" + .@name$ + "]";
						mes "อา พักผ่อนมาเรี-- โอ้";
						mes "ทำไมหน้าตาดูซีดเซียวแบบนั้น?";
						mes "ท่านไม่สามารถทำงานใหญ่ให้สำเร็จได้";
						mes "หรอกนะหากหักโหมงานหนักเกินไป!";
						mes "พักผ่อนเถอะ กิลด์ของท่านต้องฝาก";
						mes "ความหวังไว้ที่ความแข็งแกร่งของท่าน";
						emotion ET_SURPRISE;
						next;
						mes "[" + .@name$ + "]";
						mes "ความมุ่งมั่นและจิตวิญญาณของท่าน";
						mes "นั้นน่ายกย่อง แต่จงมีความอดทน";
						mes "ที่จะฟื้นฟูตัวเองเมื่อถึงเวลา";
						mes "ข้าจะรออยู่ที่นี่ ดังนั้นโปรด";
						mes "กลับมาหาข้าในภายหลัง";
						close;
					}
				}
				else if (guildtime > 2200) {
					if (.@time > 0001 && .@time < guildtime) {
						mes "[" + .@name$ + "]";
						mes "โอ้ คุณกลับมาแล้ว พักผ่อน";
						mes "เพียงพอหรือยัง? ข้าแน่ใจว่า";
						mes "สมาชิกกิลด์คนอื่นๆ ตอนนี้คง";
						mes "รู้สึกสดชื่นกันแล้วล่ะ";
						mes "ดูจากท่าทางแล้ว คุณพร้อม";
						mes "สำหรับภารกิจต่อไปของท่านแล้ว";
						next;
						mes "[" + .@name$ + "]";
						mes "ขั้นตอนต่อไปสำหรับ";
						mes "ท่านคือการรับสิ่งนี้ไป 'Spirit of Trust'";
						mes "หากกิลด์นี้จะมั่นคงได้";
						mes "ท่านต้องคำนึงถึงว่าในกิลด์นั้น";
						mes "มีความไว้วางใจต่อกันมากเพียงใด";
						set guildrelay_q,8;
						getitem 7240,1; //Soul_Of_Confidence
						next;
						mes "[" + .@name$ + "]";
						mes "การทดสอบที่สองของท่านคือ";
						mes "การนำ ^4D4DFFSpirit of Trust^000000 นี้";
						mes "ไปมอบให้กับปราชญ์ผู้ที่สามารถ";
						mes "ควบคุมธาตุของธรรมชาติได้ หรือ";
						mes "จะพูดอีกอย่างก็คือ Sage หรือ Scholar";
						mes "จะต้องเป็นผู้ดำเนินงานนี้";
						next;
						mes "[" + .@name$ + "]";
						mes "Spirit of Trust จะต้อง";
						mes "ถูกนำไปส่งให้กับ ^4D4DFF" + .@name3$ + "^000000";
						mes "ดังนั้นอย่าลืมแจ้งข้อมูลนี้";
						mes "ให้กับ Sage หรือ Scholar ของท่าน";
						mes "เอาล่ะ ขอให้โชคดีในการเดินทาง";
						close;
					}
					else {
						mes "[" + .@name$ + "]";
						mes "อา พักผ่อนมาเรี-- โอ้";
						mes "ทำไมหน้าตาดูซีดเซียวแบบนั้น?";
						mes "ท่านไม่สามารถทำงานใหญ่ให้สำเร็จได้";
						mes "หรอกนะหากหักโหมงานหนักเกินไป!";
						mes "พักผ่อนเถอะ กิลด์ของท่านต้องฝาก";
						mes "ความหวังไว้ที่ความแข็งแกร่งของท่าน";
						emotion ET_SURPRISE;
						next;
						mes "[" + .@name$ + "]";
						mes "ความมุ่งมั่นและจิตวิญญาณของท่าน";
						mes "นั้นน่ายกย่อง แต่จงมีความอดทน";
						mes "ที่จะฟื้นฟูตัวเองเมื่อถึงเวลา";
						mes "ข้าจะรออยู่ที่นี่ ดังนั้นโปรด";
						mes "กลับมาหาข้าในภายหลัง";
						close;
					}
				}
				else if ((.@time - guildtime) > 0200) {
					mes "[" + .@name$ + "]";
					mes "โอ้ คุณกลับมาแล้ว พักผ่อน";
					mes "เพียงพอหรือยัง? ข้าแน่ใจว่า";
					mes "สมาชิกกิลด์คนอื่นๆ ตอนนี้คง";
					mes "รู้สึกสดชื่นกันแล้วล่ะ";
					mes "ดูจากท่าทางแล้ว คุณพร้อม";
					mes "สำหรับภารกิจต่อไปของท่านแล้ว";
					next;
					mes "[" + .@name$ + "]";
					mes "ขั้นตอนต่อไปสำหรับ";
					mes "ท่านคือการรับสิ่งนี้ไป 'Spirit of Trust'";
					mes "หากกิลด์นี้จะมั่นคงได้";
					mes "ท่านต้องคำนึงถึงว่าในกิลด์นั้น";
					mes "มีความไว้วางใจต่อกันมากเพียงใด";
					set guildrelay_q,8;
					getitem 7240,1; //Soul_Of_Confidence
					next;
					mes "[" + .@name$ + "]";
					mes "การทดสอบที่สองของท่านคือ";
					mes "การนำ ^4D4DFFSpirit of Trust^000000 นี้";
					mes "ไปมอบให้กับปราชญ์ผู้ที่สามารถ";
					mes "ควบคุมธาตุของธรรมชาติได้ หรือ";
					mes "จะพูดอีกอย่างก็คือ Sage หรือ Scholar";
					mes "จะต้องเป็นผู้ดำเนินงานนี้";
					next;
					mes "[" + .@name$ + "]";
					mes "Spirit of Trust จะต้อง";
					mes "ถูกนำไปส่งให้กับ ^4D4DFF" + .@name3$ + "^000000";
					mes "ดังนั้นอย่าลืมแจ้งข้อมูลนี้";
					mes "ให้กับ Sage หรือ Scholar ของท่าน";
					mes "เอาล่ะ ขอให้โชคดีในการเดินทาง";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "อา พักผ่อนมาเรี-- โอ้";
					mes "ทำไมหน้าตาดูซีดเซียวแบบนั้น?";
					mes "ท่านไม่สามารถทำงานใหญ่ให้สำเร็จได้";
					mes "หรอกนะหากหักโหมงานหนักเกินไป!";
					mes "พักผ่อนเถอะ กิลด์ของท่านต้องฝาก";
					mes "ความหวังไว้ที่ความแข็งแกร่งของท่าน";
					emotion ET_SURPRISE;
					next;
					mes "[" + .@name$ + "]";
					mes "ความมุ่งมั่นและจิตวิญญาณของท่าน";
					mes "นั้นน่ายกย่อง แต่จงมีความอดทน";
					mes "ที่จะฟื้นฟูตัวเองเมื่อถึงเวลา";
					mes "ข้าจะรออยู่ที่นี่ ดังนั้นโปรด";
					mes "กลับมาหาข้าในภายหลัง";
					close;
				}
			}
			else if (guildrelay_q == 150) {
				if ((guildtime > 2299 && .@time > 0101 && .@time < guildtime) || (guildtime > 2199 && .@time > 0001 && .@time < guildtime) || ((.@time - guildtime) > 0200)) {
					mes "[" + .@name$ + "]";
					mes "อา ท่านดูพักผ่อนมาเต็มที่แล้วนะ";
					mes "ท่านหัวหน้า ตอนนี้ถึงเวลาแล้วที่";
					mes "ท่านจะดำเนินการทดสอบที่สาม";
					mes "ข้าขอเตือนท่านว่าวิญญาณเหล่านี้";
					mes "มีค่ามหาศาลมาก จงอย่าทำหาย";
					mes "เป็นอันขาด";
					next;
					mes "[" + .@name$ + "]";
					mes "เช่นเดียวกับวิญญาณอื่นๆ";
					mes "โปรดเก็บรักษาสิ่งนี้ไว้ให้ปลอดภัย";
					mes "นี่คือ ^4D4DFFSpirit of Peace^000000";
					mes "มันอาจจะดูขัดแย้งกันที่ป้อมปราการ";
					mes "และพละกำลังสามารถนำมาซึ่ง";
					mes "ความสงบสุขได้ แต่มันคือเรื่องจริง";
					set guildrelay_q,15;
					getitem 7246,1; //Soul_Of_Peace
					next;
					mes "[" + .@name$ + "]";
					mes "หากอำนาจไม่ได้ถูกใช้เพื่อ";
					mes "ปกป้องผู้อ่อนแอ เมื่อนั้นผู้อันธพาล";
					mes "ไม่ว่าจะในรูปแบบใดก็ตาม";
					mes "มักจะเข้ามาเอารัดเอาเปรียบพวกเขา";
					mes "นั่นคือเหตุผลที่ Tristan III";
					mes "ได้สร้างป้อมปราการเหล่านี้ขึ้นมา";
					next;
					mes "[" + .@name$ + "]";
					mes "โปรดส่ง Rogue หรือ Stalker";
					mes "เพื่อนำ Spirit of Peace นี้";
					mes "ไปส่งให้กับ ^4D4DFF" + .@name4$ + "^000000";
					mes "หากท่านไม่รู้จัก Rogue หรือ";
					mes "Stalker คนไหนเลย มันคงจะดี";
					mes "ถ้าท่านจะได้ลองทำความรู้จักสักคน";
					next;
					mes "[" + .@name$ + "]";
					mes "ใช่แล้ว ไม่มีอะไรมาทดแทน";
					mes "การอำพรางและการหาข่าวกรอง";
					mes "ที่ Rogue สามารถทำได้หรอก";
					mes "อย่างไรก็ตาม " + .@name4$ + " จะเป็น";
					mes "ผู้แนะนำท่านในการทดสอบที่สามเอง";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "อา พักผ่อนมาเรี-- โอ้";
					mes "ทำไมหน้าตาดูซีดเซียวแบบนั้น?";
					mes "ท่านไม่สามารถทำงานใหญ่ให้สำเร็จได้";
					mes "หรอกนะหากหักโหมงานหนักเกินไป!";
					mes "พักผ่อนเถอะ กิลด์ของท่านต้องฝาก";
					mes "ความหวังไว้ที่ความแข็งแกร่งของท่าน";
					emotion ET_SURPRISE;
					next;
					mes "[" + .@name$ + "]";
					mes "ความมุ่งมั่นและจิตวิญญาณของท่าน";
					mes "นั้นน่ายกย่อง แต่จงมีความอดทน";
					mes "ที่จะฟื้นฟูตัวเองเมื่อถึงเวลา";
					mes "ข้าจะรออยู่ที่นี่ ดังนั้นโปรด";
					mes "กลับมาหาข้าในภายหลัง";
					close;
				}
			}
			else if (guildrelay_q == 25) {
				if ((guildtime > 2299 && .@time > 0401 && .@time < guildtime)
				|| (guildtime > 2199 && .@time > 0301 && .@time < guildtime)
				|| (guildtime > 2059 && .@time > 0201 && .@time < guildtime)
				|| (guildtime > 1999 && .@time > 0101 && .@time < guildtime)
				|| (guildtime > 1899 && .@time > 0001 && .@time < guildtime)
				|| ((.@time - guildtime) > 0500)) {
					mes "[" + .@name$ + "]";
					mes "อา พักผ่อนสบายดีไหมครับ";
					mes "ท่านหัวหน้า? ต้องขออภัยใน";
					mes "กิริยาของข้าเมื่อครู่ด้วย ข้าต้อง";
					mes "รายงานผลการทดสอบของท่าน";
					mes "จนเสียความสุขุมไปชั่วขณะ";
					mes "มันจะไม่เกิดขึ้นอีกแน่นอนครับ";
					set guildrelay_q,999;
					close;
				}
				else {
					mes "...............................";
					mes "...............................";
					next;
					mes "...............................";
					mes "...............................";
					mes "...............................";
					next;
					mes "[" + .@name$ + "]";
					emotion ET_HUK;
					mes "โอ๊ะ! ท-ท่านหัวหน้า? ท่านมา";
					mes "ตั้งแต่เมื่อ...? ข้าขออภัยจริงๆ";
					mes "ข้ามัวแต่ยุ่งกับการทำงานน่ะครับ";
					next;
					mes "[" + .@name$ + "]";
					mes "มันเพิ่งจะผ่านมาไม่กี่วันเอง";
					mes "ตั้งแต่ท่านผ่านการทดสอบมา";
					mes "ตอนนี้ท่านควรพักผ่อนและ";
					mes "ดูแลกิลด์ของท่านไปก่อนนะ?";
					mes "ได้โปรดกลับมาใหม่ภายหลัง";
					mes "ข้ายังมีเรื่องต้องจัดการอีกมาก...";
					close;
				}
			}
			else if (guildrelay_q == 999) {
				mes "[" + .@name$ + "]";
				mes "สวัสดีครับ ท่านหัวหน้า";
				mes "มีอะไรผิดปกติหรือเปล่า?";
				mes "ท่านดูเหมือนกับว่ามีบางอย่าง";
				mes "อยู่ในใจนะ";
				next;
				switch(select("เปล่า ไม่มีอะไร:ข้าอยากจะเข้าทดสอบ")) {
				case 1:
					mes "[" + .@name$ + "]";
					mes "หืม? แปลกจัง";
					emotion ET_SWEAT;
					mes "ท่านคงไม่อยากจะเข้าการ";
					mes "ทดสอบอีกรอบหรอก ใช่ไหม?";
					close;
				case 2:
					mes "[" + .@name$ + "]";
					mes "ข้าเข้าใจแล้ว ท่านก็รู้ว่ามัน";
					mes "ไม่ง่าย แต่ข้าคิดว่าท่านคง";
					mes "เตรียมตัวมาพร้อมแล้ว รับนี่ไป";
					mes "^4D4DFFSpirit of Guild^000000 แล้ว";
					mes "นำไปมอบให้กับ Knight หรือ";
					mes "Lord Knight ที่ท่านไว้วางใจที่สุด";
					set guildrelay_q,1;
					getitem 7234,1; //Soul_Of_Guild
					next;
					mes "[" + .@name$ + "]";
					mes "Knight ผู้นี้ควรจะนำ";
					mes "Spirit of Guild ไปส่ง";
					mes "ให้กับ ^4D4DFF" + .@name2$ + "^000000 ขอให้โชคดี";
					mes "และขอให้เทพเจ้าคุ้มครองท่าน";
					close;
				}
			}
			else if (guildrelay_q == 1) {
				if (countitem(7234) > 0) {
					mes "[" + .@name$ + "]";
					mes "ท่านยังถือ Spirit of Guild";
					mes "ที่ข้ามอบให้ไว้อยู่เหรอ? ข้าเดาว่า";
					mes "ท่านคงยังหา Knight หรือ";
					mes "Lord Knight ที่จะไว้วางใจได้";
					mes "ยังไม่ได้ล่ะสิ มันจำเป็นมากนะ";
					mes "ที่ท่านจะต้องหาใครสักคนโดยเร็ว";
					next;
					mes "[" + .@name$ + "]";
					mes "เพื่อเห็นแก่กิลด์ มันจะเป็น";
					mes "ประโยชน์มากถ้ามี Knight หรือ";
					mes "Lord Knight อยู่ข้างกายท่าน";
					mes "ทักษะการต่อสู้ของพวกเขาสามารถ";
					mes "พลิกสถานการณ์การรบได้เลยล่ะ";
					next;
					mes "[" + .@name$ + "]";
					mes "เมื่อท่านหา Knight พบแล้ว";
					mes "จงมอบ Spirit of Guild ให้เขา";
					mes "และบอกให้เขาไปหา " + .@name2$ + "";
					mes "เพราะเขาจะเป็นคนดำเนินการ";
					mes "ทดสอบเอง ขอให้ท่าน";
					mes "โชคดีครับ ท่านหัวหน้า";
					close;
				}
				else if (countitem(7239) > 0) {
					mes "[" + .@name$ + "]";
					mes "อา นี่คือ Spirit of Advance";
					mes "ใช่หรือไม่? นี่หมายความว่า";
					mes "ท่านผ่านการทดสอบแรกแล้ว";
					mes "พยายามต่อไปนะ ส่งวิญญาณนั้น";
					mes "มาให้ข้า และให้ข้ามอบ";
					mes "รางวัลของกิลด์แก่ท่านเถิด";
					delitem 7239,1; //Soul_Of_Proceeding
					set guildtime,.@time;
					set guildrelay_q,100;
					set .@incen_item,rand(1,100);
					if ((.@incen_item > 0) && (.@incen_item < 25)) {
						getitem 608,20; //Seed_Of_Yggdrasil
						getitem 678,2; //Poison_Bottle
					}
					else if ((.@incen_item > 24) && (.@incen_item < 50)) {
						getitem 607,10; //Yggdrasilberry
						getitem 678,2; //Poison_Bottle
					}
					else if ((.@incen_item > 50) && (.@incen_item < 75)) {
						getitem 644,5; //Gift_Box
						getitem 678,2; //Poison_Bottle
					}
					else if ((.@incen_item > 74) && (.@incen_item < 101)) {
						getitem 603,3; //Old_Blue_Box
						getitem 678,2; //Poison_Bottle
					}
					next;
					mes "[" + .@name$ + "]";
					mes "ท่านทำได้ดีมาก แต่ยังมี";
					mes "การทดสอบที่รออยู่ข้างหน้า";
					mes "สำหรับตอนนี้ ท่านควรพักผ่อน";
					mes "ก่อนที่จะเริ่มการทดสอบที่สอง";
					mes "โปรดมาหาเมื่อท่านพร้อมแล้ว";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "หากท่านไม่ได้ยุ่งอะไรอยู่";
					mes "ทำไมท่านไม่ลองใช้เวลา";
					mes "ในการสร้างขวัญและกำลังใจ";
					mes "ในหมู่สมาชิกกิลด์ของท่านล่ะ?";
					mes "บางทีการออกกำลังกายสร้างทีม";
					mes "อาจจะพอช่วยได้นะ";
					close;
				}
			}
			else if (guildrelay_q == 8) {
				if (countitem(7240) > 0) {
					mes "[" + .@name$ + "]";
					mes "ท่านคงกำลังมีปัญหาใน";
					mes "การตามหา " + .@name3$ + " สินะ";
					mes "ตรวจสอบให้แน่ใจว่าท่านมี";
					mes "เพื่อนที่เป็น Sage หรือ Scholar";
					mes "เพื่อนำ Spirit of Trust ไปส่ง";
					mes "ให้เขา เมื่อท่านหาเขาพบแล้ว";
					close;
				}
				else if (countitem(7245) > 0) {
					mes "[" + .@name$ + "]";
					mes "อา ท่านผ่านการทดสอบแล้ว";
					mes "และได้รับ Spirit of Friendship";
					mes "มาแล้วสินะ? ทำได้ดีมาก";
					mes "ตอนนี้ท่านคงตระหนักถึงคุณค่า";
					mes "ของการทำงานเป็นทีมแล้ว โปรด";
					mes "ส่ง Spirit of Friendship ให้ข้า";
					next;
					mes "[" + .@name$ + "]";
					mes "เอาล่ะ โปรดรับรางวัลนี้";
					mes "และนำไปแบ่งปันกับสมาชิก";
					mes "กิลด์ของท่าน สิ่งนี้อาจจะมี";
					mes "ประโยชน์ในความท้าทายภายหน้า";
					mes "ที่พวกท่านต้องเผชิญร่วมกัน";
					mes "ทำได้ดีมาก!";
					delitem 7245,1; //Soul_Of_Friendship
					set guildtime, atoi( gettimestr("%H%M",5) );
					set guildrelay_q,150;
					set .@incen_item,rand(1,100);
					if ((.@incen_item > 0) && (.@incen_item < 16)) {
						getitem 607,10; //Yggdrasilberry
						getitem 644,5; //Gift_Box
						getitem 678,3; //Poison_Bottle
					}
					else if ((.@incen_item > 14) && (.@incen_item < 31)) {
						getitem 607,10; //Yggdrasilberry
						getitem 603,3; //Old_Blue_Box
						getitem 678,3; //Poison_Bottle
					}
					else if ((.@incen_item > 29) && (.@incen_item < 46)) {
						getitem 607,10; //Yggdrasilberry
						getitem 617,3; //Old_Violet_Box
						getitem 678,3; //Poison_Bottle
					}
					else if ((.@incen_item > 44) && (.@incen_item < 61)) {
						getitem 644,4; //Gift_Box
						getitem 603,2; //Old_Blue_Box
						getitem 678,3; //Poison_Bottle
					}
					else if ((.@incen_item > 59) && (.@incen_item < 76)) {
						getitem 644,3; //Gift_Box
						getitem 617,2; //Old_Violet_Box
						getitem 678,3; //Poison_Bottle
					}
					else if ((.@incen_item > 74) && (.@incen_item < 91)) {
						getitem 603,2; //Old_Blue_Box
						getitem 617,2; //Old_Violet_Box
						getitem 678,3; //Poison_Bottle
					}
					else if ((.@incen_item > 89) && (.@incen_item < 101)) {
						getitem 607,10; //Yggdrasilberry
						getitem 644,3; //Gift_Box
						getitem 603,2; //Old_Blue_Box
						getitem 617,1; //Old_Violet_Box
					}
					next;
					mes "[" + .@name$ + "]";
					mes "ท่านควรพักผ่อนและฟื้นฟู";
					mes "ร่างกายก่อนที่จะเริ่ม";
					mes "การทดสอบที่สาม";
					mes "ตัวข้าเองก็คงได้ประโยชน์จาก";
					mes "การพักครู่หนึ่งเช่นกัน โปรดกลับมา";
					mes "หาข้าอีกครั้งเมื่อท่านพร้อมแล้ว";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "หากท่านไม่ได้ยุ่งอะไรอยู่";
					mes "ทำไมท่านไม่ลองใช้เวลา";
					mes "ในการสร้างขวัญและกำลังใจ";
					mes "ในหมู่สมาชิกกิลด์ของท่านล่ะ?";
					mes "บางทีการออกกำลังกายสร้างทีม";
					mes "อาจจะพอช่วยได้นะ";
					next;
					mes "[" + .@name$ + "]";
					mes "หากท่านต้องการ ท่านอาจจะ";
					mes "แค่แวะมาที่นี่และมานั่งดื่มชา";
					mes "เป็นเพื่อนข้าก็ได้นะ";
					close;
				}
			}
			else if (guildrelay_q == 15) {
				if (countitem(7246) > 0) {
					mes "[" + .@name$ + "]";
					mes "ท่านยังถือ Spirit of Peace";
					mes "ไว้อยู่เหรอ? หากท่านไม่มี";
					mes "Rogue หรือ Stalker ในกิลด์";
					mes "ตอนนี้เป็นเวลาที่ควรจะรับ";
					mes "พวกเขามาร่วมทีมนะ เชื่อข้าเถอะ...";
					close;
				}
				else if (countitem(7251) > 0) {
					mes "[" + .@name$ + "]";
					mes "ข้าเห็นแล้วว่าท่านผ่านการ";
					mes "ทดสอบสุดท้ายและได้รับ";
					mes "Spirit of Victory แล้ว หึหึ";
					mes "ชัยชนะเป็นผลลัพธ์ที่ธรรมชาติ";
					mes "เมื่อกิลด์ของท่านทำงานร่วมกัน";
					mes "อย่างสามัคคีเป็นทีมเดียวกัน";
					next;
					mes "[" + .@name$ + "]";
					mes "ยินดีด้วยที่ท่านสามารถผ่าน";
					mes "การทดสอบทั้งหมดมาได้";
					mes "โปรดรับรางวัลนี้ ซึ่งข้ามอบให้";
					mes "ในนามของกษัตริย์ Tristan III";
					mes "และนำไปแบ่งปันกับกิลด์ของท่าน";
					mes "ทำได้ดีมากจริงๆ ครับ";
					delitem 7251,1; //Soul_Of_Victory
					set guildtime, atoi( gettimestr("%H%M",5) );
					set guildrelay_q,25;
					set .@incen_item,rand(1,100);
					if ((.@incen_item > 0) && (.@incen_item < 26)) {
						getitem 608,10; //Seed_Of_Yggdrasil
						getitem 607,5; //Yggdrasilberry
						getitem 644,4; //Gift_Box
					}
					else if ((.@incen_item > 25) && (.@incen_item < 51)) {
						getitem 608,10; //Seed_Of_Yggdrasil
						getitem 607,5; //Yggdrasilberry
						getitem 603,3; //Old_Blue_Box
					}
					else if ((.@incen_item > 50) && (.@incen_item < 76)) {
						getitem 608,10; //Seed_Of_Yggdrasil
						getitem 617,2; //Old_Violet_Box
						getitem 607,5; //Yggdrasilberry
					}
					else if ((.@incen_item > 75) && (.@incen_item < 91)) {
						getitem 608,10; //Seed_Of_Yggdrasil
						getitem 644,4; //Gift_Box
						getitem 603,2; //Old_Blue_Box
						getitem 617,1; //Old_Violet_Box
					}
					else if ((.@incen_item > 90) && (.@incen_item < 101)) {
						getitem 5074,1; //Ear_Of_Angel's_Wing
					}
					next;
					mes "[" + .@name$ + "]";
					mes "ท่านและกิลด์ของท่านคงจะ";
					mes "เหนื่อยมากในตอนนี้ ห้องพัก";
					mes "เตรียมไว้พร้อมแล้วหากท่าน";
					mes "ต้องการพักผ่อน โปรดกลับมาหา";
					mes "หากต้องการรับการทดสอบอีกครั้ง";
					mes "แล้วพบกันใหม่ครับ";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "หากท่านไม่ได้ยุ่งอะไรมาก";
					mes "ทำไมท่านไม่ลองใช้เวลา";
					mes "ร่วมกับสมาชิกกิลด์ล่ะ? การสร้าง";
					mes "มิตรภาพที่แข็งแกร่งมักจะส่งผลดี";
					mes "เสมอ ไม่เคยมีข้อยกเว้นเลย";
					close;
				}
			}
			else {
				mes "[" + .@name$ + "]";
				mes "สวัสดีครับ ท่านหัวหน้า";
				mes "ข้าคือ " + .@name$ + " หนึ่งในสี่ปราชญ์";
				mes "ผู้ยิ่งใหญ่ ข้ามาที่นี่เพื่อรับใช้ท่าน";
				mes "ภายใต้คำสั่งของกษัตริย์";
				mes "Tristan III ผู้ทรงปรีชาสามารถ";
				mes "และเปี่ยมด้วยความเมตตา";
				next;
				mes "[" + .@name$ + "]";
				mes "พวกเราจะทดสอบกิลด์ที่เป็น";
				mes "เจ้าของป้อมปราการ เพื่อดูว่า";
				mes "พวกเขามีคุณสมบัติพอที่จะเป็น";
				mes "กิลด์ระดับแนวหน้าหรือไม่ เป้าหมาย";
				mes "ของเราคือฝึกฝนกิลด์ต่างๆ เพื่อ";
				mes "เสริมสร้างความแข็งแกร่งทางการทหาร";
				next;
				mes "[" + .@name$ + "]";
				mes "แม้ว่ากิลด์ของท่านจะมีความแกร่ง";
				mes "และความกล้าหาญในการพิชิต";
				mes "ป้อมปราการ แต่เราต้องการให้ท่าน";
				mes "พิสูจน์ว่ากิลด์ของท่านนั้นมี";
				mes "ความยุติธรรม เกียรติยศ และ";
				mes "ความเมตตาที่เปี่ยมล้น";
				next;
				mes "[" + .@name$ + "]";
				mes "มันขึ้นอยู่กับท่านแล้ว ท่านจะ";
				mes "รับการทดสอบที่ข้าเตรียมไว้ให้";
				mes "หรือไม่? ข้าจะทำให้ดีที่สุดเพื่อช่วย";
				mes "ให้กิลด์ท่านเติบโต เพื่อที่ท่านจะ";
				mes "สามารถปกป้องผู้อ่อนแอได้ดีขึ้น";
				next;
				switch(select("ข้าต้องการรับการทดสอบ:ขอข้าคิดดูก่อน")) {
				case 1:
					mes "[" + .@name$ + "]";
					mes "อย่างนั้นหรือ? ในการทดสอบนี้";
					mes "ท่านจะได้รับคำสั่งและวิญญาณ";
					mes "ชนิดพิเศษ วิญญาณเหล่านี้";
					mes "จะได้รับเพียงครั้งเดียวเท่านั้น";
					mes "ท่านต้องห้ามทำหายเด็ดขาด";
					next;
					mes "[" + .@name$ + "]";
					mes "หากท่านทำวิญญาณหาย ท่านจะ";
					mes "ถูกตัดสินว่าเป็นผู้ที่ขาดความ";
					mes "รับผิดชอบ และจะไม่สามารถ";
					mes "ผ่านการทดสอบได้ ท่านต้องหา";
					mes "วิญญาณที่หายไปให้พบเพื่อดำเนินการต่อ";
					mes "ไม่มีโอกาสครั้งที่สองสำหรับเรื่องนี้";
					next;
					mes "[" + .@name$ + "]";
					mes "มีบางสิ่งที่ท่านควรทราบ ประการแรก";
					mes "ท่านดูแลวิญญาณได้เพียงครั้งละ";
					mes "ดวงเดียวเท่านั้น ประการที่สอง ท่าน";
					mes "ต้องทำการทดสอบตามลำดับและ";
					mes "ปฏิบัติตามคำแนะนำของผู้นำทาง";
					next;
					mes "[" + .@name$ + "]";
					mes "ประการที่สาม วิญญาณควรถูก";
					mes "มอบให้กับบุคคลประเภทที่ระบุ";
					mes "ไว้ในการทดสอบเท่านั้น นั่นคือ";
					mes "กฎเกณฑ์ จงจำไว้ให้ดี";
					next;
					mes "[" + .@name$ + "]";
					mes "ตกลง นี่คือวิญญาณดวงแรก";
					mes "ที่จะถูกฝากไว้กับท่าน ตรวจสอบ";
					mes "ให้แน่ใจว่าได้มอบสิ่งนี้ให้กับ";
					mes "Knight หรือ Lord Knight การทดสอบ";
					mes "ได้เริ่มต้นขึ้นอย่างเป็นทางการแล้ว";
					mes "ขอให้ท่านโชคดี";
					set guildrelay_q,1;
					getitem 7234,1; //Soul_Of_Guild
					close;
				case 2:
					mes "[" + .@name$ + "]";
					mes "ข้าคิดว่ามันคงจะเป็นความคิด";
					mes "ที่ดีที่จะไปปรึกษาหารือกับกิลด์";
					mes "ของท่านก่อนที่จะตัดสินใจ";
					mes "เข้ารับการทดสอบ เชิญแวะมา";
					mes "หาข้าใหม่ได้ในภายหลังนะ";
					close;
				}
			}
		}
		else {
			if (countitem(7234) > 0) {
				if (BaseJob == Job_Knight) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "เจ้าคือผู้ที่ถูกเลือกโดยหัวหน้ากิลด์";
					mes "ของเจ้าอย่างนั้นหรือ? ข้าเข้าใจแล้ว";
					mes "เจ้าควรนำ Spirit of Guild ไปส่ง";
					mes "ให้กับ " + .@name2$ + " นะ";
					mes "เขาจะคอยชี้แนะเจ้าต่อไป";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "Spirit of Guild นั้นไร้ประโยชน์";
					mes "เว้นแต่จะอยู่ในมือของ Knight";
					mes "หรือ Lord Knight เท่านั้น เจ้า";
					mes "ควรจะไปคุยกับ " + .@name2$ + " เพื่อ";
					mes "ศึกษารายละเอียดเพิ่มเติมนะ";
					close;
				}
			}
			else if (countitem(7235) > 0) {
				if ((guildrelay_q == 88) && (BaseJob == Job_Knight)) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "ยินดีด้วยนะ ดูเหมือนว่าเจ้า";
					mes "จะทำหน้าที่ได้ดีเลยทีเดียว";
					mes "โปรดมอบ Spirit of Charge";
					mes "ให้กับคนต่อไปเพื่อดำเนินการ";
					mes "ทดสอบต่อไปได้เลย";
					next;
					mes "[" + .@name$ + "]";
					mes "" + .@name2$ + " ควรจะอธิบาย";
					mes "ทุกอย่างไว้หมดแล้ว แต่หากเจ้า";
					mes "ลืมไปแล้วล่ะก็ โปรดไปลองสอบถาม";
					mes "จากเขาดูอีกรอบนะ";
					close;
				}
				else if (BaseJob == Job_Blacksmith) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "อา ข้าเห็นแล้วว่าเจ้ามี";
					mes "Spirit of Charge อยู่";
					mes "เหะๆ มันน่าตื่นเต้นเสมอที่จะ";
					mes "บุกตะลุยเข้าสู่สมรภูมิ ใช่ไหมล่ะ?";
					mes "เอาล่ะ พยายามเข้าล่ะ";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name2$ + " รู้เรื่องเกี่ยวกับ Spirit of Charge";
					mes "มากกว่าข้า เจ้าควรไปถามเขา";
					mes "เพิ่มเติมเกี่ยวกับวิญญาณนั้นนะ";
					close;
				}
			}
			else if (countitem(7237) > 0) {
				if ((guildrelay_q == 87) && (BaseJob == Job_Blacksmith)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าขอชมเชยในการทำงานของเจ้า";
					mes "โปรดมอบวิญญาณดวงนั้นให้";
					mes "กับบุคคลถัดไปเพื่อที่จะได้";
					mes "ดำเนินการทดสอบต่อไป";
					next;
					mes "[" + .@name$ + "]";
					mes "" + .@name2$ + " ควรจะอธิบาย";
					mes "ทุกอย่างไว้หมดแล้ว แต่หากเจ้า";
					mes "ลืมไปแล้วล่ะก็ โปรดไปลองสอบถาม";
					mes "จากเขาดูอีกรอบนะ";
					close;
				}
				else if (BaseJob == Job_Alchemist) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าเห็นว่าเจ้าครอบครอง";
					mes "Spirit of Association อยู่";
					mes "ขอให้โชคดีกับการทดสอบนะ";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "คุยกับ " + .@name2$ + " หากเจ้าต้องการ";
					mes "รู้ข้อมูลเพิ่มเติมเกี่ยวกับ";
					mes "Spirit of Association";
					close;
				}
			}
			else if (countitem(7238) > 0) {
				if ((guildrelay_q == 86) && (BaseJob == Job_Alchemist)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าขอชมเชยในการทำงานของเจ้า";
					mes "โปรดมอบวิญญาณดวงนั้นให้";
					mes "กับบุคคลถัดไปเพื่อที่จะได้";
					mes "ดำเนินการทดสอบต่อไป";
					next;
					mes "[" + .@name$ + "]";
					mes "" + .@name2$ + " ควรจะอธิบาย";
					mes "ทุกอย่างไว้หมดแล้ว แต่หากเจ้า";
					mes "ลืมไปแล้วล่ะก็ โปรดไปลองสอบถาม";
					mes "จากเขาดูอีกรอบนะ";
					close;
				}
				else if (BaseJob == Job_Hunter) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าเห็นว่าเจ้าครอบครอง";
					mes "Spirit of Coordination";
					mes "ขอให้โชคดีกับการทดสอบนะ";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name2$ + " จะรู้เรื่องเกี่ยวกับ";
					mes "Spirit of Coordination มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7239) > 0) {
				if ((guildrelay_q == 85) && (BaseJob == Job_Hunter)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ยินดีด้วยนะ ดูเหมือนว่า";
					mes "เจ้าจะเสร็จสิ้นการทดสอบแล้ว";
					mes "ตอนนี้เจ้าสามารถมอบ Spirit of";
					mes "Advance ให้กับหัวหน้ากิลด์ได้แล้ว";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name2$ + " จะรู้เรื่องเกี่ยวกับ";
					mes "Spirit of Advance มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7240) > 0) {
				if (BaseJob == Job_Sage) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าเห็นว่าเจ้าครอบครอง";
					mes "Spirit of Trust";
					mes "ขอให้โชคดี และอย่าทำลาย";
					mes "ความไว้วางใจที่กิลด์ของเจ้า";
					mes "มอบให้แก่เจ้าล่ะ";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name3$ + " จะรู้เรื่อง";
					mes "เกี่ยวกับ Spirit of Trust มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7241) > 0) {
				if ((guildrelay_q == 71) && (BaseJob == Job_Sage)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าขอชมเชยในการทำงานของเจ้า";
					mes "โปรดมอบวิญญาณดวงนั้นให้";
					mes "กับบุคคลถัดไปเพื่อที่จะได้";
					mes "ดำเนินการทดสอบต่อไป";
					next;
					mes "[" + .@name$ + "]";
					mes "หากเจ้าจำคำอธิบายของ";
					mes "" + .@name3$ + " ไม่ได้";
					mes "เจ้าอาจจะอยากกลับไปหา";
					mes "และขอให้เขาช่วยบอก";
					mes "เจ้าอีกสักรอบนะ";
					close;
				}
				else if ((BaseJob == Job_Bard) || (BaseJob == Job_Dancer)) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "ข้าเห็นว่าเจ้ามี";
					mes "Spirit of Union จงระลึกไว้เสมอว่า";
					mes "ความแข็งแกร่งของกิลด์เจ้านั้น";
					mes "เกี่ยวข้องโดยตรงกับความสามัคคี";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name3$ + " จะรู้เรื่อง";
					mes "เกี่ยวกับ Spirit of Union มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7242) > 0) {
				if ((guildrelay_q == 72) && ((BaseJob == Job_Bard) || (BaseJob == Job_Dancer))) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าขอชมเชยในการทำงานของเจ้า";
					mes "โปรดมอบวิญญาณดวงนั้นให้";
					mes "กับบุคคลถัดไปเพื่อที่จะได้";
					mes "ดำเนินการทดสอบต่อไป";
					next;
					mes "[" + .@name$ + "]";
					mes "หากเจ้าจำคำอธิบายของ";
					mes "" + .@name3$ + " ไม่ได้";
					mes "เจ้าอาจจะอยากกลับไปหา";
					mes "และขอให้เขาช่วยบอก";
					mes "เจ้าอีกสักรอบนะ";
					close;
				}
				else if (BaseJob == Job_Assassin) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "ข้าเห็นว่าเจ้ามี Spirit";
					mes "of Combination จงจำไว้ว่า";
					mes "การทำงานประสานกัน การรวม";
					mes "ทักษะและพรสวรรค์ของกิลด์เจ้า";
					mes "จะทำให้ศักยภาพที่แท้จริงปรากฏขึ้น";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name3$ + " จะรู้เรื่องเกี่ยวกับ";
					mes "Spirit of Combination มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7244) > 0) {
				if ((guildrelay_q == 74) && (BaseJob == Job_Assassin)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "พักผ่อนสบายดีไหม? โปรด";
					mes "ส่งวิญญาณนั้นให้คนถัดไป";
					mes "เพื่อให้การทดสอบกิลด์ของเจ้า";
					mes "สามารถดำเนินต่อไปได้";
					next;
					mes "[" + .@name$ + "]";
					mes "หากเจ้าจำคำอธิบายของ";
					mes "" + .@name3$ + " ไม่ได้";
					mes "เจ้าอาจจะอยากกลับไปหา";
					mes "และขอให้เขาช่วยบอก";
					mes "เจ้าอีกสักรอบนะ";
					close;
				}
				else if (BaseJob == Job_Wizard) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าเห็นว่าเจ้าได้รับ";
					mes "ความไว้วางใจให้ถือ Spirit";
					mes "of Solidarity จงพยายามให้เต็มที่";
					mes "ในการทดสอบนี้เพื่อกิลด์ของเจ้านะ";
					mes "ตกลงไหม?";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name3$ + " จะรู้เรื่อง";
					mes "เกี่ยวกับ Spirit of Solidarity มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7245) > 0) {
				if ((guildrelay_q == 75) && (BaseJob == Job_Wizard)) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "ยินดีด้วยที่ทำผลงาน";
					mes "ออกมาได้ดี โปรดมอบ";
					mes "Spirit of Friendship ให้กับ";
					mes "หัวหน้ากิลด์ของเจ้าเพื่อดำเนิน";
					mes "การทดสอบกิลด์ต่อไป";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name3$ + " จะรู้เรื่อง";
					mes "เกี่ยวกับ Spirit of Friendship มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7246) > 0) {
				if (BaseJob == Job_Rogue) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "ข้าเห็นว่าเจ้ามี";
					mes "Spirit of Peace โปรด";
					mes "ทำให้เต็มที่เพื่อเห็นแก่กิลด์";
					mes "ข้าไม่สงสัยเลยว่าเจ้าจะผ่านการทดสอบ";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name4$ + " จะรู้เรื่อง";
					mes "เกี่ยวกับ Spirit of Peace มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7247) > 0) {
				if ((guildrelay_q == 95) && (BaseJob == Job_Priest)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าขอชมเชยในการทำงานของเจ้า";
					mes "โปรดมอบวิญญาณดวงนั้นให้";
					mes "กับบุคคลถัดไปเพื่อที่จะได้";
					mes "ดำเนินการทดสอบต่อไป";
					next;
					mes "[" + .@name$ + "]";
					mes "หากเจ้าจำคำอธิบายของ";
					mes "" + .@name4$ + " ไม่ได้";
					mes "เจ้าอาจจะอยากกลับไปหา";
					mes "และขอให้เขาช่วยบอก";
					mes "เจ้าอีกสักรอบนะ";
					close;
				}
				else if (BaseJob == Job_Priest) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "โปรดดูแลรักษา";
					mes "Spirit of Determination ให้ดี";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name4$ + " จะรู้เรื่องเกี่ยวกับ";
					mes "Spirit of Determination มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7249) > 0) {
				if ((guildrelay_q == 98) && (BaseJob == Job_Priest)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าขอชมเชยในการทำงานของเจ้า";
					mes "โปรดมอบวิญญาณดวงนั้นให้";
					mes "กับบุคคลถัดไปเพื่อที่จะได้";
					mes "ดำเนินการทดสอบต่อไป";
					next;
					mes "[" + .@name$ + "]";
					mes "หากเจ้าจำคำอธิบายของ";
					mes "" + .@name4$ + " ไม่ได้";
					mes "เจ้าอาจจะอยากกลับไปหา";
					mes "และขอให้เขาช่วยบอก";
					mes "เจ้าอีกสักรอบนะ";
					close;
				}
				else if (BaseJob == Job_Crusader) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "โปรดดูแลรักษา";
					mes "Spirit of Service ให้ดี";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name4$ + " จะรู้เรื่องเกี่ยวกับ";
					mes "Spirit of Service มากกว่า";
					mes "ดังนั้นเจ้าควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7250) > 0) {
				if ((guildrelay_q == 96) && (BaseJob == Job_Crusader)) {
					mes "[" + .@name$ + "]";
					mes "สวัสดี " + strcharinfo(0) + "";
					mes "ข้าขอชมเชยในการทำงานของเจ้า";
					mes "โปรดมอบวิญญาณดวงนั้นให้";
					mes "กับบุคคลถัดไปเพื่อที่จะได้";
					mes "ดำเนินการทดสอบต่อไป";
					next;
					mes "[" + .@name$ + "]";
					mes "หากเจ้าจำคำอธิบายของ";
					mes "" + .@name4$ + " ไม่ได้";
					mes "เจ้าอาจจะอยากกลับไปหา";
					mes "และขอให้เขาช่วยบอก";
					mes "เจ้าอีกสักรอบนะ";
					close;
				}
				else if (BaseJob == Job_Monk) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "โปรดดูแลรักษา";
					mes "Spirit of Glory ให้ดี";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name4$ + " จะรู้เรื่องเกี่ยวกับ";
					mes "Spirit of Glory มากกว่า ดังนั้นเจ้า";
					mes "ควรไปปรึกษาเขานะ";
					close;
				}
			}
			else if (countitem(7251) > 0) {
				if ((guildrelay_q == 97) && (Class == Job_Monk)) {
					mes "[" + .@name$ + "]";
					mes "อา " + strcharinfo(0) + "";
					mes "ยินดีด้วยที่ทำผลงาน";
					mes "ออกมาได้ดี โปรดมอบ";
					mes "Spirit of Victory ให้กับ";
					mes "หัวหน้ากิลด์ของเจ้า สำหรับตอนนี้พอแค่นี้";
					mes "ขอให้เจ้าโชคดีในอนาคตนะ";
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "วิญญาณดวงนั้นคงไม่ค่อยมี";
					mes "ประโยชน์เท่าไหร่หากไม่ได้อยู่";
					mes "ในมือของบุคคลที่เหมาะสม";
					mes "" + .@name4$ + " จะรู้เรื่องเกี่ยวกับ";
					mes "Spirit of Victory มากกว่า ดังนั้นเจ้า";
					mes "ควรไปปรึกษาเขานะ";
					close;
				}
			}
			else {
				mes "[" + .@name$ + "]";
				mes "ข้าขอโทษด้วย แต่ตอนนี้ข้า";
				mes "ยุ่งกับงานเกินกว่าที่จะ";
				mes "ให้ความช่วยเหลืออะไรเจ้าได้";
				mes "เจ้าคงต้องยกโทษให้ข้าแล้วล่ะ";
				close;
			}
		}
	}
	else {
		if (getcharid(2) == 0) {
			mes "[" + .@name$ + "]";
			mes "เจ้ายังไม่ได้เข้าร่วม";
			mes "กิลด์อย่างนั้นหรือ? ทำไมเจ้า";
			mes "ไม่ลองหาทางเข้าร่วมกิลด์";
			mes "ดูล่ะ? ก็นะ มันเป็นการตัดสินใจของเจ้า";
			mes "แต่ข้าไม่คิดว่าเจ้าจะเสียใจหรอก";
			mes "ที่ได้เป็นส่วนหนึ่งของกิลด์ที่แข็งแกร่ง";
			close;
		}
		else {
			mes "[" + .@name$ + "]";
			mes "อา ข้าเห็นว่าเจ้า";
			mes "มีสังกัดกิลด์อยู่แล้ว";
			mes "เจ้ามาที่นี่ในฐานะ";
			mes "แขกที่ได้รับเชิญอย่างนั้นหรือ?";
			next;
			switch(select("เปล่า ไม่เชิง...:ข้าได้รับเชิญโดยหัวหน้ากิลด์")) {
			case 1:
				mes "[" + .@name$ + "]";
				mes "โอ้ จริงหรือ?";
				mes "แย่จังเลยนะ...";
				mes "ต้องขออภัยด้วย แต่ข้า";
				mes "ไม่สามารถอนุญาตให้คนแปลกหน้า";
				mes "เดินเข้าออกแถวนี้ได้ตามใจชอบ";
				mes "ลาก่อนนะ";
				next;
				warp "alde_gld",186,157;
				close;
			case 2:
				mes "[" + .@name$ + "]";
				mes "โอ้ จริงหรือ? อา ตอนนี้";
				mes "ข้าจำเจ้าได้แล้ว ^4d4dff" + strcharinfo(0) + "^000000";
				mes "เชิญข้างในสิ และทำตัว";
				mes "ตามสบายนะ";
				close;
			}
		}
	}
}

-	script	RelayDummy2::GuildRelay2	754,{
	set .@name$,strnpcinfo(1);
	getmapxy(.@m$,.@x,.@x,BL_NPC);
	set .@GID, GetCastleData(.@m$,1);
	if (checkweight(1201,1) == 0) {
		mes "^3355FFรอสักครู่! ตอนนี้คุณ";
		mes "แบกสัมภาระหนักเกินไป";
		mes "กรุณานำของที่ไม่จำเป็นไปฝากไว้";
		mes "ในคลังเก็บของของ Kafra";
		mes "แล้วค่อยกลับมาใหม่^000000";
		close;
	}
	if (.@GID == 0) {
		mes "^3355FFคุณไม่แน่ใจว่าเพราะอะไร แต่";
		mes "ชายคนนี้ดูเหมือนจะค่อนข้าง";
		mes "หดหู่ใจ เขาเหลือบมองคุณ";
		mes "เพียงครู่เดียวแล้วก็หลบตาไป";
		mes "ดูเหมือนว่าเขาอยากจะ";
		mes "อยู่คนเดียวมากกว่า^000000";
		next;
		mes "^3355FFไม่มีเหตุผลที่คุณจะต้อง";
		mes "ป้วนเปี้ยนอยู่แถวป้อมปราการ";
		mes "ที่ไม่มีเจ้าของ คุณควรจะ";
		mes "ออกเดินทางต่อไปได้แล้ว^000000";
		close;
	}
	if (getcharid(2) == .@GID) {
		if (is_guild_leader() == true) {
			if (countitem(7234) > 0) {
				mes "[" + .@name$ + "]";
				mes "หืม ท่านจะเก็บวิญญาณนั้น";
				mes "ไว้กับตัวเองเฉยๆ ไม่ได้นะ";
				mes "ส่งมันให้ ^FF0000Knight^000000 หรือ";
				mes "^FF0000Lord Knight^000000 เร็วเข้า!";
				mes "ท่านต้องทำงานให้ไวเพื่อ";
				mes "ขยายกิลด์ของท่าน";
				close;
			}
			else {
				mes "[" + .@name$ + "]";
				mes "หืม ดูเหมือนท่านจะยุ่ง";
				mes "เอาการเลยนะ ทำไมไม่ลอง";
				mes "หยุดพักและผ่อนคลายดูล่ะ?";
				mes "มันไม่เป็นไรหรอกที่จะหาความสุข";
				mes "ใส่ตัวบ้าง หากท่านรู้สึกกดดัน";
				mes "มากเกินไป หึหึหึ~";
				close;
			}
		}
		else {
			if ((BaseJob == Job_Knight) && (countitem(7234) > 0)) {
				mes "[" + .@name$ + "]";
				mes "สำหรับการทดสอบแรกของเจ้า";
				mes "ข้าจะให้เจ้าเริ่มจากอะไร";
				mes "ที่ค่อนข้างง่ายก่อนแล้วกัน";
				mes "แค่รวบรวมไอเทมบางอย่าง";
				mes "แล้วนำมาให้ข้า อา และกิลด์";
				mes "ของเจ้าก็ช่วยเจ้าได้เหมือนกันนะ";
				next;
				switch(rand(1,3)) {
				case 1:
					mes "[" + .@name$ + "]";
					mes "^FF000030 Tongues^000000,";
					mes "^FF000030 Dark Masks^000000, และ";
					mes "^FF000030 Shoulder Protectors^000000";
					mes "นั่นคงไม่ยากเกินไป";
					mes "สำหรับตอนนี้ใช่ไหม?";
					delitem 7234,1; //Soul_Of_Guild
					set guildrelay_q,2;
					close;
				case 2:
					mes "[" + .@name$ + "]";
					mes "^FF000030 Worn Out Pages^000000,";
					mes "^FF000030 Round Shells^000000, และ";
					mes "^FF000030 Mole Whiskers^000000";
					mes "นั่นคงไม่ยากเกินไป";
					mes "สำหรับตอนนี้ใช่ไหม?";
					delitem 7234,1; //Soul_Of_Guild
					set guildrelay_q,3;
					close;
				case 3:
					mes "[" + .@name$ + "]";
					mes "^FF000030 Frills^000000,";
					mes "^FF000030 Sharp Papers^000000, และ";
					mes "^FF000030 Elder Pixie's Moustaches^000000";
					mes "นั่นคงไม่ยากเกินไป";
					mes "สำหรับตอนนี้ใช่ไหม?";
					delitem 7234,1; //Soul_Of_Guild
					set guildrelay_q,89;
					close;
				}
			}
			if ((countitem(1015) > 29) && (countitem(7196) > 29) && (countitem(7157) > 29) && (guildrelay_q == 2)) {
				mes "[" + .@name$ + "]";
				mes "หือ ข้าไม่ได้คาดหวังจริงๆ ว่า";
				mes "เจ้าจะรวบรวมไอเทมทั้งหมดนี้";
				mes "มาได้ ทำได้ดีมาก";
				mes "เอาล่ะ รับนี่ไปและนำไปให้";
				mes "Blacksmith หรือ Mastersmith";
				mes "กิลด์ของเจ้านี่เก่งใช้ได้เลยนะ...";
				delitem 1015,30; //Thin_N'_Long_Tongue
				delitem 7196,30; //Shoulder_Protection
				delitem 7157,30; //Black_Mask
				set guildrelay_q,88;
				getitem 7235,1; //Soul_Of_Courage
				close;
			}
			if ((BaseJob == Job_Knight) && (guildrelay_q == 2)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าลืมไปแล้วหรือว่าต้อง";
				mes "เอาอะไรมาให้ข้า? ข้าต้องการ";
				mes "^FF000030 Tongues^000000,";
				mes "^FF000030 Dark Masks^000000, และ";
				mes "^FF000030 Shoulder Protectors^000000";
				mes "ครั้งนี้อย่าลืมอีกล่ะ";
				close;
			}
			if ((countitem(1097) > 29) && (countitem(1017) > 29) && (countitem(1096) > 29) && (guildrelay_q == 3)) {
				mes "[" + .@name$ + "]";
				mes "หือ ข้าไม่ได้คาดหวังจริงๆ ว่า";
				mes "เจ้าจะรวบรวมไอเทมทั้งหมดนี้";
				mes "มาได้ ทำได้ดีมาก";
				mes "เอาล่ะ รับนี่ไปและนำไปให้";
				mes "Blacksmith หรือ Mastersmith";
				mes "กิลด์ของเจ้านี่เก่งใช้ได้เลยนะ...";
				delitem 1097,30; //Worn_Out_Page
				delitem 1017,30; //Moustache_Of_Mole
				delitem 1096,30; //Round_Shell
				set guildrelay_q,88;
				getitem 7235,1; //Soul_Of_Courage
				close;
			}
			if ((BaseJob == Job_Knight) && (guildrelay_q == 3)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าลืมไปแล้วหรือว่าต้อง";
				mes "เอาอะไรมาให้ข้า? ข้าต้องการ";
				mes "^FF000030 Worn Out Pages^000000,";
				mes "^FF000030 Round Shells^000000, และ";
				mes "^FF000030 Mole Whiskers^000000";
				mes "ครั้งนี้อย่าลืมอีกล่ะ";
				close;
			}
			if ((countitem(7112) > 29) && (countitem(1012) > 29) && (countitem(1040) > 29) && (guildrelay_q == 89)) {
				mes "[" + .@name$ + "]";
				mes "หือ ข้าไม่ได้คาดหวังจริงๆ ว่า";
				mes "เจ้าจะรวบรวมไอเทมทั้งหมดนี้";
				mes "มาได้ ทำได้ดีมาก";
				mes "เอาล่ะ รับนี่ไปและนำไปให้";
				mes "Blacksmith หรือ Mastersmith";
				mes "กิลด์ของเจ้านี่เก่งใช้ได้เลยนะ...";
				delitem 7112,30; //Fright_Paper_Blade
				delitem 1012,30; //Lizard_Scruff
				delitem 1040,30; //Elder_Pixie's_Beard
				set guildrelay_q,88;
				getitem 7235,1; //Soul_Of_Courage
				close;
			}
			if ((BaseJob == Job_Knight) && (guildrelay_q == 89)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าลืมไปแล้วหรือว่าต้อง";
				mes "เอาอะไรมาให้ข้า? ข้าต้องการ";
				mes "^FF000030 Frills^000000,";
				mes "^FF000030 Sharp Papers^000000, และ";
				mes "^FF000030 Elder Pixie's Moustaches^000000";
				mes "ครั้งนี้อย่าลืมอีกล่ะ";
				close;
			}
			if ((BaseJob == Job_Blacksmith) && (countitem(7235) > 0)) {
				mes "[" + .@name$ + "]";
				mes "ว้าว เจ้านำไอเทมมาให้เร็วกว่า";
				mes "ที่ข้าคาดไว้ซะอีก เยี่ยมมาก! เอาล่ะ";
				mes "งานต่อไปที่ข้าจะให้ทำก็คือ...";
				mes "รอ เดี๋ยวรอสักครู่และไปหา";
				mes "อะไรทำฆ่าเวลาซะ ง่ายใช่ไหมล่ะ?";
				next;
				mes "[" + .@name$ + "]";
				mes "^FF0000แค่รอเท่านั้น^000000";
				mes "แค่รอและไปหาอะไรทำฆ่าเวลา";
				mes "เจ้าสามารถไปทำอะไรก็ได้ที่";
				mes "เจ้าอยากจะทำในช่วงเวลานั้น";
				next;
				mes "[" + .@name$ + "]";
				mes "กลับมาหลังจากที่เจ้าได้พักผ่อน";
				mes "และสนุกกับตัวเองเต็มที่แล้วนะ";
				mes "เราสามารถดำเนินการทดสอบต่อ";
				mes "เมื่อถึงเวลาที่เหมาะสม ดังนั้น";
				mes "เจ้าไม่ต้องกังวลไปหรอก";
				delitem 7235,1; //Soul_Of_Courage
				set guildrelay_q,4;
				set guildtime, atoi( gettimestr("%H%M",5) );
				close;
			}
			.@time = atoi( gettimestr("%H%M",5) );
			if ((guildtime > 2259) && (guildrelay_q == 4) && (BaseJob == Job_Blacksmith)) {
				if ((.@time > 0201) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "ข้าคิดว่าเวลาผ่านไปมากพอ";
					mes "แล้วล่ะนะ พร้อมที่จะกลับมา";
					mes "รับการทดสอบต่อหรือยัง?";
					mes "โปรดมอบสิ่งนี้ให้กับ";
					mes "Alchemist หรือ Biochemist";
					mes "งานของเจ้าที่นี่เสร็จสิ้นแล้ว";
					set guildrelay_q,87;
					getitem 7237,1; //Soul_Of_Partnership
					close;
				}
			}
			if ((guildtime > 2159) && (guildrelay_q == 4) && (BaseJob == Job_Blacksmith)) {
				if ((.@time > 0101) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "ข้าคิดว่าเวลาผ่านไปมากพอ";
					mes "แล้วล่ะนะ พร้อมที่จะกลับมา";
					mes "รับการทดสอบต่อหรือยัง?";
					mes "โปรดมอบสิ่งนี้ให้กับ";
					mes "Alchemist หรือ Biochemist";
					mes "งานของเจ้าที่นี่เสร็จสิ้นแล้ว";
					set guildrelay_q,87;
					getitem 7237,1; //Soul_Of_Partnership
					close;
				}
			}
			if ((guildtime > 2059) && (guildrelay_q == 4) && (BaseJob == Job_Blacksmith)) {
				if ((.@time > 0001) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "ข้าคิดว่าเวลาผ่านไปมากพอ";
					mes "แล้วล่ะนะ พร้อมที่จะกลับมา";
					mes "รับการทดสอบต่อหรือยัง?";
					mes "โปรดมอบสิ่งนี้ให้กับ";
					mes "Alchemist หรือ Biochemist";
					mes "งานของเจ้าที่นี่เสร็จสิ้นแล้ว";
					set guildrelay_q,87;
					getitem 7237,1; //Soul_Of_Partnership
					close;
				}
			}
			if ((.@time - guildtime > 0300) && (guildrelay_q == 4) && (BaseJob == Job_Blacksmith)) {
				mes "[" + .@name$ + "]";
				mes "ข้าคิดว่าเวลาผ่านไปมากพอ";
				mes "แล้วล่ะนะ พร้อมที่จะกลับมา";
				mes "รับการทดสอบต่อหรือยัง?";
				mes "โปรดมอบสิ่งนี้ให้กับ";
				mes "Alchemist หรือ Biochemist";
				mes "งานของเจ้าที่นี่เสร็จสิ้นแล้ว";
				set guildrelay_q,87;
				getitem 7237,1; //Soul_Of_Partnership
				close;
			}
			if ((guildrelay_q == 4) && (BaseJob == Job_Blacksmith)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าคงกำลังกระตือรือร้น";
				mes "ที่จะเริ่มการทดสอบครั้งถัดไป";
				mes "โปรดอดใจรอสักนิด ไปหาอะไร";
				mes "ทำฆ่าเวลา และค่อยกลับมา";
				mes "หาข้าในภายหลังนะ";
				close;
			}
			if ((BaseJob == Job_Alchemist) && (countitem(7237) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โอ้ เจ้าได้รับมันมาแล้วรึ?";
				mes "เจ้าอาจจะไม่คิดว่าเรื่องนี้";
				mes "มันจะยากนัก แต่ตอนนี้ข้า";
				mes "กำลังจะมอบความท้าทายที่";
				mes "แตกต่างออกไปอย่างมากให้เจ้า";
				mes "เจ้าพร้อมสำหรับมันหรือยัง?";
				next;
				if ((BaseLevel > 1) && (BaseLevel < 58)) {
					mes "[" + .@name$ + "]";
					mes "การทดสอบของเจ้าคือการ";
					mes "ทำให้ตัวเองแข็งแกร่งขึ้นอีกนิด!";
					mes "เจ้าจะผ่านการทดสอบเมื่อ";
					mes "เจ้าเพิ่มเลเวลได้อีก 3 เลเวล";
					mes "เป็นยังไงล่ะ หือ?";
					delitem 7237,1; //Soul_Of_Partnership
					set guildrelay_q,5;
					close;
				}
				if ((BaseLevel > 57) && (BaseLevel < 76)) {
					mes "[" + .@name$ + "]";
					mes "การทดสอบของเจ้าคือการ";
					mes "ทำให้ตัวเองแข็งแกร่งขึ้นอีกนิด!";
					mes "เจ้าจะผ่านการทดสอบเมื่อ";
					mes "เจ้าเพิ่มเลเวลได้อีก 2 เลเวล";
					mes "เป็นยังไงล่ะ หือ?";
					delitem 7237,1; //Soul_Of_Partnership
					set guildrelay_q,6;
					close;
				}
				if ((BaseLevel > 75) && (BaseLevel < 94)) {
					mes "[" + .@name$ + "]";
					mes "การทดสอบของเจ้าคือการ";
					mes "ทำให้ตัวเองแข็งแกร่งขึ้นอีกนิด!";
					mes "เจ้าจะผ่านการทดสอบเมื่อ";
					mes "เจ้าเพิ่มเลเวลได้อีก 1 เลเวล";
					mes "เป็นยังไงล่ะ หือ?";
					delitem 7237,1; //Soul_Of_Partnership
					set guildrelay_q,7;
					close;
				}
				if (BaseLevel > 93) {
					mes "[" + .@name$ + "]";
					mes "รอสักประเดี๋ยว ลืมมันไปซะ!";
					mes "ข้าตั้งใจจะขอให้เจ้า";
					mes "เพิ่ม Base Level ของเจ้าเสียหน่อย แต่";
					mes "เจ้าดูแข็งแกร่งเพียงพออยู่แล้ว";
					mes "ดี ดีมาก เจ้าผ่าน! นำสิ่งนี้";
					mes "ไปมอบให้ ^FF0000Hunter^000000 หรือ ^FF0000Sniper^000000 เดี๋ยวนี้เลย~";
					delitem 7237,1; //Soul_Of_Partnership
					set guildrelay_q,86;
					getitem 7238,1; //Soul_Of_Correspondence
					close;
				}
			}
			if (((BaseLevel + 2) < (BaseLevel)) && (guildrelay_q == 5)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าดูแข็งแกร่งขึ้นนิดหน่อย";
				mes "ใช่ไหม? ดี ดีมาก เจ้าผ่าน";
				mes "เอ้า รับนี่ไปแล้วนำไป";
				mes "มอบให้กับ ^FF0000Hunter^000000 หรือ ^FF0000Sniper^000000";
				mes "ในกิลด์ของเจ้า ทำงานได้ดีมาก";
				mes "แล้วไว้เจอกันใหม่นะ";
				set guildrelay_q,86;
				getitem 7238,1; //Soul_Of_Correspondence
				close;
			}
			if (((BaseLevel + 1) < (BaseLevel)) && (guildrelay_q == 6)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าดูแข็งแกร่งขึ้นนิดหน่อย";
				mes "ใช่ไหม? ดี ดีมาก เจ้าผ่าน";
				mes "เอ้า รับนี่ไปแล้วนำไป";
				mes "มอบให้กับ ^FF0000Hunter^000000 หรือ ^FF0000Sniper^000000";
				mes "ในกิลด์ของเจ้า ทำงานได้ดีมาก";
				mes "แล้วไว้เจอกันใหม่นะ";
				set guildrelay_q,86;
				getitem 7238,1; //Soul_Of_Correspondence
				close;
			}
			if ((BaseLevel < (BaseLevel)) && (guildrelay_q == 7)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าดูแข็งแกร่งขึ้นนิดหน่อย";
				mes "ใช่ไหม? ดี ดีมาก เจ้าผ่าน";
				mes "เอ้า รับนี่ไปแล้วนำไป";
				mes "มอบให้กับ ^FF0000Hunter^000000 หรือ ^FF0000Sniper^000000";
				mes "ในกิลด์ของเจ้า ทำงานได้ดีมาก";
				mes "แล้วไว้เจอกันใหม่นะ";
				set guildrelay_q,86;
				getitem 7238,1; //Soul_Of_Correspondence
				close;
			}
			if ((guildrelay_q == 5) || (guildrelay_q == 6) || (guildrelay_q == 7)) {
				mes "[" + .@name$ + "]";
				mes "เจ้ายังคงแข็งแกร่งไม่";
				mes "เพียงพอที่จะผ่านการทดสอบนี้";
				mes "รีบเข้า ไปกำจัดมอนสเตอร์";
				mes "และเพิ่ม ^FF0000Base Levels^000000 เสีย";
				mes "เจ้าจะต้องแข็งแกร่งขึ้นกว่านี้!";
				close;
			}
			if ((BaseJob == Job_Hunter) && (countitem(7238) > 0)) {
				mes "[" + .@name$ + "]";
				mes "อา ดีมาก เจ้ามาแล้ว";
				mes "ตอนนี้ คำขอของข้าสำหรับเจ้า";
				mes "คือสิ่งนี้: โปรดบริจาค";
				mes "Falcon ของเจ้าเพื่อ";
				mes "เห็นแก่กิลด์ของเจ้า";
				next;
				switch(select("บริจาค Falcon:ไม่มีทาง!")) {
				case 1:
					if (checkfalcon()) {
						mes "[" + .@name$ + "]";
						mes "วิเศษมาก! ไม่ต้องกังวลไป";
						mes "Falcon ของเจ้าจะปลอดภัย";
						mes "ภายใต้การดูแลของเรา และจะ";
						mes "ถูกใช้เพื่อสำรวจพื้นที่และ";
						mes "ส่งจดหมาย นั่นคือเหตุผล";
						mes "ที่ข้าขอให้เจ้าทำเช่นนี้";
						next;
						mes "[" + .@name$ + "]";
						mes "ตอนนี้ โปรดรับวิญญาณดวงนี้";
						mes "ไป และนำมันไปมอบให้";
						mes "หัวหน้ากิลด์ของเจ้าโดย";
						mes "เร็วที่สุดเท่าที่เจ้าจะทำได้ ตกลงไหม?";
						setfalcon;
						delitem 7238,1; //Soul_Of_Correspondence
						set guildrelay_q,85;
						getitem 7239,1; //Soul_Of_Proceeding
						close;
					}
					else {
						mes "[" + .@name$ + "]";
						mes "ข้าดีใจที่เจ้ามีความ";
						mes "ตั้งใจที่จะสละ Falcon ของเจ้า";
						mes "แต่ดูเหมือนว่ามันจะไม่ได้";
						mes "อยู่กับเจ้าในตอนนี้";
						mes "ไปตามมันมา แล้วค่อยกลับมาใหม่";
						close;
					}
				case 2:
					mes "[" + .@name$ + "]";
					mes "ก็นะ ข้าคงช่วยไม่ได้ถ้าเจ้า";
					mes "ต้องการเก็บ Falcon ของเจ้า";
					mes "ไว้จริงๆ แต่โปรดกลับมา";
					mes "ถ้าเจ้าเปลี่ยนใจล่ะ";
					mes "ข้าไม่สามารถทำอะไรให้เจ้าได้";
					mes "นอกจากเจ้าจะให้ความร่วมมือ";
					close;
				}
			}
			if ((guildrelay_q == 88) && (countitem(7235) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โปรดมอบ";
				mes "Spirit of Charge ให้กับ";
				mes "^FF0000Blacksmith^000000 หรือ ^FF0000Mastersmith^000000";
				mes "มันจะไม่มีประโยชน์อันใดหากอยู่";
				mes "ในมือของผู้อื่น";
				close;
			}
			if (guildrelay_q == 88) {
				mes "[" + .@name$ + "]";
				mes "เจ้าไม่มี";
				mes "อะไรต้องทำแล้วงั้นหรือ?";
				mes "ทำไมไม่ลองไปช่วย";
				mes "กิลด์ของเจ้าล่ามอนสเตอร์ล่ะ?";
				mes "มันจะเป็นโอกาสที่ดีที่จะ";
				mes "แสดงทักษะของเจ้าให้พวกเขาเห็นนะ~";
				close;
			}
			if ((guildrelay_q == 87) && (countitem(7237) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โปรดมอบ";
				mes "Spirit of Association ให้กับ";
				mes "^FF0000Alchemist^000000 หรือ ^FF0000Biochemist^000000";
				mes "มันจะไม่มีประโยชน์อันใดหากอยู่";
				mes "ในมือของผู้อื่น";
				close;
			}
			if (guildrelay_q == 87) {
				mes "[" + .@name$ + "]";
				mes "หืม เจ้าไม่มีอะไร";
				mes "ต้องทำแล้วงั้นหรือ? ข้าว่า";
				mes "การรู้สึกเบื่อหน่ายมันยังดีเสียกว่า";
				mes "การต้องแบกรับภาระจนล้นมือนะ";
				mes "เอาเถอะ เดี๋ยวเจ้าก็คง";
				mes "หาอะไรทำได้เอง";
				close;
			}
			if ((guildrelay_q == 86) && (countitem(7238) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โปรดมอบ";
				mes "Spirit of Coordination";
				mes "ให้กับ ^FF0000Hunter^000000 หรือ ^FF0000Sniper^000000";
				mes "มันจะไม่มีประโยชน์อันใดหากอยู่";
				mes "ในมือของผู้อื่น";
				close;
			}
			if (guildrelay_q == 86) {
				mes "[" + .@name$ + "]";
				mes "ทำได้ดีมาก โปรด";
				mes "ไปพักผ่อนก่อนเถิด";
				mes "แล้วค่อยกลับมาหาข้า";
				mes "ในภายหลัง ข้าจะมีบางอย่าง";
				mes "มอบให้เจ้าเมื่อถึงเวลานั้น";
				close;
			}
			if ((guildrelay_q == 85) && (countitem(7239) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โปรดมอบ";
				mes "Spirit of Advance";
				mes "ให้กับ ^FF0000หัวหน้ากิลด์^000000 ของเจ้า";
				mes "มันจะไม่มีประโยชน์อันใดหากอยู่";
				mes "ในมือของผู้อื่น";
				close;
			}
			if (guildrelay_q == 85) {
				mes "[" + .@name$ + "]";
				mes "Falcon ของเจ้านั้น";
				mes "เป็นกำลังสำคัญให้กับ";
				mes "กิลด์อย่างมาก หือ? เจ้ารู้สึก";
				mes "คิดถึงมันแล้วรึ? ฮ่าฮ่าฮ่าฮ่า!";
				close;
			}
			mes "[" + .@name$ + "]";
			mes "หืม? อะไรพาเจ้า";
			mes "มาที่นี่? ข้าไม่คิดว่าเรา";
			mes "จะมีธุระอะไรที่ต้อง";
			mes "จัดการนะ ข้าเข้าใจผิดไปรึเปล่า?";
			close;
		}
	}
	else {
		if (is_guild_leader(.@GID) == true) {
			mes "[" + .@name$ + "]";
			mes "หืม? อะไรพาท่าน";
			mes "มาที่นี่? เชิญตามสบายและ";
			mes "เดินชมรอบๆ ได้เลย";
			mes "หากนั่นคือสิ่งที่ท่านปรารถนา";
			close;
		}
		else {
			mes "[" + .@name$ + "]";
			mes "ที่นี่ไม่ค่อยมีอะไรให้ดู";
			mes "มากนักหรอก แต่เจ้าก็";
			mes "ยินดีที่จะอยู่และเดินชม";
			mes "รอบๆ ที่นี่ได้หากเจ้าต้องการ";
			close;
		}
	}
}

-	script	RelayDummy3::GuildRelay3	754,{
	set .@name$,strnpcinfo(1);
	getmapxy(.@m$,.@x,.@x,BL_NPC);
	set .@GID, GetCastleData(.@m$,1);
	if (checkweight(1201,1) == 0) {
		mes "^3355FFรอสักครู่! ตอนนี้คุณ";
		mes "แบกสัมภาระหนักเกินไป";
		mes "กรุณานำของที่ไม่จำเป็นไปฝากไว้";
		mes "ในคลังเก็บของของ Kafra";
		mes "แล้วค่อยกลับมาใหม่^000000";
		close;
	}
	if (.@GID == 0) {
		mes "^3355FFชายผู้เหนื่อยล้าคนนี้";
		mes "สังเกตเห็นว่าคุณจ้องมองเขา";
		mes "แต่เขาเลือกที่จะไม่สนใจคุณ";
		mes "ไม่มีใครอื่นอยู่ในป้อมนี้แล้ว";
		mes "ดังนั้นไม่มีเหตุผลที่จะอยู่ที่นี่^000000";
		close;
	}
	if (getcharid(2) == .@GID) {
		if (is_guild_leader() == true) {
			if (countitem(7240) > 0) {
				mes "[" + .@name$ + "]";
				mes "หืม? ท่านกำลังทำอะไรน่ะ?";
				mes "ท่านไม่ควรจะเป็นคน";
				mes "ถือวิญญาณดวงนี้เอาไว้";
				mes "ควรจะเป็น Sage หรือ";
				mes "Professor ที่ต้องนำมัน";
				mes "มาส่งให้ข้าที่นี่";
				next;
				mes "[" + .@name$ + "]";
				mes "ตรวจสอบให้แน่ใจว่าท่าน";
				mes "ได้มอบวิญญาณที่ถืออยู่นั้น";
				mes "ให้กับ ^FF0000Sage^000000 หรือ ^FF0000Professor^000000";
				mes "แล้วค่อยให้เขานำมันมาให้ข้า";
				close;
			}
			else {
				mes "[" + .@name$ + "]";
				mes "ธุระของเราสิ้นสุดลงแล้ว";
				mes "หากท่านไม่ยุ่งจนเกินไป ทำไม";
				mes "ไม่ลองไปช่วยงานกิลด์ของท่านล่ะ?";
				mes "ใช่ ข้าแน่ใจว่าพวกเขา";
				mes "คงจะซาบซึ้งในตัวท่านมากทีเดียว";
				close;
			}
		}
		else {
			if ((BaseJob == Job_Sage) && (countitem(7240) > 0)) {
				mes "[" + .@name$ + "]";
				mes "ข้าเห็นว่าเจ้าได้นำ";
				mes "^42426FSpirit of Trust^000000 มาด้วย เอาล่ะ";
				mes "สิ่งแรกที่ข้าต้องการให้เจ้าทำคือ";
				mes "การสร้างความไว้วางใจระหว่างเจ้า";
				mes "และสมาชิกในกิลด์ของเจ้า";
				mes "จงใช้เวลาร่วมกับพวกเขา";
				next;
				mes "[" + .@name$ + "]";
				mes "ข้าต้องการให้เจ้าสร้าง";
				mes "สายสัมพันธ์ที่แน่นแฟ้น";
				mes "ภายในกิลด์ของเจ้าก่อนที่";
				mes "จะกลับมาหาข้า กิลด์ของเจ้า";
				mes "ต้องมีความเป็นน้ำหนึ่งใจเดียวกัน";
				mes "เพื่อที่จะประสบความสำเร็จ";
				delitem 7240,1; //Soul_Of_Confidence
				set guildrelay_q,9;
				set guildtime, atoi( gettimestr("%H%M",5) );
				close;
			}
			.@time = atoi( gettimestr("%H%M",5) );
			if ((guildtime > 2259) && (guildrelay_q == 9) && (BaseJob == Job_Sage)) {
				if ((.@time > 0201) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "แล้วเจ้าได้ใช้เวลาที่มีค่า";
					mes "ร่วมกับสมาชิกกิลด์ของเจ้า";
					mes "และได้รับโอกาสที่จะเรียนรู้";
					mes "ตัวตนของพวกเขาจริงๆ หรือยัง?";
					mes "เจ้าต้องรู้จักรักพวกพ้องของเจ้า";
					next;
					mes "[" + .@name$ + "]";
					mes "ตอนนี้เจ้ารู้แล้วว่า";
					mes "การสร้างสายสัมพันธ์นั้นสำคัญ";
					mes "เพียงใด โปรดมอบวิญญาณนี้";
					mes "ให้แก่ ^42426FBard^000000, ^42426FMinstrel^000000, ^42426FDancer^000000,";
					mes "หรือ ^42426FGypsy^000000 ขอให้โชคดีนะ";
					set guildrelay_q,81;
					getitem 7241,1; //Soul_Of_Agreement
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "หืม? กลับมาเร็วจังนะ?";
					mes "นั่นยังไม่ใช่เวลาที่เพียงพอ";
					mes "ที่เจ้าจะสร้างสัมพันธ์กับ";
					mes "สมาชิกกิลด์ของเจ้าจริงๆ หรอก";
					mes "กลับไปซะ ไปถามพวกเขาเกี่ยวกับ";
					mes "ความฝัน ความปรารถนา และเป้าหมาย!";
					close;
				}
			}
			else if ((guildtime > 2159) && (guildrelay_q == 9) && (BaseJob == Job_Sage)) {
				if ((.@time > 0101) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "แล้วเจ้าได้ใช้เวลาที่มีค่า";
					mes "ร่วมกับสมาชิกกิลด์ของเจ้า";
					mes "และได้รับโอกาสที่จะเรียนรู้";
					mes "ตัวตนของพวกเขาจริงๆ หรือยัง?";
					mes "เจ้าต้องรู้จักรักพวกพ้องของเจ้า";
					next;
					mes "[" + .@name$ + "]";
					mes "ตอนนี้เจ้ารู้แล้วว่า";
					mes "การสร้างสายสัมพันธ์นั้นสำคัญ";
					mes "เพียงใด โปรดมอบวิญญาณนี้";
					mes "ให้แก่ ^42426FBard^000000, ^42426FMinstrel^000000, ^42426FDancer^000000,";
					mes "หรือ ^42426FGypsy^000000 ขอให้โชคดีนะ";
					set guildrelay_q,71;
					getitem 7241,1; //Soul_Of_Agreement
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "หืม? กลับมาเร็วจังนะ?";
					mes "นั่นยังไม่ใช่เวลาที่เพียงพอ";
					mes "ที่เจ้าจะสร้างสัมพันธ์กับ";
					mes "สมาชิกกิลด์ของเจ้าจริงๆ หรอก";
					mes "กลับไปซะ ไปถามพวกเขาเกี่ยวกับ";
					mes "ความฝัน ความปรารถนา และเป้าหมาย!";
					close;
				}
			}
			else if ((guildtime > 2059) && (guildrelay_q == 9) && (BaseJob == Job_Sage)) {
				if ((.@time > 0001) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "แล้วเจ้าได้ใช้เวลาที่มีค่า";
					mes "ร่วมกับสมาชิกกิลด์ของเจ้า";
					mes "และได้รับโอกาสที่จะเรียนรู้";
					mes "ตัวตนของพวกเขาจริงๆ หรือยัง?";
					mes "เจ้าต้องรู้จักรักพวกพ้องของเจ้า";
					next;
					mes "[" + .@name$ + "]";
					mes "ตอนนี้เจ้ารู้แล้วว่า";
					mes "การสร้างสายสัมพันธ์นั้นสำคัญ";
					mes "เพียงใด โปรดมอบวิญญาณนี้";
					mes "ให้แก่ ^42426FBard^000000, ^42426FMinstrel^000000, ^42426FDancer^000000,";
					mes "หรือ ^42426FGypsy^000000 ขอให้โชคดีนะ";
					set guildrelay_q,71;
					getitem 7241,1; //Soul_Of_Agreement
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "หืม? กลับมาเร็วจังนะ?";
					mes "นั่นยังไม่ใช่เวลาที่เพียงพอ";
					mes "ที่เจ้าจะสร้างสัมพันธ์กับ";
					mes "สมาชิกกิลด์ของเจ้าจริงๆ หรอก";
					mes "กลับไปซะ ไปถามพวกเขาเกี่ยวกับ";
					mes "ความฝัน ความปรารถนา และเป้าหมาย!";
					close;
				}
			}
			else if ((.@time - guildtime > 0300) && (guildrelay_q == 9) && (BaseJob == Job_Sage)) {
				mes "[" + .@name$ + "]";
				mes "แล้วเจ้าได้ใช้เวลาที่มีค่า";
				mes "ร่วมกับสมาชิกกิลด์ของเจ้า";
				mes "และได้รับโอกาสที่จะเรียนรู้";
				mes "ตัวตนของพวกเขาจริงๆ หรือยัง?";
				mes "เจ้าต้องรู้จักรักพวกพ้องของเจ้า";
				next;
				mes "[" + .@name$ + "]";
				mes "เจ้าได้ทำในสิ่งที่ต้อง";
				mes "ทำสำหรับในตอนนี้เรียบร้อยแล้ว";
				mes "โปรดนำมันไปมอบให้แก่ ^42426FBard^000000 หรือ ^42426FClown^000000";
				mes "เจ้าสามารถมอบมันให้แก่ ^42426FDancer^000000 หรือ ^42426FGypsy^000000 ได้เช่นกัน";
				mes "โชคดีนะ";
				set guildrelay_q,71;
				getitem 7241,1; //Soul_Of_Agreement
				close;
			}
			else if ((BaseJob == Job_Sage) && (guildrelay_q == 9)) {
				mes "[" + .@name$ + "]";
				mes "หืม? กลับมาเร็วจังนะ?";
				mes "นั่นยังไม่ใช่เวลาที่เพียงพอ";
				mes "ที่เจ้าจะสร้างสัมพันธ์กับ";
				mes "สมาชิกกิลด์ของเจ้าจริงๆ หรอก";
				mes "กลับไปซะ ไปถามพวกเขาเกี่ยวกับ";
				mes "ความฝัน ความปรารถนา และเป้าหมาย!";
				close;
			}
			if (((BaseJob == Job_Bard) || (BaseJob == Job_Dancer)) && (countitem(7241) > 0)) {
				mes "[" + .@name$ + "]";
				mes "เพื่อเป็นการส่งเสริม";
				mes "การทำงานเป็นทีมภายในกิลด์ของเจ้า";
				mes "การทดสอบของข้าคือการให้เจ้า";
				mes "รวบรวมไอเทมที่กำหนดมาให้ข้า";
				next;
				mes "[" + .@name$ + "]";
				mes "นี่เป็นงานที่ยากลำบาก";
				mes "หากจะทำให้สำเร็จเพียงลำพัง แต่มัน";
				mes "จะง่ายขึ้นมากหากเจ้าและกิลด์";
				mes "ร่วมมือกันเพื่อให้ได้ไอเทมทั้งหมด";
				mes "ตอนนี้ฟังนะ นี่คือสิ่งที่ข้าต้องการ";
				next;
				switch(rand(1,3)) {
				case 1:
					mes "[" + .@name$ + "]";
					mes "^8C171730 Burning Hearts^000000,";
					mes "^8C171730 Wolf Claws^000000, และ";
					mes "^8C171730 Leopard Claws^000000";
					mes "เจ้าควรจะจดรายการพวกนี้";
					mes "เอาไว้เพื่อที่จะได้ไม่ลืม";
					mes "ขอให้เจ้าโชคดี";
					delitem 7241,1; //Soul_Of_Agreement
					set guildrelay_q,10;
					break;
				case 2:
					mes "[" + .@name$ + "]";
					mes "^8C171730 Soft Blades of Grass^000000,";
					mes "^8C171730 Wooden Hearts^000000, และ";
					mes "^8C171730 Poisonous Toad Skins^000000";
					mes "เจ้าควรจะจดรายการพวกนี้";
					mes "เอาไว้เพื่อที่จะได้ไม่ลืม";
					mes "ขอให้เจ้าโชคดี";
					delitem 7241,1; //Soul_Of_Agreement
					set guildrelay_q,11;
					break;
				case 3:
					mes "[" + .@name$ + "]";
					mes "^8C171730 Antelope Horns^000000,";
					mes "^8C171730 Honey Pots^000000, และ";
					mes "^8C171730 Porcupine Quills^000000";
					mes "เจ้าควรจะจดรายการพวกนี้";
					mes "เอาไว้เพื่อที่จะได้ไม่ลืม";
					mes "ขอให้เจ้าโชคดี";
					delitem 7241,1; //Soul_Of_Agreement
					set guildrelay_q,80;
					break;
				}
				next;
				mes "[" + .@name$ + "]";
				mes "เจ้าควรจะสร้างสัมพันธ์";
				mes "กับกิลด์ในขณะที่เจ้า";
				mes "รวบรวมไอเทมที่ข้าสั่งมา";
				mes "ข้ารู้ว่าเวลานั้นยังผ่านไปไม่พอ";
				mes "สำหรับกิลด์ของเจ้าในการร่วมมือกัน";
				close;
			}
			if ((countitem(7097) > 29) && (countitem(7172) > 29) && (countitem(920) > 29) && (guildrelay_q == 10)) {
				mes "[" + .@name$ + "]";
				mes "โอ้ สมบูรณ์แบบ! เจ้านำ";
				mes "ไอเทมทั้งหมดมาแล้ว เอาล่ะ";
				mes "ข้าคิดว่าเจ้าพร้อมแล้วที่จะ";
				mes "รับวิญญาณดวงนี้ไป โปรดมอบ";
				mes "มันให้แก่ ^42426FAssassin^000000 หรือ";
				mes "^42426FAssassin Cross^000000 ขอบใจเจ้ามาก";
				delitem 7097,30; //Burning_Heart
				delitem 7172,30; //Leopard_Talon
				delitem 920,30; //Claw_Of_Wolves
				if (BaseJob == Job_Dancer) {
					set guildrelay_q,72;
				}
				else {
					set guildrelay_q,72;
				}
				getitem 7242,1; //Soul_Of_Harmony
				close;
			}
			else if ((countitem(7189) > 29) && (countitem(7194) > 29) && (countitem(7155) > 29) && (guildrelay_q == 11)) {
				mes "[" + .@name$ + "]";
				mes "โอ้ สมบูรณ์แบบ! เจ้านำ";
				mes "ไอเทมทั้งหมดมาแล้ว เอาล่ะ";
				mes "ข้าคิดว่าเจ้าพร้อมแล้วที่จะ";
				mes "รับวิญญาณดวงนี้ไป โปรดมอบ";
				mes "มันให้แก่ ^42426FAssassin^000000 หรือ";
				mes "^42426FAssassin Cross^000000 ขอบใจเจ้ามาก";
				delitem 7189,30; //Heart_Of_Tree
				delitem 7194,30; //Soft_Leaf
				delitem 7155,30; //Poison_Toad's_Skin
				if (BaseJob == Job_Dancer) {
					set guildrelay_q,72;
				}
				else {
					set guildrelay_q,72;
				}
				getitem 7242,1; //Soul_Of_Harmony
				close;
			}
			else if ((countitem(7106) > 29) && (countitem(7121) > 29) && (countitem(1027) > 29) && (guildrelay_q == 80)) {
				mes "[" + .@name$ + "]";
				mes "โอ้ สมบูรณ์แบบ! เจ้านำ";
				mes "ไอเทมทั้งหมดมาแล้ว เอาล่ะ";
				mes "ข้าคิดว่าเจ้าพร้อมแล้วที่จะ";
				mes "รับวิญญาณดวงนี้ไป โปรดมอบ";
				mes "มันให้แก่ ^42426FAssassin^000000 หรือ";
				mes "^42426FAssassin Cross^000000 ขอบใจเจ้ามาก";
				delitem 7106,30; //Goat's_Horn
				delitem 7121,30; //Honey_Jar
				delitem 1027,30; //Porcupine_Spike
				if (BaseJob == Job_Dancer) {
					set guildrelay_q,72;
				}
				else {
					set guildrelay_q,72;
				}
				getitem 7242,1; //Soul_Of_Harmony
				close;
			}
			else if (guildrelay_q == 10) {
				mes "[" + .@name$ + "]";
				mes "หืม? เจ้ายังรวบรวม";
				mes "ไอเทมทั้งหมดร่วมกับกิลด์";
				mes "ของเจ้าไม่เสร็จอีกรึ?";
				mes "ให้ข้าเตือนเจ้าอีกครั้งว่า";
				mes "เจ้าต้องนำอะไรมาให้ข้าบ้าง";
				next;
				mes "[" + .@name$ + "]";
				mes "^8C171730 Burning Hearts^000000,";
				mes "^8C171730 Wolf Claws^000000, และ";
				mes "^8C171730 Leopard Claws^000000";
				mes "เจ้าควรจะจดรายการพวกนี้";
				mes "เอาไว้เพื่อที่จะได้ไม่ลืม";
				mes "ขอให้เจ้าโชคดี";
				close;
			}
			else if (guildrelay_q == 11) {
				mes "[" + .@name$ + "]";
				mes "หืม? เจ้ายังรวบรวม";
				mes "ไอเทมทั้งหมดร่วมกับกิลด์";
				mes "ของเจ้าไม่เสร็จอีกรึ?";
				mes "ให้ข้าเตือนเจ้าอีกครั้งว่า";
				mes "เจ้าต้องนำอะไรมาให้ข้าบ้าง";
				next;
				mes "[" + .@name$ + "]";
				mes "^8C171730 Soft Blades of Grass^000000,";
				mes "^8C171730 Wooden Hearts^000000, และ";
				mes "^8C171730 Poisonous Toad Skins^000000";
				mes "เจ้าควรจะจดรายการพวกนี้";
				mes "เอาไว้เพื่อที่จะได้ไม่ลืม";
				mes "ขอให้เจ้าโชคดี";
				close;
			}
			else if (guildrelay_q == 80) {
				mes "[" + .@name$ + "]";
				mes "หืม? เจ้ายังรวบรวม";
				mes "ไอเทมทั้งหมดร่วมกับกิลด์";
				mes "ของเจ้าไม่เสร็จอีกรึ?";
				mes "ให้ข้าเตือนเจ้าอีกครั้งว่า";
				mes "เจ้าต้องนำอะไรมาให้ข้าบ้าง";
				next;
				mes "[" + .@name$ + "]";
				mes "^8C171730 Antelope Horns^000000,";
				mes "^8C171730 Honey Pots^000000, และ";
				mes "^8C171730 Porcupine Quills^000000";
				mes "เจ้าควรจะจดรายการพวกนี้";
				mes "เอาไว้เพื่อที่จะได้ไม่ลืม";
				mes "ขอให้เจ้าโชคดี";
				close;
			}
			if ((BaseJob == Job_Assassin) && (countitem(7242) > 0)) {
				mes "[" + .@name$ + "]";
				mes "เจ้านำ Spirit of";
				mes "Combination มาแล้วหรือ?";
				mes "จงตรวจสอบให้แน่ใจว่าเจ้าได้";
				mes "มอบสิ่งนี้ให้แก่ ^2F4F2FWizard^000000 หรือ";
				mes "^2F4F2FHigh Wizard^000000";
				delitem 7242,1; //Soul_Of_Harmony
				set guildrelay_q,74;
				getitem 7244,1; //Soul_Of_Unity
				close;
			}
			if ((BaseJob == Job_Wizard) && (countitem(7244) > 0)) {
				mes "[" + .@name$ + "]";
				mes "เพื่อเห็นแก่กิลด์ของเจ้า";
				mes "เจ้าจะต้องแข็งแกร่งขึ้น";
				mes "ในบางครั้ง เวทมนตร์ของเจ้า";
				mes "จะเป็นตัวตัดสินความแตกต่าง";
				mes "ระหว่างชัยชนะและความพ่ายแพ้";
				mes "จงจำเรื่องนั้นไว้ให้ดี";
				next;
				mes "[" + .@name$ + "]";
				mes "นี่ " + strcharinfo(0) + ",";
				mes "หากเจ้าต้องการที่จะแข็งแกร่งพอ";
				mes "ที่จะปกป้องกิลด์ของเจ้าจริงๆ เจ้า";
				mes "จะต้องเพิ่มเลเวล กลับมาหาข้า";
				mes "เมื่อเจ้าได้เพิ่ม Base Level แล้ว";
				next;
				if ((BaseLevel > 0) && (BaseLevel < 61)) {
					mes "[" + .@name$ + "]";
					mes "เจ้าจะพร้อมสำหรับงาน";
					mes "ของเจ้า หลังจากที่เจ้าเพิ่ม";
					mes "^FF00003 Base Levels^000000";
					mes "อย่าเพิ่งท้อแท้ล่ะ ข้าเขื่อว่า";
					mes "เจ้าจะทำตามเป้าหมายได้สำเร็จ";
					mes "ขอให้เจ้าโชคดี";
					delitem 7244,1; //Soul_Of_Unity
					set guildrelay_q,12;
					close;
				}
				else if ((BaseLevel > 60) && (BaseLevel < 76)) {
					mes "[" + .@name$ + "]";
					mes "เจ้าจะพร้อมสำหรับงาน";
					mes "ของเจ้า หลังจากที่เจ้าเพิ่ม";
					mes "^FF00002 Base Levels^000000";
					mes "อย่าเพิ่งท้อแท้ล่ะ ข้าเขื่อว่า";
					mes "เจ้าจะทำตามเป้าหมายได้สำเร็จ";
					mes "ขอให้เจ้าโชคดี";
					delitem 7244,1; //Soul_Of_Unity
					set guildrelay_q,13;
					close;
				}
				else if ((BaseLevel > 75) && (BaseLevel < 97)) {
					mes "[" + .@name$ + "]";
					mes "เจ้าจะพร้อมสำหรับงาน";
					mes "ของเจ้า หลังจากที่เจ้าเพิ่ม";
					mes "^FF00001 Base Level^000000";
					mes "อย่าเพิ่งท้อแท้ล่ะ ข้าเขื่อว่า";
					mes "เจ้าจะทำตามเป้าหมายได้สำเร็จ";
					mes "ขอให้เจ้าโชคดี";
					delitem 7244,1; //Soul_Of_Unity
					set guildrelay_q,14;
					close;
				}
				else if (BaseLevel > 96) {
					mes "[" + .@name$ + "]";
					mes "หืม เจ้าแข็งแกร่งกว่าที่ข้า";
					mes "คาดไว้มาก ไม่มีความจำเป็น";
					mes "ที่ข้าจะต้องกระตุ้นให้เจ้าพัฒนา";
					mes "ความแข็งแกร่งของเจ้าอีกแล้ว";
					mes "ข้ายอมรับว่าเจ้าแข็งแกร่งจริงๆ";
					next;
					mes "[" + .@name$ + "]";
					mes "จงรับรู้ถึงขอบเขตและขีดจำกัด";
					mes "ของความแข็งแกร่งของเจ้า แต่อย่า";
					mes "ปล่อยให้ความทระนงมาทำให้จิตใจ";
					mes "ขุ่นมัว ความภาคภูมิใจจะพันธนาการ";
					mes "พลังของเจ้าเสมอหากเจ้าปล่อยมันไป";
					mes "จงจดจำความอ่อนน้อมถ่อมตนไว้";
					next;
					mes "[" + .@name$ + "]";
					mes "เจ้ามีคุณสมบัติเพียงพอ";
					mes "ที่ข้าจะไว้ใจเจ้า โปรดมอบ";
					mes "วิญญาณดวงนี้ให้กับ";
					mes "^FF0000Guild Master^000000 ของเจ้า";
					mes "งานของเจ้าเสร็จสิ้นแล้ว";
					delitem 7244,1; //Soul_Of_Unity
					set guildrelay_q,75;
					getitem 7245,1; //Soul_Of_Friendship
					close;
				}
			}
			if ((BaseLevel + 2) < (BaseLevel) && (guildrelay_q == 12)) {
				mes "[" + .@name$ + "]";
				mes "ข้าเห็นว่าเจ้าได้ทำภารกิจ";
				mes "ที่ข้ามอบให้สำเร็จลุล่วงแล้ว";
				mes "มันอาจจะเป็นเรื่องที่ยากลำบาก";
				mes "แต่เจ้าจะเห็นได้ว่า ข้าคำนึงถึง";
				mes "ผลประโยชน์สูงสุดของกิลด์เจ้า";
				next;
				mes "[" + .@name$ + "]";
				mes "เจ้าได้รับความไว้วางใจจากข้าแล้ว";
				mes "โปรดนำวิญญาณดวงนี้ไปมอบให้แก่";
				mes "^FF0000Guild Master^000000 ของเจ้า";
				mes "เจ้าทำได้ดีมาก";
				set guildrelay_q,75;
				getitem 7245,1; //Soul_Of_Friendship
				close;
			}
			else if ((BaseLevel + 1) < (BaseLevel) && (guildrelay_q == 13)) {
				mes "[" + .@name$ + "]";
				mes "ข้าเห็นว่าเจ้าได้ทำภารกิจ";
				mes "ที่ข้ามอบให้สำเร็จลุล่วงแล้ว";
				mes "มันอาจจะเป็นเรื่องที่ยากลำบาก";
				mes "แต่เจ้าจะเห็นได้ว่า ข้าคำนึงถึง";
				mes "ผลประโยชน์สูงสุดของกิลด์เจ้า";
				next;
				mes "[" + .@name$ + "]";
				mes "เจ้าได้รับความไว้วางใจจากข้าแล้ว";
				mes "โปรดนำวิญญาณดวงนี้ไปมอบให้แก่";
				mes "^FF0000Guild Master^000000 ของเจ้า";
				mes "เจ้าทำได้ดีมาก";
				set guildrelay_q,75;
				getitem 7245,1; //Soul_Of_Friendship
				close;
			}
			else if ((BaseLevel < BaseLevel) && (guildrelay_q == 14)) {
				mes "[" + .@name$ + "]";
				mes "ข้าเห็นว่าเจ้าได้ทำภารกิจ";
				mes "ที่ข้ามอบให้สำเร็จลุล่วงแล้ว";
				mes "มันอาจจะเป็นเรื่องที่ยากลำบาก";
				mes "แต่เจ้าจะเห็นได้ว่า ข้าคำนึงถึง";
				mes "ผลประโยชน์สูงสุดของกิลด์เจ้า";
				next;
				mes "[" + .@name$ + "]";
				mes "เจ้าได้รับความไว้วางใจจากข้าแล้ว";
				mes "โปรดนำวิญญาณดวงนี้ไปมอบให้แก่";
				mes "^FF0000Guild Master^000000 ของเจ้า";
				mes "เจ้าทำได้ดีมาก";
				set guildrelay_q,75;
				getitem 7245,1; //Soul_Of_Friendship
				close;
			}
			if ((guildrelay_q == 12) && (BaseJob == Job_Wizard)) {
				mes "[" + .@name$ + "]";
				mes "เจ้ายังแข็งแกร่งไม่พอที่";
				mes "กิลด์จะพึ่งพาเจ้าได้ทั้งหมด";
				mes "ยามเกิดวิกฤตการณ์";
				mes "เจ้าจะต้องเพิ่มเลเวล!";
				close;
			}
			else if ((guildrelay_q == 13) && (BaseJob == Job_Wizard)) {
				mes "[" + .@name$ + "]";
				mes "เจ้ายังแข็งแกร่งไม่พอที่";
				mes "กิลด์จะพึ่งพาเจ้าได้ทั้งหมด";
				mes "ยามเกิดวิกฤตการณ์";
				mes "เจ้าจะต้องเพิ่มเลเวล!";
				close;
			}
			else if ((guildrelay_q == 14) && (BaseJob == Job_Wizard)) {
				mes "[" + .@name$ + "]";
				mes "หืม... ข้าไม่คิดว่าเจ้าได้";
				mes "ใช้เวลามากพอในการเก็บ";
				mes "เลเวลนะ จงพยายามต่อไป";
				close;
			}
		}
	}
	else {
		if (is_guild_leader(.@GID) == true) {
			mes "[" + .@name$ + "]";
			mes "หืม เจ้าคือเจ้าของกิลด์";
			mes "อื่นสินะ? ข้าไม่มีความ";
			mes "จงรักภักดีต่อเจ้าหรอก";
			mes "ได้โปรด... ออกไปจากที่นี่ซะ";
			close;
		}
		else {
			mes "[" + .@name$ + "]";
			mes "หืม? เจ้าไม่มีเหตุผลอะไร";
			mes "ที่จะต้องป้วนเปี้ยนอยู่ในป้อมนี้";
			mes "โปรดออกไปจากที่นี่เดี๋ยวนี้";
			close;
		}
	}
	if ((guildrelay_q == 71) && (countitem(7241) > 0)) {
		mes "[" + .@name$ + "]";
		mes "ไม่มีความจำเป็นที่เจ้าต้อง";
		mes "ถือวิญญาณ Spirit of Union";
		mes "ไว้กับตัว โปรดมอบมันให้กับ";
		mes "Bard, Minstrel, Dancer";
		mes "หรือ Gypsy ในกิลด์ของเจ้า";
		close;
	}
	else if (guildrelay_q == 71) {
		mes "[" + .@name$ + "]";
		mes "เมื่อเจ้าพัฒนาตนเอง เจ้า";
		mes "ก็กำลังทำให้กิลด์แข็งแกร่งขึ้น";
		mes "จงอุทิศเวลาให้กับทั้งตนเอง";
		mes "และทีมของเจ้าเสมอ เจ้าจะขาด";
		mes "อย่างใดอย่างหนึ่งไปไม่ได้";
		next;
		mes "[" + .@name$ + "]";
		mes "ข้าคิดว่าเจ้าคงไม่ค่อยมี";
		mes "เรื่องให้ข้าช่วยแล้วล่ะ... แต่";
		mes "ข้าจะคอยเป็นกำลังใจให้เสมอ";
		close;
	}
	if ((guildrelay_q == 72) && (countitem(7242) > 0)) {
		mes "[" + .@name$ + "]";
		mes "ไม่มีความจำเป็นที่เจ้าต้อง";
		mes "ถือวิญญาณ Spirit of";
		mes "Combination ไว้ โปรดมอบมัน";
		mes "ให้ Assassin หรือ Assassin";
		mes "Cross ในกิลด์ของเจ้า";
		close;
	}
	else if (guildrelay_q == 72) {
		mes "[" + .@name$ + "]";
		mes "บทเพลงของเจ้าช่วยปลุกใจ";
		mes "สมาชิกในกิลด์ และจะช่วยให้";
		mes "พวกเขายืนหยัดสู้ต่อไปได้";
		mes "ไม่ว่าสถานการณ์จะดูสิ้นหวัง";
		mes "เพียงใดก็ตาม เสียงของเจ้านั้น";
		mes "สามารถสร้างปาฏิหาริย์ได้";
		next;
		mes "[" + .@name$ + "]";
		mes "ข้าคิดว่าเจ้าคงไม่ค่อยมี";
		mes "เรื่องให้ข้าช่วยแล้วล่ะ... แต่";
		mes "ข้าจะคอยเป็นกำลังใจให้เสมอ";
		close;
	}
	if ((guildrelay_q == 73) && (countitem(7242) > 0)) {
		mes "[" + .@name$ + "]";
		mes "ไม่มีความจำเป็นที่เจ้าต้อง";
		mes "ถือวิญญาณ Spirit of";
		mes "Combination ไว้ โปรดมอบมัน";
		mes "ให้ Assassin หรือ Assassin";
		mes "Cross ในกิลด์ของเจ้า";
		close;
	}
	else if (guildrelay_q == 73) {
		mes "[" + .@name$ + "]";
		mes "การร่ายรำของเจ้าช่วยปลุกใจ";
		mes "สมาชิกในกิลด์ และจะช่วยให้";
		mes "พวกเขายืนหยัดสู้ต่อไปได้";
		mes "ไม่ว่าสถานการณ์จะดูสิ้นหวัง";
		mes "เพียงใดก็ตาม เสียงของเจ้านั้น";
		mes "สามารถสร้างปาฏิหาริย์ได้";
		next;
		mes "[" + .@name$ + "]";
		mes "ข้าคิดว่าเจ้าคงไม่ค่อยมี";
		mes "เรื่องให้ข้าช่วยแล้วล่ะ... แต่";
		mes "ข้าจะคอยเป็นกำลังใจให้เสมอ";
		close;
	}
	if ((guildrelay_q == 74) && (countitem(7244) > 0)) {
		mes "[" + .@name$ + "]";
		mes "ไม่มีความจำเป็นที่เจ้าต้อง";
		mes "ถือวิญญาณ Spirit of";
		mes "Solidarity ไว้ โปรดมอบมันให้";
		mes "Wizard หรือ High Wizard";
		mes "ในกิลด์ของเจ้า";
		close;
	}
	else if (guildrelay_q == 74) {
		mes "[" + .@name$ + "]";
		mes "ข้าคิดว่าเจ้าคงไม่ค่อยมี";
		mes "เรื่องให้ข้าช่วยแล้วล่ะ... แต่";
		mes "ข้าจะคอยเป็นกำลังใจให้เสมอ";
		next;
		mes "[" + .@name$ + "]";
		mes "จงรู้ว่าศัตรูของเจ้าคือใคร";
		mes "หากมีใครต่อต้านกิลด์ของเจ้า";
		mes "เจ้าต้องบดขยี้พวกเขาโดย";
		mes "ไม่ต้องลังเล ความยุติธรรมของ";
		mes "เจ้าต้องได้รับการจัดการโดยเร็ว!";
		close;
	}
	if ((guildrelay_q == 75) && (countitem(7245) > 0)) {
		mes "[" + .@name$ + "]";
		mes "ไม่มีความจำเป็นที่เจ้าต้อง";
		mes "ถือวิญญาณ Spirit of";
		mes "Friendship ไว้ โปรดนำมัน";
		mes "ไปมอบให้แก่หัวหน้ากิลด์ของเจ้า";
		close;
	}
	else if (guildrelay_q == 75) {
		mes "[" + .@name$ + "]";
		mes "ข้าพยากรณ์ได้เลยว่าเจ้า";
		mes "พยายามจะช่วยเหลือสมาชิก";
		mes "ทุกคนในกิลด์อยู่เสมอ ความภักดี";
		mes "ของเจ้าจะดึงดูดพวกเขามาอยู่";
		mes "ข้างกายเจ้า ไม่ว่าในยามสุข";
		mes "หรือยามทุกข์ยากก็ตาม";
		next;
		mes "[" + .@name$ + "]";
		mes "ข้าคิดว่าเจ้าคงไม่ค่อยมี";
		mes "เรื่องให้ข้าช่วยแล้วล่ะ... แต่";
		mes "ข้าจะคอยเป็นกำลังใจให้เสมอ";
		close;
	}
	mes "[" + .@name$ + "]";
	mes "เราไม่มีความเกี่ยวข้อง";
	mes "อะไรต่อกันอีกแล้ว";
	mes "ปล่อยข้าไว้คนเดียว และ";
	mes "ไปตามทางของเจ้าเถอะ";
	close;
}

-	script	GuildDummy4::GuildRelay4	754,{
	set .@name$, strnpcinfo(1);
	getmapxy(.@m$, .@x, .@x, BL_NPC);
	set .@GID, GetCastleData(.@m$, 1);
	if (checkweight(1201, 1) == 0) {
		mes "^3355FFรอสักครู่! ตอนนี้คุณ";
		mes "แบกสัมภาระหนักเกินไป";
		mes "กรุณานำของที่ไม่จำเป็นไปฝากไว้";
		mes "ในคลังเก็บของของ Kafra";
		mes "แล้วค่อยกลับมาใหม่^000000";
		close;
	}
	if (.@GID == 0) {
		mes "^3355FFชายผู้เหนื่อยล้าคนนี้";
		mes "สังเกตเห็นว่าคุณจ้องมองเขา";
		mes "แต่เขาเลือกที่จะไม่สนใจคุณ";
		mes "ไม่มีใครอื่นอยู่ในป้อมนี้แล้ว";
		mes "ดังนั้นไม่มีเหตุผลที่จะอยู่ที่นี่^000000";
		close;
	}
	if (getcharid(2) == .@GID) {
		if (is_guild_leader() == true) {
			if (countitem(7246) > 0) {
				mes "[" + .@name$ + "]";
				mes "หืม? วิญญาณดวงนั้นที่";
				mes "ท่านนำติดตัวมาด้วย...";
				mes "ข้าขออภัย แต่มันไม่มีประโยชน์";
				mes "ที่ท่านจะถือมันไปไหนมาไหน";
				next;
				mes "[" + .@name$ + "]";
				mes "โปรดมอบสิ่งนั้นให้กับ";
				mes "^FF0000Rogue^000000 หรือ ^FF0000Stalker^000000";
				mes "ในกิลด์ของท่าน แล้วค่อย";
				mes "บอกให้เขานำมันมาให้ข้า";
				close;
			}
			else {
				mes "[" + .@name$ + "]";
				mes "ธุระของเราสิ้นสุดลงแล้ว";
				mes "หากท่านไม่ยุ่งจนเกินไป ทำไม";
				mes "ไม่ลองไปช่วยงานกิลด์ของท่านล่ะ?";
				mes "ใช่ ข้าแน่ใจว่าพวกเขา";
				mes "คงจะซาบซึ้งในตัวท่านมากทีเดียว";
				close;
			}
		}
		else {
			if ((BaseJob == Job_Rogue) && (countitem(7246) > 0)) {
				mes "[" + .@name$ + "]";
				mes "ดังนั้นเจ้าคือผู้ที่ได้รับ";
				mes "ความไว้วางใจให้ถือ Spirit of Peace สินะ?";
				mes "เอาล่ะ... ภารกิจของข้าสำหรับเจ้า";
				mes "คือการ ^FF0000สร้างปาร์ตี้ที่มี";
				switch(rand(1,3)) {
				case 1:
					mes "สมาชิก 6 คน^000000";
					mes "ไม่ขาดและไม่เกิน";
					next;
					mes "[" + .@name$ + "]";
					mes "นี่เป็นการทดสอบที่แปลกประหลาด";
					mes "แต่ถ้าเจ้าทำได้ มันจะแสดงให้";
					mes "ข้าเห็นอย่างชัดเจนว่าทักษะ";
					mes "การเข้าสังคมของเจ้านั้นถึงเกณฑ์";
					delitem 7246, 1; //Soul_Of_Peace
					set guildrelay_q, 91;
					close;
				case 2:
					mes "สมาชิก 8 คน^000000";
					mes "ไม่ขาดและไม่เกิน";
					next;
					mes "[" + .@name$ + "]";
					mes "นี่เป็นการทดสอบที่แปลกประหลาด";
					mes "แต่ถ้าเจ้าทำได้ มันจะแสดงให้";
					mes "ข้าเห็นอย่างชัดเจนว่าทักษะ";
					mes "การเข้าสังคมของเจ้านั้นถึงเกณฑ์";
					delitem 7246, 1; //Soul_Of_Peace
					set guildrelay_q, 92;
					close;
				case 3:
					mes "สมาชิก 10 คน^000000";
					mes "ไม่ขาดและไม่เกิน";
					next;
					mes "[" + .@name$ + "]";
					mes "นี่เป็นการทดสอบที่แปลกประหลาด";
					mes "แต่ถ้าเจ้าทำได้ มันจะแสดงให้";
					mes "ข้าเห็นอย่างชัดเจนว่าทักษะ";
					mes "การเข้าสังคมของเจ้านั้นถึงเกณฑ์";
					delitem 7246, 1; //Soul_Of_Peace
					set guildrelay_q, 93;
					close;
				}
			}
			getpartymember(getcharid(1));
			set .@partymembercount, $@partymembercount;
			if (guildrelay_q == 91) {
				if (.@partymembercount == 6) {
					mes "[" + .@name$ + "]";
					mes "ข้าเห็นว่าเจ้าได้";
					mes "สร้างปาร์ตี้ด้วยจำนวน";
					mes "สมาชิกที่ข้าสั่งไว้พอดี หืม";
					mes "ข้าคิดว่าเจ้าสามารถได้รับความ";
					mes "ไว้วางใจให้เป็นผู้นำในยามที่จำเป็น";
					next;
					mes "[" + .@name$ + "]";
					mes "นี่ ข้าต้องการให้เจ้ารับวิญญาณ";
					mes "ดวงนี้ไป แล้วนำไปมอบให้กับ";
					mes "Priest หรือ High Priest";
					mes "ในกิลด์ของเจ้า";
					set guildrelay_q, 95;
					getitem 7247, 1; //Soul_Of_Spirit
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "ข้าคิดว่าข้าได้สั่งให้เจ้า";
					mes "^FF0000สร้างปาร์ตี้ที่มีสมาชิก 6 คน^000000 นะ?";
					mes "ไม่ขาดและไม่เกิน หืม";
					mes "กลับมาหาข้าหลังจากที่เจ้า";
					mes "ทำงานง่ายๆ นี้เสร็จสิ้นแล้ว";
					close;
				}
			}
			if (guildrelay_q == 92) {
				if (.@partymembercount == 8) {
					mes "[" + .@name$ + "]";
					mes "ข้าเห็นว่าเจ้าได้";
					mes "สร้างปาร์ตี้ด้วยจำนวน";
					mes "สมาชิกที่ข้าสั่งไว้พอดี หืม";
					mes "ข้าคิดว่าเจ้าสามารถได้รับความ";
					mes "ไว้วางใจให้เป็นผู้นำในยามที่จำเป็น";
					next;
					mes "[" + .@name$ + "]";
					mes "นี่ ข้าต้องการให้เจ้ารับวิญญาณ";
					mes "ดวงนี้ไป แล้วนำไปมอบให้กับ";
					mes "Priest หรือ High Priest";
					mes "ในกิลด์ของเจ้า";
					set guildrelay_q, 95;
					getitem 7247, 1; //Soul_Of_Spirit
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "ข้าคิดว่าข้าได้สั่งให้เจ้า";
					mes "^FF0000สร้างปาร์ตี้ที่มีสมาชิก 8 คน^000000 นะ?";
					mes "ไม่ขาดและไม่เกิน หืม";
					mes "กลับมาหาข้าหลังจากที่เจ้า";
					mes "ทำงานง่ายๆ นี้เสร็จสิ้นแล้ว";
					close;				}
			}
			if (guildrelay_q == 93) {
				if (.@partymembercount == 10) {
					mes "[" + .@name$ + "]";
					mes "ข้าเห็นว่าเจ้าได้";
					mes "สร้างปาร์ตี้ด้วยจำนวน";
					mes "สมาชิกที่ข้าสั่งไว้พอดี หืม";
					mes "ข้าคิดว่าเจ้าสามารถได้รับความ";
					mes "ไว้วางใจให้เป็นผู้นำในยามที่จำเป็น";
					next;
					mes "[" + .@name$ + "]";
					mes "นี่ ข้าต้องการให้เจ้ารับวิญญาณ";
					mes "ดวงนี้ไป แล้วนำไปมอบให้กับ";
					mes "Priest หรือ High Priest";
					mes "ในกิลด์ของเจ้า";
					set guildrelay_q, 95;
					getitem 7247, 1; //Soul_Of_Spirit
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "ข้าคิดว่าข้าได้สั่งให้เจ้า";
					mes "^FF0000สร้างปาร์ตี้ที่มีสมาชิก 10 คน^000000 นะ?";
					mes "ไม่ขาดและไม่เกิน หืม";
					mes "กลับมาหาข้าหลังจากที่เจ้า";
					mes "ทำงานง่ายๆ นี้เสร็จสิ้นแล้ว";
					close;
				}
			}
			if ((BaseJob == Job_Priest) && (countitem(7247) > 0)) {
				mes "[" + .@name$ + "]";
				mes "ทำได้ดีมากที่ได้รับ";
				mes "Spirit of Determination มา";
				mes "แต่ข้าต้องการให้เจ้าพยายาม";
				mes "แข็งแกร่งขึ้น หากเจ้าตั้งใจ";
				mes "จะปกป้องผู้อื่น เจ้าจะ";
				mes "พ่ายแพ้ไม่ได้เป็นอันขาด";
				next;
				if ((BaseLevel > 1) && (BaseLevel < 61)) {
					mes "[" + .@name$ + "]";
					mes "ข้าต้องการให้เจ้าเพิ่ม";
					mes "^FF00003 Base Levels^000000 เพื่อ";
					mes "เห็นแก่ความแข็งแกร่งของ";
					mes "ตัวเจ้าเองและกิลด์ของเจ้า";
					mes "นี่คือการทดสอบของข้าสำหรับเจ้า";
					next;
					mes "[" + .@name$ + "]";
					mes "พยายามอย่ากังวลกับ";
					mes "ภารกิจนี้มากจนเกินไป";
					mes "ข้าแน่ใจว่าเจ้าทำได้";
					mes "กลับมาหาข้าเมื่อเจ้า";
					mes "พร้อมแล้ว";
					delitem 7247, 1; //Soul_Of_Spirit
					set guildrelay_q, 18;
					close;
				}
				if ((BaseLevel > 60) && (BaseLevel < 76)) {
					mes "[" + .@name$ + "]";
					mes "ข้าต้องการให้เจ้าเพิ่ม";
					mes "^FF00002 Base Levels^000000 เพื่อ";
					mes "เห็นแก่ความแข็งแกร่งของ";
					mes "ตัวเจ้าเองและกิลด์ของเจ้า";
					mes "นี่คือการทดสอบของข้าสำหรับเจ้า";
					next;
					mes "[" + .@name$ + "]";
					mes "พยายามอย่ากังวลกับ";
					mes "ภารกิจนี้มากจนเกินไป";
					mes "ข้าแน่ใจว่าเจ้าทำได้";
					mes "กลับมาหาข้าเมื่อเจ้า";
					mes "พร้อมแล้ว";
					delitem 7247, 1; //Soul_Of_Spirit
					set guildrelay_q, 19;
					close;
				}
				if ((BaseLevel > 75) && (BaseLevel < 97)) {
					mes "[" + .@name$ + "]";
					mes "ข้าต้องการให้เจ้าเพิ่ม";
					mes "^FF00001 Base Level^000000 เพื่อ";
					mes "เห็นแก่ความแข็งแกร่งของ";
					mes "ตัวเจ้าเองและกิลด์ของเจ้า";
					mes "นี่คือการทดสอบของข้าสำหรับเจ้า";
					next;
					mes "[" + .@name$ + "]";
					mes "พยายามอย่ากังวลกับ";
					mes "ภารกิจนี้มากจนเกินไป";
					mes "ข้าแน่ใจว่าเจ้าทำได้";
					mes "กลับมาหาข้าเมื่อเจ้า";
					mes "พร้อมแล้ว";
					delitem 7247, 1; //Soul_Of_Spirit
					set guildrelay_q, 20;
					close;
				}
				if (BaseLevel > 96) {
					mes "[" + .@name$ + "]";
					mes "หืม เจ้าแข็งแกร่งกว่าที่ข้า";
					mes "คาดไว้มาก";
					mes "เจ้าไม่จำเป็นต้องทำเควส";
					mes "เพื่อเพิ่มความแข็งแกร่งอีกแล้ว";
					mes "แต่ จงอย่าทระนงตนจนเกินไปนัก";
					next;
					mes "[" + .@name$ + "]";
					mes "ตกลง... ข้ามอบหมายวิญญาณ";
					mes "ดวงนี้ให้แก่เจ้า โปรดนำ";
					mes "ไปมอบให้กับ ^4D4DFFCrusader^000000";
					mes "หรือ ^4D4DFFPaladin^000000";
					mes "ในกิลด์ของเจ้า";
					delitem 7247, 1; //Soul_Of_Spirit
					set guildrelay_q, 98;
					getitem 7249, 1; //Soul_Of_Service
					close;
				}
			}
			if (((BaseLevel + 2) < (BaseLevel)) && (guildrelay_q == 18)) {
				mes "[" + .@name$ + "]";
				mes "หืม ข้าเห็นว่าเจ้า";
				mes "แข็งแกร่งขึ้นมาก";
				mes "ตามที่ข้าขอ ไม่แปลกใจเลยที่";
				mes "เพื่อนร่วมกิลด์จะพึ่งพาเจ้าได้";
				mes "ยินดีด้วยกับงานที่ทำได้";
				mes "อย่างลุล่วง";
				next;
				mes "[" + .@name$ + "]";
				mes "ตกลง... ข้ามอบหมายวิญญาณ";
				mes "ดวงนี้ให้แก่เจ้า โปรดนำ";
				mes "ไปมอบให้กับ ^4D4DFFCrusader^000000";
				mes "หรือ ^4D4DFFPaladin^000000";
				mes "ในกิลด์ของเจ้า";
				set guildrelay_q, 98;
				getitem 7249, 1; //Soul_Of_Service
				close;
			}
			if (((BaseLevel + 1) < (BaseLevel)) && (guildrelay_q == 19)) {
				mes "[" + .@name$ + "]";
				mes "หืม ข้าเห็นว่าเจ้า";
				mes "แข็งแกร่งขึ้นมาก";
				mes "ตามที่ข้าขอ ไม่แปลกใจเลยที่";
				mes "เพื่อนร่วมกิลด์จะพึ่งพาเจ้าได้";
				mes "ยินดีด้วยกับงานที่ทำได้";
				mes "อย่างลุล่วง";
				next;
				mes "[" + .@name$ + "]";
				mes "ตกลง... ข้ามอบหมายวิญญาณ";
				mes "ดวงนี้ให้แก่เจ้า โปรดนำ";
				mes "ไปมอบให้กับ ^4D4DFFCrusader^000000";
				mes "หรือ ^4D4DFFPaladin^000000";
				mes "ในกิลด์ของเจ้า";
				set guildrelay_q, 98;
				getitem 7249, 1; //Soul_Of_Service
				close;
			}
			if ((BaseLevel < BaseLevel) && (guildrelay_q == 20)) {
				mes "[" + .@name$ + "]";
				mes "หืม ข้าเห็นว่าเจ้า";
				mes "แข็งแกร่งขึ้นมาก";
				mes "ตามที่ข้าขอ ไม่แปลกใจเลยที่";
				mes "เพื่อนร่วมกิลด์จะพึ่งพาเจ้าได้";
				mes "ยินดีด้วยกับงานที่ทำได้";
				mes "อย่างลุล่วง";
				next;
				mes "[" + .@name$ + "]";
				mes "เอาล่ะ รับนี่ไปแล้วมอบให้";
				mes "Crusader หรือ Paladin";
				mes "ที่อยู่ในกิลด์ของเรา";
				mes "ขอให้โชคดี!";
				set guildrelay_q, 98;
				getitem 7249, 1; //Soul_Of_Service
				close;
			}
			if ((BaseJob == Job_Crusader) && (countitem(7249) > 0)) {
				mes "[" + .@name$ + "]";
				mes "ข้าเห็นว่าเจ้าครอบครอง";
				mes "Spirit of Service อยู่ หืม";
				mes "ทำได้ดีมาก ต่อไป ภารกิจถัดไป";
				mes "ของเจ้าคือการทดสอบความอดทน";
				mes "สิ่งเดียวที่เจ้าต้องทำคือ ^FF0000การรอ^000000";
				mes "รอจนกว่าจะถึงเวลาที่เหมาะสม";
				next;
				mes "[" + .@name$ + "]";
				mes "ข้าต้องการให้เจ้าใช้เวลานี้";
				mes "ในการสำรวจตัวเอง และ";
				mes "พิจารณาความสัมพันธ์ระหว่าง";
				mes "เจ้ากับสมาชิกในกิลด์";
				mes "เมื่อเจ้ารู้สึกว่าถึงเวลา";
				mes "ที่เหมาะสมแล้ว ค่อยมาคุยกับข้า";
				next;
				mes "[" + .@name$ + "]";
				mes "ข้าจะไม่บอกเจ้าหรอกว่า";
				mes "เจ้าควรจะกลับมาเมื่อไหร่";
				mes "ข้าจะทำเพียงแค่ยืนยันว่า";
				mes "เจ้ามาเร็วไปหรือมาตรงเวลา";
				mes "เจ้าจะต้องตั้งใจฟังเสียง";
				mes "ความรู้สึกของเจ้าในครั้งนี้จริงๆ...";
				delitem 7249, 1; //Soul_Of_Service
				set guildrelay_q, 21;
				set guildtime, atoi( gettimestr("%H%M",5) );
				close;
			}
			.@time = atoi( gettimestr("%H%M", 5) );
			if ((guildtime > 2259) && (guildrelay_q == 21) && (BaseJob == Job_Crusader)) {
				if ((.@time > 0201) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "ใช่แล้ว เจ้ามาได้";
					mes "ถูกเวลาพอดี จงจดจำ";
					mes "ความรู้สึกนั้นในใจไว้ และ";
					mes "เชื่อมั่นในมันเมื่อมันมาถึง";
					mes "อีกครั้ง ตอนนี้มอบวิญญาณดวงนี้ให้";
					mes "^FF0000Monk^000000 หรือ ^FF0000Champion^000000 แทนข้าที...";
					set guildrelay_q, 96;
					getitem 7250, 1; //Soul_Of_Glory
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "เร็วเกินไป";
					mes "ยังเร็วเกินไปนัก";
					mes "เจ้าได้ฟังเสียงหัวใจ";
					mes "ของเจ้าบ้างหรือเปล่า? ฟังให้ดีกว่านี้";
					close;
				}
			}
			if ((guildtime > 2159) && (guildrelay_q == 21) && (BaseJob == Job_Crusader)) {
				if ((.@time > 0101) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "ใช่แล้ว เจ้ามาได้";
					mes "ถูกเวลาพอดี จงจดจำ";
					mes "ความรู้สึกนั้นในใจไว้ และ";
					mes "เชื่อมั่นในมันเมื่อมันมาถึง";
					mes "อีกครั้ง ตอนนี้มอบวิญญาณดวงนี้ให้";
					mes "^FF0000Monk^000000 หรือ ^FF0000Champion^000000 แทนข้าที...";
					set guildrelay_q, 96;
					getitem 7250, 1; //Soul_Of_Glory
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "เร็วเกินไป";
					mes "ยังเร็วเกินไปนัก";
					mes "เจ้าได้ฟังเสียงหัวใจ";
					mes "ของเจ้าบ้างหรือเปล่า? ฟังให้ดีกว่านี้";
					close;
				}
			}
			if ((guildtime > 2059) && (guildrelay_q == 21) && (BaseJob == Job_Crusader)) {
				if ((.@time > 0001) && (.@time < guildtime)) {
					mes "[" + .@name$ + "]";
					mes "ใช่แล้ว เจ้ามาได้";
					mes "ถูกเวลาพอดี จงจดจำ";
					mes "ความรู้สึกนั้นในใจไว้ และ";
					mes "เชื่อมั่นในมันเมื่อมันมาถึง";
					mes "อีกครั้ง ตอนนี้มอบวิญญาณดวงนี้ให้";
					mes "^FF0000Monk^000000 หรือ ^FF0000Champion^000000 แทนข้าที...";
					set guildrelay_q, 96;
					getitem 7250, 1; //Soul_Of_Glory
					close;
				}
				else {
					mes "[" + .@name$ + "]";
					mes "เร็วเกินไป";
					mes "ยังเร็วเกินไปนัก";
					mes "เจ้าได้ฟังเสียงหัวใจ";
					mes "ของเจ้าบ้างหรือเปล่า? ฟังให้ดีกว่านี้";
					close;
				}
			}
			if ((.@time - guildtime > 0300) && (guildrelay_q == 21) && (BaseJob == Job_Crusader)) {
				mes "[" + .@name$ + "]";
				mes "ใช่แล้ว เจ้ามาได้";
				mes "ถูกเวลาพอดี จงจดจำ";
				mes "ความรู้สึกนั้นในใจไว้ และ";
				mes "เชื่อมั่นในมันเมื่อมันมาถึง";
				mes "อีกครั้ง ตอนนี้มอบวิญญาณดวงนี้ให้";
				mes "^FF0000Monk^000000 หรือ ^FF0000Champion^000000 แทนข้าที...";
				set guildrelay_q, 96;
				getitem 7250, 1; //Soul_Of_Glory
				close;
			}
			if ((guildrelay_q == 21) && (BaseJob == Job_Crusader)) {
				mes "[" + .@name$ + "]";
				mes "ยังไม่ถึงเวลา รอก่อน";
				mes "อีกสักนิด ทำตัวตามสบาย";
				mes "แล้วค่อยกลับมาใหม่";
				close;
			}
			if ((BaseJob == Job_Monk) && (countitem(7250) > 0)) {
				mes "[" + .@name$ + "]";
				mes "ดวงวิญญาณส่วนใหญ่ได้";
				mes "ถูกแบ่งปันไปแล้ว และมีเพียง";
				mes "สิ่งเดียวที่ข้าจะขอให้เจ้าทำ";
				mes "โปรดนำไอเทมบางอย่างมาให้ข้า";
				mes "เจ้าสามารถให้เพื่อนๆ ของเจ้า";
				mes "ช่วยจัดการเรื่องนี้ได้";
				next;
				switch(rand(1,3)) {
				case 1:
					mes "[" + .@name$ + "]";
					mes "โปรดนำ";
					mes "^FF000030 Dokebi Horns^000000,";
					mes "^FF000030 Fish Tails^000000, และ";
					mes "^FF000030 Celestial Robes^000000";
					mes "ข้าจะรอเจ้าอยู่ที่นี่";
					delitem 7250, 1; //Soul_Of_Glory
					set guildrelay_q, 23;
					close;
				case 2:
					mes "[" + .@name$ + "]";
					mes "โปรดนำ";
					mes "^FF000030 Rainbow Shells^000000,";
					mes "^FF000030 Elastic Bands^000000, และ";
					mes "^FF000030 Horrendous Hairs^000000";
					mes "ข้าจะรอเจ้าอยู่ที่นี่";
					delitem 7250, 1; //Soul_Of_Glory
					set guildrelay_q, 24;
					close;
				case 3:
					mes "[" + .@name$ + "]";
					mes "โปรดนำ";
					mes "^FF000030 Worn-out Kimonos^000000,";
					mes "^FF000030 Anolian Skins^000000, และ";
					mes "^FF000030 PecoPeco Feathers^000000";
					mes "ข้าจะรอเจ้าอยู่ที่นี่";
					delitem 7250, 1; //Soul_Of_Glory
					set guildrelay_q, 94;
					close;
				}
			}
			if ((countitem(7165) > 29) && (countitem(1021) > 29) && (countitem(1023) > 29) && (guildrelay_q == 23)) {
				mes "[" + .@name$ + "]";
				mes "ดี ดีมาก เจ้า";
				mes "รวบรวมไอเทมเหล่านั้นมา";
				mes "ได้เร็วกว่าที่ข้าคิดเอาไว้เสียอีก";
				mes "ทำได้ดีมาก ตอนนี้ โปรดมอบ";
				mes "สิ่งนี้ให้แก่ ^FF0000Guild Master^000000";
				mes "ของเจ้าโดยเร็วที่สุดเท่าที่ทำได้";
				delitem 7165, 30; //Limpid_Celestial_Robe
				delitem 1021, 30; //Dokkaebi_Horn
				delitem 1023, 30; //Fish_Tail
				set guildrelay_q, 97;
				getitem 7251, 1; //Soul_Of_Victory
				close;
			}
			if ((BaseJob == Job_Monk) && (guildrelay_q == 23)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าต้องส่ง ^FF0000Transparent Celestial Robe ^00000030 ชิ้น,";
				mes "^FF0000Dokebi Horn ^00000030 ชิ้น, ^FF0000Fish Tail ^00000030 ชิ้น";
				mes "เจ้ารู้เรื่องนั้นแล้วใช่ไหม?";
				mes "โชคดีนะ~";
				close;
			}
			if ((countitem(1048) > 29) && (countitem(1013) > 29) && (countitem(7200) > 29) && (guildrelay_q == 24)) {
				mes "[" + .@name$ + "]";
				mes "ดี ดีมาก เจ้า";
				mes "รวบรวมไอเทมเหล่านั้นมา";
				mes "ได้เร็วกว่าที่ข้าคิดเอาไว้เสียอีก";
				mes "ทำได้ดีมาก ตอนนี้ โปรดมอบ";
				mes "สิ่งนี้ให้แก่ ^FF0000Guild Master^000000";
				mes "ของเจ้าโดยเร็วที่สุดเท่าที่ทำได้";
				delitem 1048, 30; //Slender_Snake
				delitem 1013, 30; //Colorful_Shell
				delitem 7200, 30; //Flexible_String
				set guildrelay_q, 97;
				getitem 7251, 1; //Soul_Of_Victory
				close;
			}
			if ((BaseJob == Job_Monk) && (guildrelay_q == 24)) {
				mes "[" + .@name$ + "]";
				mes "โปรดนำ";
				mes "^FF000030 Rainbow Shells^000000,";
				mes "^FF000030 Elastic Bands^000000, และ";
				mes "^FF000030 Horrendous Hairs^000000";
				mes "ข้าจะรอเจ้าอยู่ที่นี่";
				close;
			}
			if ((countitem(7003) > 29) && (countitem(7101) > 29) && (countitem(7153) > 29) && (guildrelay_q == 94)) {
				mes "[" + .@name$ + "]";
				mes "ดี ดีมาก เจ้า";
				mes "รวบรวมไอเทมเหล่านั้นมา";
				mes "ได้เร็วกว่าที่ข้าคิดเอาไว้เสียอีก";
				mes "ทำได้ดีมาก ตอนนี้ โปรดมอบ";
				mes "สิ่งนี้ให้แก่ ^FF0000Guild Master^000000";
				mes "ของเจ้าโดยเร็วที่สุดเท่าที่ทำได้";
				delitem 7003, 30; //Anolian_Skin
				delitem 7101, 30; //Peco_Wing_Feather
				delitem 7153, 30; //Old_Japaness_Clothes
				set guildrelay_q, 97;
				getitem 7251, 1; //Soul_Of_Victory
				close;
			}
			if ((BaseJob == Job_Monk) && (guildrelay_q == 94)) {
				mes "[" + .@name$ + "]";
				mes "โปรดนำ";
				mes "^FF000030 Worn-out Kimonos^000000,";
				mes "^FF000030 Anolian Skins^000000, และ";
				mes "^FF000030 PecoPeco Feathers^000000";
				mes "ข้าจะรอเจ้าอยู่ที่นี่";
				close;
			}
			if ((guildrelay_q == 95) && (countitem(7247) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โปรดมอบ";
				mes "Spirit of Determination";
				mes "ให้กับ ^FF0000Priest^000000 หรือ ^FF0000High Priest^000000";
				mes "เจ้ารู้เรื่องนั้นอยู่แล้ว";
				mes "ใช่ไหม? โปรดรีบหน่อยและ";
				mes "นำไปส่งให้ในเร็ววัน";
				close;
			}
			if (guildrelay_q == 95) {
				mes "[" + .@name$ + "]";
				mes "สำหรับตอนนี้ มันจะดีที่สุด";
				mes "หากเจ้าจะได้พักผ่อนและ";
				mes "ฟื้นฟูกำลังของเจ้า โอกาสที่";
				mes "เจ้าจะได้ช่วยกิลด์ของเจ้านั้น";
				mes "จะมาถึงในไม่ช้า ดังนั้น";
				mes "ไม่มีความจำเป็นต้องรีบร้อน";
				close;
			}
			if ((guildrelay_q == 98) && (countitem(7249) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โปรดมอบ";
				mes "Spirit of Service ให้กับ";
				mes "^FF0000Crusader^000000 หรือ ^FF0000Paladin^000000";
				mes "เจ้ารู้เรื่องนั้นอยู่แล้ว";
				mes "ใช่ไหม? โปรดรีบหน่อยและ";
				mes "นำไปส่งให้ในเร็ววัน";
				close;
			}
			if (guildrelay_q == 98) {
				mes "[" + .@name$ + "]";
				mes "หืม เจ้าจำเป็นต้องรอ";
				mes "เวลาที่เหมาะสมเพื่อเริ่มเคลื่อนไหว";
				mes "ทำไมไม่ลองไปช่วยงาน";
				mes "กิลด์ของเจ้าดูในระหว่างนี้ล่ะ?";
				close;
			}
			if ((guildrelay_q == 96) && (countitem(7250) > 0)) {
				mes "[" + .@name$ + "]";
				mes "โปรดมอบ";
				mes "Spirit of Glory ให้กับ";
				mes "^FF0000Monk^000000 หรือ ^FF0000Champion^000000";
				mes "เจู้รู้เรื่องนั้นอยู่แล้ว";
				mes "ใช่ไหม? โปรดรีบหน่อยและ";
				mes "นำไปส่งให้ในเร็ววัน";
				close;
			}
			if (guildrelay_q == 96) {
				mes "[" + .@name$ + "]";
				mes "ข้าเห็นว่าเจ้ามี";
				mes "ศักยภาพที่จะกลายเป็น";
				mes "ผู้นำที่ยิ่งใหญ่ได้ จงอย่า";
				mes "ปล่อยให้มันสูญเปล่า และนำ";
				mes "กิลด์ของเจ้าให้ดีที่สุดเท่าที่ทำได้";
				close;
			}
			if ((guildrelay_q == 97) && (countitem(7251) > 0)) {
				mes "[" + .@name$ + "]";
				mes "เจ้าต้องมอบ";
				mes "^FF0000Spirit of Victory^000000";
				mes "ให้กับ Guild Master ของเจ้า";
				mes "โปรดตรวจสอบให้แน่ใจว่ามัน";
				mes "จะถูกนำไปส่งในเร็วๆ นี้";
				close;
			}
			if (guildrelay_q == 97) {
				mes "[" + .@name$ + "]";
				mes "เจ้าคือนักสำรวจผู้มีชื่อเสียง";
				mes "และข้าเห็นศักยภาพในตัวเจ้า";
				mes "ที่จะประสบความสำเร็จในสิ่งที่";
				mes "ยิ่งใหญ่กว่านี้ได้ อย่างไรก็ตาม";
				mes "ข้าสงสัยว่าคงไม่มีอะไรที่เจ้า";
				mes "สามารถทำได้ที่นี่อีกแล้ว";
				close;
			}
			mes "[" + .@name$ + "]";
			mes "หืม เจ้าไม่มีธุระปะปัง";
			mes "อะไรที่นี่ ทำไมไม่ลอง";
			mes "หาอะไรที่มีประโยชน์ทำดูเล่า?";
			mes "ข้าขอยืนยันว่า ไม่มีอะไร";
			mes "สำหรับเจ้าที่นี่หรอก";
			close;
		}
	}
	else {
		if (is_guild_leader(.@GID) == true) {
			mes "[" + .@name$ + "]";
			mes "ท่านอาจจะเป็นเจ้าของ";
			mes "กิลด์สักแห่งหนึ่ง แต่ท่านและข้า";
			mes "ไม่มีความเกี่ยวข้องใดๆ ต่อกัน";
			mes "ข้าต้องขออภัยด้วย";
			next;
			mes "[" + .@name$ + "]";
			mes "แต่จะว่าไป ข้าเดาว่า";
			mes "ท่านมาที่นี่เพื่อดูว่า";
			mes "กิลด์ที่แท้จริงเขาทำงานกันอย่างไร";
			mes "หากเป็นเช่นนั้น ท่านก็";
			mes "ยินดีที่จะอยู่และสังเกตการณ์ได้";
			close;
		}
		else {
			mes "[" + .@name$ + "]";
			mes ".........................";
			next;
			mes "[" + .@name$ + "]";
			mes ".........................";
			next;
			mes "[" + .@name$ + "]";
			mes "อะไรพาเจ้ามาที่นี่?";
			mes "ข้าไม่คิดว่าข้าเคยเห็น";
			mes "เจ้าแถวนี้มาก่อนเลยนะ หืม";
			close;
		}
	}
}

// Luina 1
//============================================================
aldeg_cas01,51,102,5	duplicate(GuildRelay1)	Buzz#01	754
aldeg_cas01,75,39,3	duplicate(GuildRelay2)	Lenya#01	754
aldeg_cas01,200,175,3	duplicate(GuildRelay3)	Gealuve#01	754
aldeg_cas01,59,224,3	duplicate(GuildRelay4)	Pariz#01	754

// Luina 2
//============================================================
aldeg_cas02,120,51,5	duplicate(GuildRelay1)	Buzz#02	754
aldeg_cas02,180,184,3	duplicate(GuildRelay2)	Lenya#02	754
aldeg_cas02,62,65,3	duplicate(GuildRelay3)	Gealuve#02	754
aldeg_cas02,62,201,3	duplicate(GuildRelay4)	Pariz#02	754

// Luina 3
//============================================================
aldeg_cas03,70,252,5	duplicate(GuildRelay1)	Buzz#03	754
aldeg_cas03,72,115,3	duplicate(GuildRelay2)	Lenya#03	754
aldeg_cas03,114,119,3	duplicate(GuildRelay3)	Gealuve#03	754
aldeg_cas03,188,181,3	duplicate(GuildRelay4)	Pariz#03	754

// Luina 4
//============================================================
aldeg_cas04,31,116,5	duplicate(GuildRelay1)	Buzz#04	754
aldeg_cas04,66,117,3	duplicate(GuildRelay2)	Lenya#04	754
aldeg_cas04,24,80,3	duplicate(GuildRelay3)	Gealuve#04	754
aldeg_cas04,181,97,3	duplicate(GuildRelay4)	Pariz#04	754

// Luina 5
//============================================================
aldeg_cas05,31,191,5	duplicate(GuildRelay1)	Buzz#05	754
aldeg_cas05,140,196,3	duplicate(GuildRelay2)	Lenya#05	754
aldeg_cas05,148,224,3	duplicate(GuildRelay3)	Gealuve#05	754
aldeg_cas05,165,51,3	duplicate(GuildRelay4)	Pariz#05	754

// Britoniah 1
//============================================================
gefg_cas01,85,47,4	duplicate(GuildRelay1)	Jody#01	754
gefg_cas01,67,83,3	duplicate(GuildRelay2)	Ron Haware#01	754
gefg_cas01,184,40,3	duplicate(GuildRelay3)	Vers#01	754
gefg_cas01,35,34,6	duplicate(GuildRelay4)	Gen Garish#01	754

// Britoniah 2
//============================================================
gefg_cas02,15,69,4	duplicate(GuildRelay1)	Jody#02	754
gefg_cas02,23,22,3	duplicate(GuildRelay2)	Ron Haware#02	754
gefg_cas02,178,38,3	duplicate(GuildRelay3)	Vers#02	754
gefg_cas02,18,159,5	duplicate(GuildRelay4)	Gen Garish#02	754

// Britoniah 3
//============================================================
gefg_cas03,257,41,4	duplicate(GuildRelay1)	Jody#03	754
gefg_cas03,110,91,3	duplicate(GuildRelay2)	Ron Haware#03	754
gefg_cas03,158,57,3	duplicate(GuildRelay3)	Vers#03	754
gefg_cas03,124,24,3	duplicate(GuildRelay4)	Gen Garish#03	754

// Britoniah 4
//============================================================
gefg_cas04,26,73,4	duplicate(GuildRelay1)	Jody#04	754
gefg_cas04,34,16,1	duplicate(GuildRelay2)	Ron Haware#04	754
gefg_cas04,55,70,5	duplicate(GuildRelay3)	Vers#04	754
gefg_cas04,73,38,6	duplicate(GuildRelay4)	Gen Garish#04	754

// Britoniah 5
//============================================================
gefg_cas05,47,47,4	duplicate(GuildRelay1)	Jody#05	754
gefg_cas05,65,28,3	duplicate(GuildRelay2)	Ron Haware#05	754
gefg_cas05,87,31,3	duplicate(GuildRelay3)	Vers#05	754
gefg_cas05,46,28,3	duplicate(GuildRelay4)	Gen Garish#05	754

// Greenwood Lake 1
//============================================================
payg_cas01,87,35,3	duplicate(GuildRelay1)	Chungye#01	106
payg_cas01,129,29,3	duplicate(GuildRelay2)	Dosuhlji#01	754
payg_cas01,13,146,5	duplicate(GuildRelay3)	Yayula#01	741
payg_cas01,91,49,3	duplicate(GuildRelay4)	Ashin#01	59

// Greenwood Lake 2
//============================================================
payg_cas02,34,253,3	duplicate(GuildRelay1)	Chungye#02	106
payg_cas02,77,229,3	duplicate(GuildRelay2)	Dosuhlji#02	754
payg_cas02,252,287,3	duplicate(GuildRelay3)	Yayula#02	741
payg_cas02,289,264,3	duplicate(GuildRelay4)	Ashin#02	59

// Greenwood Lake 3
//============================================================
payg_cas03,48,265,3	duplicate(GuildRelay1)	Chungye#03	106
payg_cas03,7,265,5	duplicate(GuildRelay2)	Dosuhlji#03	754
payg_cas03,16,16,5	duplicate(GuildRelay3)	Yayula#03	741
payg_cas03,10,266,3	duplicate(GuildRelay4)	Ashin#03	59

// Greenwood Lake 4
//============================================================
payg_cas04,24,285,3	duplicate(GuildRelay1)	Chungye#04	106
payg_cas04,21,16,3	duplicate(GuildRelay2)	Dosuhlji#04	754
payg_cas04,69,270,3	duplicate(GuildRelay3)	Yayula#04	741
payg_cas04,18,239,3	duplicate(GuildRelay4)	Ashin#04	59

// Greenwood Lake 5
//============================================================
payg_cas05,277,271,3	duplicate(GuildRelay1)	Chungye#05	106
payg_cas05,273,15,3	duplicate(GuildRelay2)	Dosuhlji#05	754
payg_cas05,283,24,3	duplicate(GuildRelay3)	Yayula#05	741
payg_cas05,276,287,3	duplicate(GuildRelay4)	Ashin#05	59

// Valkyrie Realms 1
//============================================================
prtg_cas01,96,205,5	duplicate(GuildRelay1)	Hermod#01	754
prtg_cas01,157,117,3	duplicate(GuildRelay2)	Atila#01	728
prtg_cas01,149,78,3	duplicate(GuildRelay3)	Cecil#01	92
prtg_cas01,125,191,3	duplicate(GuildRelay4)	Diligo#01	754

// Valkyrie Realms 2
//============================================================
prtg_cas02,73,35,5	duplicate(GuildRelay1)	Hermod#02	754
prtg_cas02,43,41,5	duplicate(GuildRelay2)	Atila#02	728
prtg_cas02,52,63,3	duplicate(GuildRelay3)	Cecil#02	92
prtg_cas02,100,62,3	duplicate(GuildRelay4)	Diligo#02	754

// Valkyrie Realms 3
//============================================================
prtg_cas03,5,68,5	duplicate(GuildRelay1)	Hermod#03	754
prtg_cas03,18,109,3	duplicate(GuildRelay2)	Atila#03	728
prtg_cas03,71,81,5	duplicate(GuildRelay3)	Cecil#03	92
prtg_cas03,183,215,3	duplicate(GuildRelay4)	Diligo#03	754

// Valkyrie Realms 4
//============================================================
prtg_cas04,39,263,3	duplicate(GuildRelay1)	Hermod#04	754
prtg_cas04,259,251,3	duplicate(GuildRelay2)	Atila#04	728
prtg_cas04,6,281,5	duplicate(GuildRelay3)	Cecil#04	92
prtg_cas04,59,282,5	duplicate(GuildRelay4)	Diligo#04	754

// Valkyrie Realms 5
//============================================================
prtg_cas05,52,70,5	duplicate(GuildRelay1)	Hermod#05	754
prtg_cas05,253,91,3	duplicate(GuildRelay2)	Atila#05	728
prtg_cas05,276,93,3	duplicate(GuildRelay3)	Cecil#05	92
prtg_cas05,211,36,3	duplicate(GuildRelay4)	Diligo#05	754
