//===== rAthena Script ======================================= 
//= Kiel Hyre Quest
//===== By: ================================================== 
//= L0ne_W0lf (Script), DZeroX (Timer)
//===== Current Version: ===================================== 
//= 4.7
//===== Compatible With: ===================================== 
//= rAthena Project
//===== Description: ========================================= 
//= Quest for opening Robot Factory first and second floors.
//===== Additional Comments: ================================= 
//= 4.0 A whole bunch-a-updates to various npcs. [L0ne_W0lf]
//=     Corrected condition checks throughout the quest.
//=     Npcs no longer make use of the goto command.
//=     Uses temp npc vars now instead of temp char.
//=     Reduced the amount of variables used.
//=     Corrected some of the cutins in npcs with them.
//=     Added the missing dialogs and weight checks.
//=     Fixed many typos, and grammatical errors.
//=     NPC now names use '#<name>' instead of labels.
//=     Updated some NPC positions, and facings.
//=     Changed the way some NPCs work.
//=     Updated comments for get/delitem commands.
//= 4.1 Added an 'end;' to Kiel Hyre's dialog for the "Yes" option for if you want to confront Kiehl.
//= 4.2 Fixed some issues reported in bugreport:2129. [L0ne_W0lf]
//= 4.2a Follow up to last update. [L0ne_W0lf]
//= 4.2b Missed a condition, fixed it though. [L0ne_W0lf]
//= 4.2c More various fixes :D [L0ne_W0lf]
//= 4.3 Fixed improper condition in the Elly NPC. [L0ne_W0lf]
//=     Corrected some typos in the dialogs.
//= 4.4 Updated reviecer and robots NPC to use mobcount. (bugreport:2380) [L0ne_W0lf]
//= 4.5 Removed a delitem that was no logner needed. [L0en_W0lf]
//= 4.6 Fixed impossible condition for security guard. [L0ne_W0lf]
//= 4.7 Updated RE/Pre-RE EXP. [Euphy]
//============================================================ 

//============================================================================
// Kiel Hyre Quest/Robotic Lab Dungeon
//
// Script Dialog Obtained and Copied Down by L0ne_W0lf
// Timer work and some variable dances by DZeroX
// Based on [iRO Sakray] as of [03/29/2007]
//============================================================================
//----------------------------------------------------------------------------
// [Notes]
//  - Let it be noted that ALL DIALOG IS OFFICIAL TO IRO UNLESS SPECIFIED.
//  - I've fixed a few of iRO's mistakes, but I'm sure I made some of my own. 
//  - Will probably require a major optimizing.
//  - Not going to list ALL of the more usless NPCs. (Doors + Empty "Beautiful Ladies")
//  - Parties are *NOT REQUIRED* as per Doddler's Wiki information.
//
//----------------------------------------------------------------------------
// [Maps]                [Use]
//  yuno_in01 ........... Start quest in pub
//  kh_school ........... Deliver Wine here, Meet Elly
//  yuno ................ Get Delivery for/from "Little Kid"
//  lighthalzen ......... Get Delivery package for "Little Kid"
//  kh_vila ............. Kiel Hyre cottage.
//  kh_dun01 ............ Robot Factory; Save Kiel Hyre
//  kh_mansion .......... Kiel Hyre's Mansion in Lighthalzen
//  kh_kiehl01 .......... Kiehl's room/Cave
//  kh_kiehl02 .......... Kiehl's room/Boss Room
//
//----------------------------------------------------------------------------
// [Variables in Use]
//  KielHyreQuest 	- Main quest tracking variable (Quest finished at 106)
//
//  KHToastGirlEnd	- Pick up delivery if set to 1, 
//			- picked up delivery if set to 2
//			- finished if set to 3 
//			- Deleted once no longer needed.
//
//  KHCottagePoem1	- Tracks Poem 1 quest in cottage. (finished = 5)
//			- Deleted once no longer needed.
//
//  KHCottagePoem2	- Tracks Poem 2 quest in cottage. (finished = 3)
//			- Deleted once no longer needed.
//
//  .@KHInput$		- Used with "Security Guard"
//  			- Used with "Test Tube"
//  			- Used when "Elly" (inputing string in attempt to wake her)
//  			- Used with "Grave", (twice)
//  			- Used with "Heavy Door"
//  			- Used with "Mechanical Device"
//  			- Used for opening various doors in Kiehl's area.
//
//  .@KHFirstKeyhole	- Holds 1 (green keycard) or 2 (cottage key)
//  .@KHSecondKeyhole	- Holds 1 (green keycard) or 2 (cottage key)
//
//  .@KHPotionColor$	- Holds 'red', 'green', or 'yellow' depending on what wrong potion is selected.
//
//  .@KHSwords 		- Used with "Sword Hilt"
//
//  .@KHQRead		- Make sure player has asked questions to Kiel Hyre
//
//  .@KHTitle$		- Holds "Mr", "Mrs", or "Miss"
//
//  .@KHDoorPushAttempt	- Keeps track of how many times a person has attmepted to push the door open.
//
//  .@KHPryingItem$	- Used for incorrect options when prying open last door.
//
//  .KHKilled		- Tracks how many monsters have been killed. Used with "Receiver", "Robots", and "Kiehl" NPCs
//
//  .KHDoor1Open	- 0/1 Depending on if the first door is opened.
//  .KHDoor2Open	- 0/1 Depending on if the second door is opened.
//  .KHDoor3Open	- 0/1 Depending on if the third door is opened.
//  .KHDoor4Open	- 0/1 Depending on if the fourth door is opened.
//  .KHDoor5Open	- 0/1 Depending on if the fifth door is opened.
//
//  .KHKilledBoss	- 0/1 depending on if the boss has been killed.
//
//  $@KHQuestBusy	- 0/1 depending on if the boss room has been set in motion.
//
//----------------------------------------------------------------------------
// [NPCs]			 [Location]
//  Pub Master .................. yuno_in01	[ 35,178]
//  Hanie ....................... yuno_fild08	[196,196]
//  Security Guard .............. yuno_fild08	[158,194]
//  Security Guard .............. yuno_fild08	[158,183]
//  Student ..................... kh_school	[ 57,142]
//  Student ..................... kh_school	[ 57,139]
//  Lady ........................ kh_school	[176, 60]
//  Cute Student ................ kh_school	[179, 39]
//  Little Kid .................. yuno		[217,114]
//  Windmill Owner .............. lighthalzen	[365,300]
//  Cottage Keeper .............. yuno_fild02	[ 93,210]
//  Door ........................ yuno_fild02	[ 75,218]
//  Door ........................ yuno_fild02	[109,218]
//  Wall ........................ kh_vila	[191, 14]
//  Book ........................ kh_vila	[184, 20]
//  Book ........................ kh_vila	[181, 20]
//  Book ........................ kh_vila	[178, 20]
//  Book ........................ kh_vila	[175, 19]
//  Letter ...................... kh_vila	[179, 11]
//  Box ......................... kh_vila	[ 16,175]
//  Apple Box ................... kh_vila	[ 30,184]
//  Map ......................... kh_vila	[ 44,125]
//  Pot ......................... kh_vila	[ 33,148]
//  Calabash .................... kh_vila	[ 14, 55]
//  Pool ........................ kh_vila	[ 39, 39]
//  Vicious Dog ................. kh_vila 	[180,178]
//  Drawer ...................... kh_vila 	[115,186]
//  Box ......................... kh_vila 	[107,126]
//  Bookshelf ................... kh_vila 	[181,138]
//  Sword Hilt .................. kh_vila 	[136, 69]
//  Test Tube ................... kh_vila	[179, 69]
//  Test Tube ................... kh_vila	[185, 69]
//  Window ...................... yuno_fild08	[ 69,185]
//  Elly ........................ kh_school	[178,180]
//  Cookie Basket ............... kh_school	[175,175]
//  Window ...................... kh_school	[188,185]
//  Grave ....................... yuno_fild08	[ 72,170]
//  Heavy Door .................. kh_dun01	[236, 48]
//  Beautiful lady .............. kh_school	[119,149]
//  Beautiful lady .............. kh_school	[122,186]
//  Signboard ................... kh_dun01	[163,223]
//  Mechanical Device ........... kh_dun01	[166,223]
//  Mechanical Device ........... kh_dun01	[162,206]
//  Kiel_Hyre_Door .............. kh_dun01	[224,232]
//  Steward ..................... kh_mansion	[ 78, 55]
//  Kiel Hyre ................... kh_mansion	[ 22, 27]
//  Allysia ..................... kh_mansion	[ 22, 27]
//  Abduction_trigger ........... lighthalzen	[188,200]
//  Mysterious Woman ............ kh_mansion	[ 25, 79]
//  Odd Granma .................. yuno		[250,132]
//  Old Lady .................... yuno 		[250,132]
//  Rosimmir_Entrance ........... yuno		[273,141]
//  Table ....................... kh_rossi	[ 23, 23]
//  Shelf ....................... kh_rossi	[ 92, 40]
//  Desk ........................ kh_rossi	[144,146]
//  Bookshelf ................... kh_rossi	[144,146]
//  Bed ......................... kh_rossi	[154,286]
//  Old Fisherman ............... yuno_fild12	[232,222]
//  Wooden Board ................ yuno_fild09	[158,217]
//  Kiehl_Room_Warp ............. kh_mansion	[ 29, 27]
//  Entrance Device#KHEntry1 .... kh_dun01	[ 44, 20]
//  Entrance Device#KHEntry2 .... kh_dun01	[ 44,203]
//  Security Guard .............. yuno_fild08	[158,194]
//  Receiver .................... kh_kiehl01	[ 17, 39]
//  Flower Vase ................. kh_kiehl01	[ 13, 40]
//  Box ......................... kh_kiehl01	[ 19, 25]
//  Big Door .................... kh_kiehl01	[ 44, 33]
//  Big_Door_1_Warp ............. kh_kiehl01	[ 43, 33]
//  Big Door .................... kh_kiehl01	[174, 40]
//  Big_Door_2_Warp ............. kh_kiehl01	[174, 39]
//  Big Door .................... kh_kiehl01	[ 77,108]
//  Big_Door_3_Warp ............. kh_kiehl01	[ 68,108]
//  Big Door .................... kh_kiehl01	[ 41,177]
//  Big_Door_4_Warp ............. kh_kiehl01	[ 78,177]
//  Robots ...................... kh_kiehl01	[ 15,181]
//  Big Door .................... kh_kiehl01	[166,187]
//  Big_Door_5_Warp ............. kh_kiehl01	[166,186]
//  Kiehl_Room_Trap ............. kh_kiehl02	[ 49, 15]
//  Kiehl#Original .............. kh_kiehl02	[ 50, 52]
//  KiehlRoom ................... kh_kiehl02	[  1,  1]
//  Mitchell#KiehlRoom .......... kh_kiehl02	[ 49, 55]
//  Agent#KHAgent1 ....   ....... kh_kiehl02	[ 53, 52]
//  Agent#KHAgent2 .............. kh_kiehl02	[ 51, 49]
//  Agent#KHAgent3 .............. kh_kiehl02	[ 47, 50]
//  Agent#KHAgent4 .............. kh_kiehl02	[ 46, 53]
//  Kiehl#Copy .................. kh_kiehl02	[ 48, 53]
//  Kiehl_Roomn_Exit ............ kh_kiehl01	[ 50, 59]
//
//----------------------------------------------------------------------------
// [Functions]
//  None
//
//----------------------------------------------------------------------------
// [Conflicts]
//   Resolved
//
//============================================================================

//============================================================================
// Affiliated NPCs
//============================================================================

//----------------------------------------------------------------------------
// Juno Pub Master/Starting point.
//----------------------------------------------------------------------------
yuno_in01,35,179,4	script	Pub Master#kh	46,5,5,{
	if (checkweight(7487,1) == 0) {
		mes "[Vandt]";
		mes "เดี๋ยวก่อน! ตอนนี้คุณ";
		mes "แบกของหนักเกินไปแล้ว";
		mes "คุณควรจะเอาของไปฝากไว้";
		mes "ในคลังของ Kafra ก่อนนะ";
		mes "ไม่อย่างนั้นคุณจะไม่สามารถ";
		mes "หยิบของชิ้นใหม่ได้เลย...";
		close;
	}
	if (KielHyreQuest == 0) {
		mes "[Vandt]";
		mes "สวัสดี ยินดีต้อนรับ";
		mes "สู่ผับของผม ไม่ทราบว่า";
		mes "คุณต้องการรับอะไรดีครับ?";
		next;
		switch(select("ขอเบียร์หน่อยครับ/ค่ะ.","ขอค็อกเทลครับ/ค่ะ.","ขอโซจูครับ/ค่ะ.","ไว้คราวหน้าละกัน.")) {
		case 1:
			mes "[Vandt]";
			mes "ได้เลย เดี๋ยวผมจะริน";
			mes "เบียร์สดจากถังให้คุณแก้วนึง";
			mes "นี่ครับ นี่คือเบียร์";
			mes "Schwaltz สูตรพิเศษของเรา";
			next;
			mes "^3355FF*อึก อึก อึก*^000000";
			percentheal 5,-5;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "อาาา มันยอดเยี่ยม";
			mes "จริงๆ! รสชาติมัน";
			mes "ถึงใจสุดๆ ไปเลย!";
			close;
		case 2:
			mes "[Vandt]";
			mes "ขอโทษด้วยนะครับ แต่ผมต้อง";
			mes "ส่งวัตถุดิบค็อกเทลทั้งหมด";
			mes "ไปให้ลูกค้าคนอื่นน่ะ";
			mes "บางทีคราวหน้าผมอาจจะมีพอ";
			mes "ที่จะชงให้คุณได้นะ ตกลงไหม?";
			close;
		case 3:
			mes "[Vandt]";
			mes "โซ-โซจูเหรอ? ขอโทษด้วยนะ";
			mes "แต่เราไม่ได้เสิร์ฟเจ้าสิ่งนั้น";
			mes "ที่นี่หรอก มันเป็นเครื่องดื่ม";
			mes "สำหรับพวกขาโหดเกินไปสำหรับผม...";
			close;
		case 4:
			mes "[Vandt]";
			mes "ได้เลย ตามสบายนะ";
			mes "พักผ่อนให้เต็มที่ แล้วค่อย";
			mes "สั่งอะไรเมื่อคุณพร้อมละกัน";
			close;
		}
	}
	if (KielHyreQuest == 1) {
		mes "[Vandt]";
		mes "สวัสดี ยินดีต้อนรับ";
		mes "สู่ผับของผม ไม่ทราบว่า";
		mes "คุณต้องการรับอะไรดีครับ?";
		next;
		switch(select("ขอเบียร์หน่อย:ขอค็อกเทลหน่อย:ขอโซจูหน่อย:คุณดูเหมือนมีเรื่องกลุ้มใจ มีอะไรหรือเปล่า?:ยกเลิก")) {
		case 1:
			mes "[Vandt]";
			mes "ได้เลย เดี๋ยวผมจะริน";
			mes "เบียร์สดจากถังให้คุณแก้วนึง";
			mes "นี่ครับ นี่คือเบียร์";
			mes "Schwaltz สูตรพิเศษของเรา";
			next;
			mes "^3355FF*อึก อึก อึก*^000000";
			percentheal 5,-5;
			next;
			mes "["+strcharinfo(0)+"]";
			mes "อาาา มันยอดเยี่ยม";
			mes "จริงๆ! รสชาติมัน";
			mes "ถึงใจสุดๆ ไปเลย!";
			close;
		case 2:
			mes "[Vandt]";
			mes "ขอโทษด้วยนะครับ แต่ผมต้อง";
			mes "ส่งวัตถุดิบค็อกเทลทั้งหมด";
			mes "ไปให้ลูกค้าคนอื่นน่ะ";
			mes "บางทีคราวหน้าผมอาจจะมีพอ";
			mes "ที่จะชงให้คุณได้นะ ตกลงไหม?";
			close;
		case 3:
			mes "[Vandt]";
			mes "โซ-โซจูเหรอ? ขอโทษด้วยนะ";
			mes "แต่เราไม่ได้เสิร์ฟเจ้าสิ่งนั้น";
			mes "ที่นี่หรอก มันเป็นเครื่องดื่ม";
			mes "สำหรับพวกขาโหดเกินไปสำหรับผม...";
			close;
		case 4:
			mes "[Vandt]";
			mes "โอ้ นี่คุณแอบได้ยินงั้นเหรอ?";
			mes "ผมขอโทษที พอดีลูกจ้างของผม";
			mes "คนหนึ่งประสบอุบัติเหตุและ";
			mes "บาดเจ็บค่อนข้างหนักเลยล่ะ";
			mes "ผมเลยไม่มีใครที่จะสามารถ";
			mes "ไปส่งสินค้าพวกนี้ได้เลย";
			next;
			mes "[Vandt]";
			mes "ผมมีออเดอร์เร่งด่วน";
			mes "ที่ต้องส่งไปที่";
			mes "Kiel Hyre Academy";
			mes "แต่ผมยังหาใครที่ว่างพอ";
			mes "จะทำงานชั่วคราวแบบนี้ไม่ได้เลย";
			next;
			switch(select("เสียใจด้วยที่ได้ยินแบบนั้นนะ:อยากให้ผม/ฉัน ช่วยอะไรไหม?")) {
			case 1:
				mes "[Vandt]";
				mes "อืม ผมมั่นใจว่าเดี๋ยวผม";
				mes "คงจะหาทางออกได้เองแหละ";
				mes "คุณพอจะรู้จักใครที่";
				mes "สนใจงานพาร์ทไทม์";
				mes "บ้างไหมล่ะ?";
				close;
			case 2:
				mes "[Vandt]";
				mes "จริงเหรอ? เยี่ยมไปเลย!";
				mes "แต่ก่อนอื่น ผมคิดว่าควรจะ";
				mes "บอกคุณตามตรงว่างานนี้อาจจะ";
				mes "ไม่ได้ง่ายอย่างที่คุณคิดนะ";
				mes "ผมหวังว่าคุณจะส่งของให้สำเร็จ";
				mes "ไม่ว่าจะเกิดอะไรขึ้นก็ตาม";
				next;
				switch(select("แน่นอน ผม/ฉัน จะทำเอง:เดี๋ยวสิ ขอคิดดูก่อน...")) {
				case 1:
					mes "[Vandt]";
					mes "ผมดีใจที่ได้ยินแบบนั้น";
					mes "ถ้าอย่างนั้น โปรดนำไวน์สำหรับ";
					mes "ทำอาหารขวดนี้ไปให้คุณนาย ^ff0000Lecollane^000000";
					mes "ที่ Kiel Hyre Academy นะ";
					mes "ผมจะจ่ายเงินให้คุณเมื่อคุณ";
					mes "ทำงานเสร็จเรียบร้อย ตกลงไหม?";
					getitem 7487,1; //Tavern_Wine
					set KielHyreQuest,2;
					close;
				case 2:
					mes "[Vandt]";
					mes "ได้เลย ผมจำเป็นต้องทำงานนี้";
					mes "ให้เสร็จจริงๆ ดังนั้นถ้าคุณทำไม่ได้";
					mes "แต่รู้จักใครที่พอจะมีความสามารถ";
					mes "และมีความรับผิดชอบบ้าง";
					mes "ก็ช่วยบอกพวกเขาเรื่องของผมด้วยนะ";
					close;
				}
			}
		case 5:
			mes "[Vandt]";
			mes "ได้เลย ตามสบายนะ";
			mes "พักผ่อนให้เต็มที่ แล้วค่อย";
			mes "สั่งอะไรเมื่อคุณพร้อมละกัน";
			close;
		}
	}
	else if ((KielHyreQuest >= 2) && (KielHyreQuest < 6)) {
		mes "[Vandt]";
		mes "โปรดนำไวน์ขวดที่ผมให้ไป";
		mes "ส่งให้คุณนาย ^ff0000Lecollane^000000";
		mes "ซึ่งน่าจะอยู่ที่ Kiel Hyre Academy นะ";
		mes "รีบไปส่งให้เธอ ก่อนที่เธอ";
		mes "จะบ่นเรื่องความล่าช้าล่ะ";
		close;
	}
	else if (KielHyreQuest == 6) {
		if (countitem(7487) == 0) {
			mes "[Vandt]";
			mes "โอ้ คุณกลับมาแล้ว";
			mes "ขอบคุณมากที่ไปส่งของให้";
			mes "ขอเวลาครู่เดียวนะ";
			mes "แล้วผมจะจ่ายเงินค่าจ้าง";
			mes "ให้คุณเป็น Zeny ตกลงไหม?";
			next;
			select("ฉันต้องการไวน์เพิ่ม...");
			mes "[Vandt]";
			mes "โอ้ คุณต้องไปส่งไวน์";
			mes "อีกขวดเหรอ? ได้เลย";
			mes "เดี๋ยวผมหาดูแถวนี้ก่อน";
			mes "แล้วผมจะให้ทั้งไวน์และ";
			mes "เงินค่าจ้างของคุณไปพร้อมกัน";
			next;
			mes "^3355FF*กุกกัก กุกกัก*^000000";
			mes "^3355FF*กุกกัก กุกกัก*^000000";
			next;
			mes "[Vandt]";
			mes "เรียบร้อย นี่ครับ!";
			mes "ขอบคุณมากจริงๆ";
			mes "ที่ช่วยผมเอาไว้~";
			getitem 7487,1; //Tavern_Wine
			set Zeny, Zeny+1000;
			close;
		}
		else {
			mes "[Vandt]";
			mes "เฮ้ ขอบคุณมากจริงๆ นะ";
			mes "ที่ช่วยผมในครั้งก่อน ผมรู้ว่า";
			mes "ผมขอให้ช่วยแบบกะทันหัน แต่";
			mes "คุณกลับกลายเป็นผู้ช่วยชีวิตผมเลย!";
			mes "ผมซาบซึ้งใจจริงๆ!";
			close;
		}
	}
	else {
		mes "[Vandt]";
		mes "คุณเป็นคนทำงานที่เก่งมาก";
		mes "รู้ตัวไหม? ทั้งพึ่งพาได้";
		mes "มีความรับผิดชอบ และเต็มใจ";
		mes "ช่วยเหลือผู้อื่น แถมยังมีไหวพริบ!";
		mes "ผมว่าคุณจะไปได้ไกลในชีวิตนะ";
		mes "พ่อหนุ่ม/แม่หนู ผมเชื่อแบบนั้นจริงๆ~";
		close;
	}

OnTouch:
	if (KielHyreQuest < 1) {
		mes "[Vandt]";
		mes "อ๊ากกกกกก...";
		mes "แบบนี้ไม่ดีแน่...";
		mes "แบบนี้ไม่ดีเลยจริงๆ!";
		mes "ผมควรจะทำยังไงดีล่ะเนี่ย?";
		set KielHyreQuest,1;
		close;
	}
}

//----------------------------------------------------------------------------
// Juno Toast Sales Girl.
//----------------------------------------------------------------------------
yuno,217,114,6	script	Little Kid#kh	96,{
	mes "[Cezu]";
	if (KielHyreQuest < 6) {
		mes "ขนมปังปิ้ง สดใหม่ กรุบกรอบ!";
		mes "ถ้าคุณต้องการ ก็มาหยิบไปได้เลย";
		mes "ขนมปังปิ้งจ้าาา~";
		close;
	}
	else if (KielHyreQuest == 6) {
		if (KHToastGirlEnd < 1) {
			mes "ขนมปังปิ้ง สดใหม่ กรุบกรอบ!";
			mes "ถ้าคุณต้องการ ก็มาหยิบไปได้เลย";
			mes "ขนมปังปิ้งจ้าาา~";
			mes "โอ๊ะ! หวัดดีจ้า~ สนใจ";
			mes "รับขนมปังปิ้งอร่อยๆ ไหมจ๊ะ?";
			next;
			switch(select("ฉันมาหา Elly น่ะ:ไม่ละ ขอบใจนะ")) {
			case 1:
				mes "[Cezu]";
				mes "อ๋อ เข้าใจแล้ว Elly คงจะ";
				mes "ทำวัตถุดิบชุดก่อนเสียเปล่า";
				mes "ไปอีกแล้วสินะ ก็นะ เธอ";
				mes "เป็นลูกค้าประจำของฉัน ฉันก็";
				mes "อยากช่วยนะ แต่ฉันทำอะไรไม่ได้เลย";
				next;
				mes "[Cezu]";
				mes "คุณดูสิ วัตถุดิบของฉัน";
				mes "ก็เพิ่งจะหมดเหมือนกัน!";
				mes "แต่ฉันปลีกตัวไปหาเพิ่มไม่ได้";
				mes "ถ้ามีคนมาซื้อขนมปังปิ้งล่ะ?";
				mes "นี่ ฟังนะ คุณช่วยฉันหน่อยได้ไหม?";
				next;
				mes "[Cezu]";
				mes "คุณช่วยไปหาแป้งสาลีกับไข่";
				mes "มาให้ฉันหน่อยได้ไหมจาก";
				mes "^3355FFLighthalzen Windmill^000000";
				mes "แล้วพอคุณกลับมา ฉันจะแบ่ง";
				mes "วัตถุดิบพวกนั้นให้คุณเอาไป";
				mes "ส่งให้ Elly เองจ้ะ";
				next;
				mes "[Cezu]";
				mes "ฉันรู้ว่าฉันเหมือนจะให้คุณ";
				mes "ทำทุกอย่างด้วยตัวเองเลยนะ";
				mes "แต่ช่วยเข้าใจหน่อยว่าฉันไปไหน";
				mes "ไม่ได้จริงๆ ยะ-อย่าถามนะว่า";
				mes "ทำไม ก็แค่ไปไม่ได้นั่นแหละ!";
				set KHToastGirlEnd,1;
				close;
			case 2:
				mes "[Cezu]";
				mes "โอเคๆ~";
				mes "ไว้มาใหม่นะจ๊ะ!";
				close;
			}
		}
		else if (KHToastGirlEnd == 1) {
			mes "คุณช่วยไปที่โรงนากังหันลม";
			mes "Lighthalzen แล้วบอกพวกเขา";
			mes "ว่า Cezu ต้องการแป้งกับไข่เยอะๆ!";
			mes "แล้วรีบเอาของทั้งหมดนั่น";
			mes "กลับมาหาฉันให้เร็วที่สุดนะ~";
			close;
		}
		else if (KHToastGirlEnd == 2) {
			mes "เฮ้ คุณกลับมาพร้อมกับ";
			mes "วัตถุดิบแล้ว! ขอบคุณมากนะ";
			mes "ฉันต้องการมันจริงๆ!";
			mes "ทีนี้ช่วยเอาแป้งกับไข่พวกนี้";
			mes "ไปให้ Elly ทีนะ แล้วฝากบอกเธอ";
			mes "ด้วยว่าฉันฝากความคิดถึงไปให้ บ๊ายบาย~";
			delitem 7488,1; //Delivery_Package
			getitem 7488,1; //Delivery_Package
			set KHToastGirlEnd,3;
			close;
		}
	}
	//KHToastGirlEnd no longer needed-- deleting.
	if (KielHyreQuest > 6) set KHToastGirlEnd,0;
	mes "ขนมปังปิ้ง ร้อนๆ สดใหม่";
	mes "และกรุบกรอบบบบ!";
	mes "มาซื้อกันได้เลย!";
	close;
}

//----------------------------------------------------------------------------
// Lighthalzen WindMill Owner.
//----------------------------------------------------------------------------
lighthalzen,366,299,4	script	Windmill Owner#kh	46,{
	if (checkweight(7488,1) == 0) {
		mes "[Mills]";
		mes "เฮ้ คุณมีของติดตัวเยอะเกินไปแล้ว";
		mes "เอาขยะพวกนั้นไปฝากคลัง Kafra ซะ";
		mes "ถ้ายังหวังจะให้ผมมอบอะไรให้คุณ";
		mes "นั่นคือเหตุผลที่คุณถ่อมาหาผม";
		mes "ไม่ใช่หรือไง พ่อหนุ่ม/แม่หนู?";
		close;
	}
	if (KHToastGirlEnd < 1) {
		mes "[Mills]";
		mes "เฮ้ ต้องการอะไรล่ะ?";
		mes "ตอนนี้ผมยุ่งมากเลย";
		mes "ค่อยกลับมาใหม่คราวหลังนะ?";
		mes "แล้วเราค่อยคุยกัน";
		close;
	}
	else if (KHToastGirlEnd == 1) {
		mes "[Mills]";
		mes "เฮ้ ต้องการอะไรล่ะ?";
		mes "คุณมาได้จังหวะพอดีเป๊ะเลย";
		mes "แต่ถ้าคุณต้องการอะไร";
		mes "ก็รีบพูดออกมาเร็วๆ เข้า";
		mes "ก่อนที่งานจะล้นมืออีกรอบ";
		next;
		switch(select("ฉันมาหา Cezu น่ะ:......")) {
		case 1:
			mes "[Mills]";
			mes "โอ้ Cezu จากร้านขนมปัง";
			mes "ปิ้งน่ะเหรอ? ได้สิ ผมเตรียม";
			mes "ของที่เด็กนั่นต้องการไว้";
			mes "เรียบร้อยแล้ว มีไข่อยู่ข้างในนะ";
			mes "เพราะงั้นถือระวังๆ หน่อยล่ะ";
			mes "มันพร้อมสำหรับคุณแล้ว...";
			next;
			mes "[Mills]";
			mes "เด็กคนนั้นเป็นลูกค้าประจำ";
			mes "ของผม เพราะงั้นคุณไม่ต้อง";
			mes "จ่ายเงิน หรือทำธุระอะไรให้ผมเพิ่ม";
			mes "ใช่ ผมรู้ว่าคนอื่นปฏิบัติกับ";
			mes "นักผจญภัยยังไง ไปล่ะนะ";
			getitem 7488,1; //Delivery_Package
			set KHToastGirlEnd,2;
			close;
		case 2:
			mes "[Mills]";
			mes "......";
			mes "เอิ่ม โอเค งั้นถ้า";
			mes "คุณต้องการอะไร ก็แค่";
			mes "ส่งเสียงเรียกละกัน";
			mes "Cuts, Cutz อยู่ไหนน่ะ?";
			mes "อย่าให้รู้นะว่าแอบอู้งาน!";
			close;
		}
	}
	else if (KHToastGirlEnd >= 2) {
		mes "[Mills]";
		mes "เจ้า Cutz นี่มันจอมขี้เกียจ";
		mes "จริงๆ เลย หมอนั่นคิดว่า";
		mes "จะเล่นสนุกในเวลาทำงาน";
		mes "ได้งั้นเหรอ...! ช่างเถอะ เขาคงรู้";
		mes "ว่าผมหาผู้ช่วยที่ดีกว่านี้ไม่ได้แล้ว...";
		close;
	}
}

lighthalzen,366,289,2	script	Windmill Owner's Helper	97,{
	if (KHToastGirlEnd < 1) {
		mes "[Cutz]";
		mes "โธ่ ทำไมพวกเราถึงได้";
		mes "ยุ่งตลอดเวลาเลยนะ?";
		mes "ทำไม Mills ต้องใช้งาน";
		mes "ฉันหนักขนาดนี้ด้วย?";
		mes "เฮ้อ ก็เพื่อความอยู่รอดล่ะนะ...";
		close;
	}
	else if (KHToastGirlEnd >= 2) {
		mes "[Cutz]";
		mes "อะ-อะไรที่ทำให้คุณคิด";
		mes "ว่าผมอู้งานอยู่ล่ะครับ";
		mes "Mills? ดะ-ดูสิ ดูสิ";
		mes "มือผมยังขยับอยู่เลยนะ";
		mes "ผมยุ่งอยู่เนี่ย เห็นไหม!";
		close;
	}
	else {
		mes "[Cutz]";
		mes "เฮ้ คุณมาจากร้านขนมปัง";
		mes "ปิ้งของ Cezu ใช่ไหม?";
		mes "Cezu ตัวน้อยผู้น่ารัก";
		mes "เป็นยังไงบ้างล่ะ?";
		close;
	}
}

//============================================================================
//Kiel Hyre Academy NPCs
//============================================================================

//----------------------------------------------------------------------------
// Girl (Talks about the academy)
//----------------------------------------------------------------------------
yuno_fild08,196,196,5	script	Hanie#kh1	102,{
	mes "[Hanie]";
	mes "โอ้ ฉันหวังว่าฉันจะได้เรียนที่";
	mes "Kiel Hyre Academy จังเลย...";
	mes "คนที่จบจากที่นั่นทุกคนได้";
	mes "งานดีๆ ทำทั้งนั้นเลยล่ะ! ฉันล่ะ";
	mes "อิจฉาพวกนักเรียนที่นั่นจริงๆ!";
	next;
	select("Kiel Hyre Academy?");
	mes "[Hanie]";
	mes "โอ้ Kiel Hyre Academy น่ะ";
	mes "เป็นโรงเรียนที่ก่อตั้งโดย Kiel";
	mes "Hyre นักประดิษฐ์ที่ร่ำรวย";
	mes "จากเครื่องจักรประหลาดๆ ของเขา";
	mes "เขาตัดสินใจตอบแทนสังคม";
	mes "ด้วยการสร้างสถาบันเอกชนแห่งนี้";
	next;
	mes "[Hanie]";
	mes "อย่างไรก็ตาม โรงเรียนนี้จะ";
	mes "รับเฉพาะเด็กกำพร้าที่ยากจน";
	mes "เกินกว่าจะเข้าเรียนที่อื่นได้";
	mes "บางครั้งมันก็ทำให้ฉันหวัง";
	mes "อยากจะเป็นเด็กกำพร้าบ้างเหมือนกัน!";
	mes "เอ่อ ไม่ได้หมายความแบบนั้นจริงๆ หรอกนะ...";
	close;
}


//----------------------------------------------------------------------------
// Academy Security Guards
//----------------------------------------------------------------------------
yuno_fild08,158,194,6	script	Security Guard#1::KHAGuard	852,{
	if ((KielHyreQuest < 2) || (KielHyreQuest > 31)) {
		mes "[Security Guard]";
		mes "ขออภัยด้วยครับ แต่ถ้าคุณไม่มี";
		mes "ส่วนเกี่ยวข้องกับสถาบันแห่งนี้";
		mes "คุณก็ไม่ได้รับอนุญาตให้";
		mes "เข้าไปใน ^FF0000Kiel Hyre Academy^000000";
		mes "กรุณาออกไปด้วยครับ หากคุณไม่มี";
		mes "การนัดหมายกับเจ้าหน้าที่เอาไว้";
		close;
	}
	else if (KielHyreQuest == 2) {
		mes "[Security Guard]";
		mes "ขออภัยด้วยครับ แต่ถ้าคุณไม่มี";
		mes "ส่วนเกี่ยวข้องกับสถาบันแห่งนี้";
		mes "คุณก็ไม่ได้รับอนุญาตให้";
		mes "เข้าไปใน ^FF0000Kiel Hyre Academy^000000";
		mes "กรุณาออกไปด้วยครับ หากคุณไม่มี";
		mes "การนัดหมายกับเจ้าหน้าที่เอาไว้";
		next;
		switch(select("ฉันมาส่งของน่ะ:......")) {
		case 1:
			mes "[Security Guard]";
			mes "คุณมาส่งของงั้นเหรอ?";
			mes "โอเค ช่วยบอก ^FF0000ชื่อ^000000 ผู้รับ";
			mes "ตามด้วย ^FF0000สิ่งของ^000000 ที่จะส่งมา";
			mes "ผมจะตรวจสอบความถูกต้อง";
			mes "ก่อนที่จะให้คุณเข้าไปข้างใน";
			next;
			input .@KHDelivery$;
			if (.@KHDelivery$ != "Lecollane") {
				mes "[Security Guard]";
				mes "คุณมาส่งไวน์ให้...ให้ใครนะ?";
				mes "ชื่ออะไรนะ? ผม...ผมไม่คิดว่า";
				mes "เราจะมีใครในสถาบันนี้";
				mes "ที่ชื่อ "+.@KHDelivery$+" หรอกนะ";
				close;
			}
			input .@KHDelivery$ ;
			if (.@KHDelivery$ != "Culinary Wine") {
				mes "[Security Guard]";
				mes "สรุปคือคุณมาส่งของให้";
				mes "คุณนาย Lecollane ใช่ไหม?";
				mes "แล้วคุณเอาอะไรมาส่งให้เธอล่ะ?";
				mes "^3355FF"+.@KHDelivery$+"^000000 อย่างนั้นเหรอ?";
				next;
				mes "[Security Guard]";
				mes "ขอผมติดต่อไปหาเธอก่อนนะ";
				mes "เพื่อตรวจสอบให้แน่ใจว่า";
				mes "เธอกำลังรอคุณอยู่จริงหรือเปล่า";
				mes "ขอดูหน่อยซิ...";
				next;
				mes "......";
				mes ".........";
				mes "............";
				next;
				mes "[Security Guard]";
				mes "หืม คุณนาย Lecollane";
				mes "กำลังรอรับของอยู่จริง แต่ไม่ใช่";
				mes "ของที่คุณบอกว่าเอามาส่ง";
				mes "ให้เธอหรอกนะ คุณอาจจะต้องไป";
				mes "เช็คดูอีกทีว่ามีการส่งผิดหรือเปล่า...";
				close;
			}
			mes "[Security Guard]";
			mes "เอาล่ะ....";
			mes "สรุปคือคุณมาเพื่อ";
			mes "ส่งไวน์หนึ่งขวดให้";
			mes "คุณนาย Lecollane สินะ?";
			mes "ขอผมติดต่อไปหาเธอเพื่อ";
			mes "ยืนยันเรื่องนี้สักครู่นะ";
			next;
			mes "......";
			mes ".........";
			mes "............";
			next;
			mes "[Security Guard]";
			mes "โอเค ทุกอย่างเรียบร้อยดี";
			mes "คุณนาย Lecollane";
			mes "กำลังรอคุณอยู่พอดี";
			mes "คุณเข้าไปได้เลยครับ";
			close2;
			warp "kh_school",71,155;
			end;
		case 2:
			mes "[Security Guard]";
			mes "หากคุณไม่มีนัดหมาย";
			mes "ก็อย่ามาเดินเตร็ดเตร่";
			mes "อยู่หน้าสถาบันแบบนี้!";
			close;
		}
	}
	else if (KielHyreQuest < 32) {
		mes "[Security Guard]";
		mes "โอ้ คุณมีธุระอื่นอีกงั้นเหรอ";
		mes "ข้างในสถาบันน่ะ? ผมจำคุณ";
		mes "ได้จากคราวที่แล้ว เพราะฉะนั้น";
		mes "คงไม่มีปัญหาอะไรที่จะ";
		mes "ปล่อยให้คุณเข้าไปข้างในอีกรอบ...";
		close2;
		warp "kh_school",71,155;
		end;
	}
}

yuno_fild08,158,183,7	duplicate(KHAGuard)	Security Guard#2	852

//----------------------------------------------------------------------------
// Gossiping Teenagers/Story NPCs
//----------------------------------------------------------------------------
kh_school,57,142,6	script	Student#kha	893,3,3,{
	mes "[Laci]";
	mes "โอ้ ว้าว! ปกติเราจะไม่ค่อย";
	mes "มีแขกมาเยี่ยมในแคมปัสเลย!";
	mes "เอ่อ คุณไม่ใช่เจ้าหน้าที่";
	mes "คนใหม่ใช่ไหมคะ?";
	close;

OnTouch_:
	mes "[Laci]";
	mes "นี่ Nesha...!";
	mes "เธอได้ยินไหมว่าทำไม";
	mes "Aaci ถึงไม่ได้มาเรียน";
	mes "สักพักแล้วน่ะ?";
	next;
	mes "[Gui Nesha]";
	mes "นั่นสินะ ฉันก็ไม่เห็น";
	mes "Aaci มาสักพักแล้วล่ะ";
	mes "เกิดอะไรขึ้นหรือเปล่า?";
	next;
	mes "[Laci]";
	mes "มันเป็นเพราะว่า....";
	mes "Aaci เห็นผีจริงๆ น่ะสิ!";
	mes "มันเป็นเรื่องจริงร้อยเปอร์เซ็นต์เลยนะ!";
	mes "ฉันได้ยินมาจาก เอ่อ เธอก็รู้";
	mes "แหล่งข่าวของฉันน่ะ";
	next;
	mes "[Gui Nesha]";
	mes "...อะไรนะ...?";
	mes "โธ่ เอ๊ย เลิกเพ้อเจ้อ";
	mes "ได้แล้วน่า";
	close;
}

kh_school,57,139,0	script	Student#khb	893,{
	mes "[Gui Nesha]";
	mes "พวกเราไม่โตเกินไปที่จะ";
	mes "มาคุยเรื่องแบบนี้กันหน่อยเหรอ?";
	mes "เรื่องข่าวลือกับเรื่องผี";
	mes "ที่ไม่มีมูลความจริงพวกนี้น่ะ?";
	mes "พอเถอะ Laci เลิกพูดได้แล้ว!";
	emotion ET_PROFUSELY_SWEAT;
	close;
}

//----------------------------------------------------------------------------
// Mrs. Lecollane
//----------------------------------------------------------------------------
kh_school,176,60,4	script	Lady#kh	101,{
	if (KielHyreQuest < 2) {
		mes "[Mrs. Lecollane]";
		mes "มีปัญหาอะไรหรือเปล่า?";
		mes "คนนอกไม่ได้รับอนุญาตให้เข้ามา";
		mes "ที่นี่นะ โปรดออกไปด้วยค่ะ";
		close;
	}
	else if (KielHyreQuest == 2) {
		mes "[Mrs. Lecollane]";
		mes "โอ้ สวัสดีค่ะ อา!";
		mes "คุณมาเพื่อส่งไวน์";
		mes "ให้ฉันใช่ไหม? เจ้าหน้าที่รักษาความ";
		mes "ปลอดภัยโทรมาแจ้งแล้วว่า";
		mes "คุณกำลังมา";
		next;
		switch(select("ใช่ครับ/ค่ะ ถูกต้องแล้ว!:เอ่อ ขะ-ขอโทษครับ/ค่ะ!")) {
		case 1:
			mes "[Mrs. Lecollane]";
			mes "อืม คุณมาสายกว่าที่ฉัน";
			mes "คิดไว้นิดหน่อยนะ แต่ก็นะ";
			mes "คงจะช่วยไม่ได้ล่ะมั้ง ฉันว่า";
			mes "การรอมันยิ่งทำให้ฉันตื่นเต้น";
			mes "ที่จะได้เปิดไวน์ขวดนี้--";
			next;
			mes "^3355FF*เคร้ง! เพล้ง!*^000000";
			next;
			mes "[Mrs. Lecollane]";
			mes "Elly? Elly เธอทำอะไร";
			mes "แตกอีกแล้วอย่างนั้นเหรอ?!";
			mes "เธอต้องระวังให้มากกว่านี้หน่อยสิ!";
			mes "ถ้าเธอทำคุกกี้พวกนี้ไม่เสร็จ";
			mes "ภายในวันนี้ เกรดเทอมนี้";
			mes "ของเธอจะแย่แน่ๆ!";
			next;
			mes "[Elly]";
			mes "ตะ-แต่หนูแค่...";
			next;
			mes "[Mrs. Lecollane]";
			mes "^FF0000Elly^000000!!";
			next;
			mes "[Elly]";
			mes "......";
			mes "ค่ะ คุณนาย Lecollane";
			next;
			mes "[Mrs. Lecollane]";
			mes "*อะแฮ่ม* ขออภัยด้วยค่ะ";
			mes "ช่วยวางไวน์ไว้ตรงนั้นหน่อยได้ไหม?";
			mes "คุณไปได้แล้วล่ะ และได้โปรด";
			mes "อย่าเดินเตร็ดเตร่ไปทั่ว";
			mes "ในสถาบันอย่างไร้จุดหมายด้วย";
			delitem 7487,1; //Tavern_Wine
			set KielHyreQuest,4;
			close;
		case 2:
			mes "[Mrs. Lecollane]";
			mes "หืม...?";
			mes "ฉันเดาว่าฉันคงจะ";
			mes "เข้าใจผิดไปเอง ขอโทษ";
			mes "ด้วยนะ ฉันนึกว่าคุณคือ";
			mes "คนอื่นน่ะค่ะ";
			close;
		}
	}
	else if (KielHyreQuest == 4) {
		mes "[Mrs Lecollane]";
		mes "เอาล่ะ ธุระของเราเสร็จสิ้น";
		mes "เรียบร้อยแล้ว รบกวนช่วยออกจาก";
		mes "แคมปัสให้เร็วที่สุดเท่าที่";
		mes "คุณจะทำได้เลยนะคะ *ถอนหายใจ*";
		mes "ฉันล่ะไม่อยากเชื่อเลยว่าอนาคตของชาติ";
		mes "จะอยู่ในมือของเด็กสาวพวกนี้...";
		close;
	}
}

//----------------------------------------------------------------------------
// Elly (In school)
//----------------------------------------------------------------------------
kh_school,179,39,0	script	Cute Student#kh	895,{
	if (checkweight(908,200) == 0) {
		mes "[Elly]";
		mes "ขอโทษนะคะ แต่คุณช่วยเอา";
		mes "ของไปฝากใน Kafra ก่อนได้ไหม?";
		mes "หรืออะไรก็ได้... หนูช่วยคุณไม่ได้";
		mes "จริงๆ ในขณะที่คุณแบกของ";
		mes "พะรุงพะรังขนาดนี้";
		close;
	}
	cutin "kh_elly01",2;
	if (KielHyreQuest < 4) {
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "วะ-ว้าย! โอ้...!";
		mes "^333333*ฟู่*^000000 เกือบไปแล้ว";
		mes "หนูเกือบทำพวกมันหล่น";
		mes "อีกรอบแล้ว! ทำไมหนูถึงได้มี";
		mes "ปัญหาในการถือวัตถุดิบจังเลยนะ?";
	}
	else if (KielHyreQuest == 4) {
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "โอ้ ไม่นะ หนูควรจะ";
		mes "ทำยังไงดี? ^333333*ฮือ*^000000 หนูจะ";
		mes "ทำยังไงดีนะ? ^333333*สูดน้ำมูก*^000000";
		next;
		switch(select("เกิดอะไรขึ้นเหรอ?:......")) {
		case 1:
			mes "[Elly]";
			mes "หนู... หนูต้องอบคุกกี้";
			mes "ชุดนี้ให้เสร็จภายในสิ้นวัน";
			mes "แต่นี่หนูทำวัตถุดิบทั้งหมด";
			mes "หกลงพื้นไปหมดแล้ว หนูไม่รู้";
			mes "จะอบคุกกี้พวกนั้นยังไงแล้วล่ะ...";
			next;
			switch(select("ฉันพอจะช่วยอะไรเธอได้ไหม?:โอ้ ฉันเสียใจด้วยนะ")) {
			case 1:
				cutin "kh_elly02",2;
				mes "[Elly]";
				mes "คุณว่าอะไรนะคะ...?";
				mes "คุณจะช่วยหนูจริงๆ เหรอ?";
				mes "นั่นมันยอดเยี่ยมมากเลย!";
				mes "ขอบคุณนะคะ! ขอบคุณมากจริงๆ!";
				next;
				break;
			case 2:
				mes "[Elly]";
				mes "เดี๋ยวสิ คุณไม่ใช่คนที่เรียน";
				mes "ที่นี่ใช่ไหมคะ? คุณเป็นหนึ่งใน";
				mes "พวกนักผจญภัยใช่ไหม?";
				next;
				select("ใช่แล้ว ถูกต้อง");
				mes "ฟังนะคะ หนูรู้ว่าคุณอาจจะมี";
				mes "แผนการของคุณเอง แต่คุณพอจะ";
				mes "ช่วยหนูแก้ปัญหาที่ใหญ่หลวง";
				mes "สำหรับหนูตอนนี้หน่อยได้ไหม?";
				next;
				switch(select("ตกลง:ปฏิเสธ")) {
				case 1:
					cutin "kh_elly02",2;
					mes "ยอดเยี่ยมที่สุดเลย!";
					mes "ขอบคุณนะคะ! ขอบคุณ";
					mes "มากจริงๆ! หนูควรจะ";
					mes "อบคุกกี้ชุดนี้ให้เสร็จเร็วๆ นี้";
					mes "แต่หนูดันทำวัตถุดิบทั้งหมด";
					mes "หกเลอะเทอะไปหมด...";
					next;
					break;
				case 2:
					mes "["+strcharinfo(0)+"]";
					mes "ฉันไปก่อนล่ะ";
					next;
					cutin "kh_elly04",2;
					mes "[Elly]";
					mes "ดะ-เดี๋ยวสิ...!";
					mes "กลับมาก่อน อย่าเพิ่ง...";
					mes "หนูต้องการความช่วยเหลือ";
					mes "จริงๆ นะคะ!";
					emotion ET_CRY;
					close2;
					cutin "",255;
					end;
				}
			}
			cutin "kh_elly01",2;
			mes "[Elly]";
			mes "อืม หนูเดาว่าทางเดียวที่จะ";
			mes "อบคุกกี้พวกนี้ได้ คือการหา";
			mes "วัตถุดิบชุดใหม่มาแทน";
			mes "ขอโทษที่ต้องรบกวนนะคะ";
			mes "แต่ถ้าคุณไม่เสนอตัวช่วยหนู";
			mes "หนูก็ไม่รู้จะไปขอให้ใครช่วยแล้ว!";
			next;
			cutin "kh_elly04",2;
			mes "[Elly]";
			mes "คุณไม่เข้าใจหรอกว่ามันสำคัญ";
			mes "แค่ไหนที่หนูต้องอบคุกกี้พวกนี้...";
			mes "ถ้าหนูทำงานที่ได้รับมอบหมาย";
			mes "นี้ไม่เสร็จ คุณนาย Crank จะต้องให้";
			mes "หนูตกเทอมนี้ทั้งเทอมแน่ๆ เลย!";
			next;
			mes "[Elly]";
			cutin "kh_elly01",2;
			mes "โอเค หนูต้องใจเย็นๆ";
			mes "หนูคิดว่าหนูน่าจะทำได้";
			mes "ถ้ามีความช่วยเหลือจากคุณ";
			mes "ช่วยทำให้หนูหน่อยได้ไหมคะ";
			mes "นำวัตถุดิบพวกนี้มาให้หนูทีค่ะ";
			next;
			mes "[Elly]";
			mes "^3355FF1 Wine^000000,";
			mes "^3355FF7 Milks^000000,";
			mes "^3355FF5 Cacaos^000000,";
			mes "^3355FF2 Cheeses^000000,";
			mes "^3355FF1 Egg^000000, และ";
			mes "^3355FF1 Bag of Flour^000000 ค่ะ";
			next;
			mes "[Elly]";
			mes "มาดูกัน... คุณหา Wine";
			mes "ได้จากผับใน Juno, Cacaos";
			mes "ได้จากการล่า Yoyos และหา";
			mes "แป้ง (flour) กับไข่ (Eggs) ได้จาก";
			mes "เด็กผู้หญิงที่ขายขนมปังปิ้งใน Juno ค่ะ";
			next;
			mes "[Elly]";
			mes "โชคดีนะคะกับการหาของ";
			mes "และหวังว่าคุณจะรีบกลับมา";
			mes "พร้อมกับวัตถุดิบพวกนั้น";
			mes "ให้เร็วที่สุดเท่าที่จะทำได้นะคะ ตกลงไหม?";
			set KielHyreQuest,6;
			break;
		case 2:
			mes "[Elly]";
			mes "*ฮือ*...";
			break;
		}
	}
	else if (KielHyreQuest == 6) {
		if ((countitem(519) < 7) || (countitem(548) < 2) || (countitem(7182) < 5) || (countitem(7487) < 1) || (countitem(7488) < 1)) {
			mes "[Elly]";
			mes "มาดูซิ คุณอยากให้หนู";
			mes "ทบทวนให้ไหมว่าหนูต้องการ";
			mes "วัตถุดิบอะไรบ้าง?";
			mes "ช่วยนำพวกมันมาให้เร็วที่สุด";
			mes "เท่าที่ทำได้ หนูจะได้รีบอบ";
			mes "คุกกี้เร็วๆ ไงคะ~";
			next;
			mes "[Elly]";
			mes "^3355FF1 Wine^000000,";
			mes "^3355FF7 Milks^000000,";
			mes "^3355FF5 Cacaos^000000,";
			mes "^3355FF2 Cheeses^000000,";
			mes "^3355FF1 Egg^000000, และ";
			mes "^3355FF1 Bag of Flour^000000 ค่ะ";
			next;
			cutin "kh_elly01",2;
			mes "[Elly]";
			mes "มาดูกัน... คุณหา Wine";
			mes "ได้จากผับใน Juno, Cacaos";
			mes "ได้จากการล่า Yoyos และหา";
			mes "แป้ง (flour) กับไข่ (Eggs) ได้จาก";
			mes "เด็กผู้หญิงที่ขายขนมปังปิ้งใน Juno ค่ะ";
		}
		else {
			cutin "kh_elly02",2;
			mes "[Elly]";
			mes "ไชโย! ในที่สุดหนูก็มี";
			mes "ทุกอย่างที่ต้องการแล้ว! ยอดไปเลย!";
			mes "โอ้ ช่วยรอหนูสักครู่ขณะที่";
			mes "หนูอบคุกกี้พวกนี้ได้ไหมคะ? คงใช้";
			mes "เวลาไม่นานหรอก รอสักครู่นะ";
			delitem 519,7; //Milk
			delitem 548,2; //Cheese
			delitem 7182,5; //Cacao
			delitem 7487,1; //Tavern_Wine
			delitem 7488,1; //Delivery_Package
			set KielHyreQuest,8;
			//KHPubMasterEnd no longer needed-- deleting.
			set KHPubMasterEnd,0;
			set KHToastGirlEnd,0;
			emotion ET_DELIGHT;
		}
	}
	else if (KielHyreQuest == 8) {
		mes "[Elly]";
		mes "แท่แด๊! หนูทำได้แล้ว!";
		mes "พวกมันเสร็จสมบูรณ์แล้วล่ะ!";
		mes "คุกกี้สูตรพิเศษของ Elly";
		mes "หนูอยากให้คุณลองทานดู";
		mes "เพื่อเป็นการขอบคุณที่ช่วยหนูค่ะ";
		next;
		mes "[Elly]";
		mes "ขอโทษด้วยนะคะ หนูมัวแต่";
		mes "วุ่นอยู่กับการอบคุกกี้จน";
		mes "ลืมถามชื่อคุณไปเลย หนูชื่อ";
		mes "^FF0000Ellyja^000000 ค่ะ แต่ทุกคนเรียกหนูว่า";
		mes "''Elly'' แล้วคุณชื่ออะไรคะ?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "^3355FF"+strcharinfo(0)+"^000000 ครับ/ค่ะ";
		mes "ชื่อ ^3355FF"+strcharinfo(0)+"^000000 น่ะ";
		next;
		cutin "kh_elly02",2;
		mes "[Elly]";
		mes ""+strcharinfo(0)+"?";
		mes "...ชื่อนั่น! ช่างไพเราะจังเลย!";
		getitem 538,5; //Well_Baked_Cookie
		set KielHyreQuest,10;
	}
	else if (KielHyreQuest == 10) {
		mes "[Elly]";
		mes "ขอโทษนะคะ แต่หนูมีเรื่อง";
		mes "อยากจะรบกวนคุณอีกสักอย่าง";
		mes "ถ้าคุณไม่รังเกียจที่จะช่วย";
		mes "หนูอีกครั้งนะคะ ไม่ต้องห่วงค่ะ";
		mes "ครั้งนี้คุณไม่ต้องรีบร้อน";
		mes "เหมือนครั้งที่แล้วหรอกค่ะ";
		next;
		switch(select("คุณต้องการอะไรเหรอ?:ขอโทษนะ แต่ฉันค่อนข้างยุ่งน่ะ...")) {
		case 1:
			mes "[Elly]";
			mes "คุณจำได้ใช่ไหมที่ช่วย";
			mes "หนูอบคุกกี้พวกนั้นน่ะ?";
			mes "มันเป็นครั้งแรกเลยนะคะที่หนู";
			mes "ทำสำเร็จโดยที่ไม่ทำมันไหม้!";
			mes "หนูรู้เลยว่าคุณปู่จะต้อง";
			mes "ภูมิใจในตัวหนูมากแน่ๆ!";
			next;
			mes "[Elly]";
			mes "หนูอยากให้คุณปู่ได้ชิม";
			mes "คุกกี้ที่หนูอบจริงๆ ค่ะ";
			mes "แต่คุกกี้มันคงจะหายกรอบพอดี";
			mes "กว่าที่หนูจะได้รับอนุญาตให้ออกจาก";
			mes "แคมปัส คุณช่วยเอาคุกกี้พวกนี้";
			mes "ไปส่งให้คุณปู่แทนหนูได้ไหมคะ?";
			next;
			switch(select("ได้สิ:ฉันยุ่งน่ะ")) {
			case 1:
				cutin "kh_elly02",2;
				mes "[Elly]";
				mes "โอ้ "+strcharinfo(0)+"!";
				mes "ขอบคุณมากเลยค่ะ หนูรู้อยู่แล้ว";
				mes "ว่าคุณต้องเข้าใจ! คุณช่วย";
				mes "เอาคุกกี้ไปให้ท่านที่";
				mes "^FF0000กระท่อมของ Kiel Hyre^000000 หน่อยนะคะ?";
				next;
				mes "[Elly]";
				mes "โอ้ จริงด้วย! ที่นั่นเขา";
				mes "เข้มงวดเรื่องผู้มาเยือนมากและ";
				mes "คอยกันคนแปลกหน้าไม่ให้เข้า";
				mes "ในพื้นที่ แต่ถ้าคุณเอ่ย";
				mes "ชื่อของหนู พวกเขาจะยอมให้คุณเข้าค่ะ";
				mes "ตกลงตามนี้แล้วพบกันนะคะ~";
				set KielHyreQuest,12;
				break;
			case 2:
				cutin "kh_elly03",2;
				mes "[Elly]";
				mes "โอ้ เอิ่ม...";
				mes "โอเคค่ะ หนูขอโทษที่";
				mes "มารบกวนคุณนะคะ...";
				break;
			}
			break;
		case 2:
			cutin "kh_elly03",2;
			mes "[Elly]";
			mes "โอ้ เอิ่ม...";
			mes "โอเคค่ะ หนูขอโทษที่";
			mes "มารบกวนคุณนะคะ...";
			break;
		}
	}
	else if (KielHyreQuest == 12) {
		mes "[Elly]";
		mes "โอ้ คุณไม่รู้เหรอคะว่าจะหา";
		mes "กระท่อมของ Kiel Hyre ได้ที่ไหน?";
		mes "มันอยู่ทางเหนือจากสถาบัน";
		mes "แห่งนี้เองค่ะ ช่วยเอาคุกกี้";
		mes "ไปส่งให้คุณปู่ทีนะคะ และ";
		mes "บอกท่านด้วยว่าหนูคิดถึงท่านมาก";
	}
	else if (KielHyreQuest == 14) {
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "หืม? คุณปู่อยู่ไม่";
		mes "บ้านเหรอ? แปลกจัง ท่าน";
		mes "ไม่ได้พูดอะไรเกี่ยวกับเรื่อง";
		mes "จะไปทำงานต่างจังหวัดเลย หนูคิดว่า";
		mes "ท่านจะอยู่บ้านทั้งวันเสียอีก...";
		next;
		cutin "kh_elly04",2;
		mes "[Elly]";
		mes "คุณช่วยกลับไปที่กระท่อมของ";
		mes "ท่านอีกสักรอบได้ไหมคะ? นี่ค่ะ";
		mes "คุณสามารถใช้กุญแจกระท่อมนี้ได้";
		mes "ด้วยวิธีนี้ คุณจะได้เข้าไปข้างใน";
		mes "และคุยกับท่านได้เลยค่ะ~";
		getitem 7489,1; //Villa_Spare_Key
		set KielHyreQuest,16;
	}
	else if ((KielHyreQuest >= 14) && (KielHyreQuest < 20)) {
		mes "[Elly]";
		mes "มันแปลกจริงๆ นะ...";
		mes "หนูนึกว่าคุณปู่";
		mes "บอกว่าจะอยู่";
		mes "บ้านทั้งวันวันนี้เสียอีก...";
	}
	else if (KielHyreQuest == 20) {
		mes "[Elly]";
		mes "หืมมม...?";
		mes "นี่มันอะไรกัน";
		mes "จดหมายถึงหนูเหรอ?";
		next;
		mes "^3355FFElly เปิดซองจดหมาย";
		mes "และเริ่มอ่านข้อความข้างใน^000000";
		next;
		mes "^333333Elly หลานรัก,";
		mes " ";
		mes "ปู่มีเรื่องต้องหารือกับ";
		mes "Kiehl ลูกชายของปู่ ดังนั้นปู่";
		mes "จึงกำลังออกไปเพื่อพบเขา";
		mes "ถ้าหลานไม่ได้รับข่าวจากปู่";
		mes "หลังจาก 7 วันที่ปู่เขียน";
		mes "จดหมายฉบับนี้ หลานจะต้อง";
		mes "หนีออกจากสถาบันให้เร็ว";
		mes "ที่สุดเท่าที่จะทำได้ และไปเอา";
		mes "บางอย่างที่อยู่ใน";
		mes "ห้องทำงานในกระท่อมของเรา";
		mes " ";
		mes "ถ้าหลานมีเพื่อนที่หลาน";
		mes "ไว้ใจได้ โปรดขอให้เขา";
		mes "ช่วยตามรอยของปู่ใน";
		mes "กระท่อม ปู่อาจกำลังตกอยู่ในอันตราย";
		mes "และต้องการการช่วยเหลืออย่างเร่งด่วน";
		mes " ";
		mes "Elly อย่าไว้ใจใครก็ตาม";
		mes "ในสถาบัน แม้แต่เพื่อน";
		mes "ร่วมชั้นของหลาน เพราะพวกเขา";
		mes "อาจถูก Kiehl ชักจูงไปแล้ว";
		mes " ";
		mes "ระวังตัวด้วย ปู่รักหลานนะ";
		mes " ";
		mes "--ปู่^000000";
		next;
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "อะไรนะ? โอ้ ไม่นะ มันผ่านไป";
		mes "สิบวันแล้วตั้งแต่วันที่ท่านเขียน";
		mes "จดหมายฉบับนี้! อา นี่หมายความ";
		mes "ว่าท่านกำลังตกอยู่ในอันตรายงั้นเหรอ?!";
		mes "โอ้ ไม่นะ หนูควรจะทำยังไงดี?";
		delitem 7490,1; //Letter_to_Elly
		set KielHyreQuest,22;
	}
	else if (KielHyreQuest == 22) {
		cutin "kh_elly03",2;
		mes "[Elly]";
		mes "......";
		mes ".........";
		mes "............";
		next;
		switch(select("เกี่ยวกับคุณปู่ของคุณ:บอกฉันเรื่อง Kiehl หน่อย:สถาบันนี้มันยังไงกันแน่?")) {
		case 1:
			mes "[Elly]";
			mes "โอ้! คุณปู่ของหนูคือ";
			mes "Kiel Hyre ผู้ก่อตั้งและ";
			mes "CEO ของมูลนิธิ";
			mes "Kiel Hyre ค่ะ ท่านดูเป็น";
			mes "คนเข้มงวดและเย็นชา";
			mes "แต่จริงๆ แล้วท่านใจดีมากเลยนะ!";
			next;
			mes "[Elly]";
			mes "เราไม่ได้เกี่ยวข้องกันทาง";
			mes "สายเลือดหรอกค่ะ แต่ท่านก็คอย";
			mes "ดูแลหนูมาตลอดตั้งแต่หนู";
			mes "เสียคุณพ่อคุณแม่ไป โอ้";
			mes "คุณปู่คะ ท่านอยู่ที่ไหน?";
			mes "หนูเริ่มกังวลมากแล้วนะคะ!";
			break;
		case 2:
			mes "[Elly]";
			mes "Kiehl เหรอ? นั่นคือ";
			mes "ลูกชายของคุณปู่ค่ะ...";
			mes "หนูไม่ค่อยรู้จักเขาดีเท่าไหร่";
			mes "และเคยเห็นเขาแค่ครั้งเดียว";
			mes "ในงานกิจกรรมของสถาบัน";
			next;
			mes "[Elly]";
			mes "อืม เขาเป็นผู้ชายหน้าตาดี";
			mes "ผิวซีด ผมสีเงิน และมี";
			mes "แววตาที่เย็นชาและดุดัน เพื่อน";
			mes "ร่วมชั้นของหนูหลายคนบูชา";
			mes "Kiehl มาก เพราะเขายังเป็น";
			mes "อัจฉริยะทางธุรกิจอีกด้วยค่ะ~";
			next;
			mes "[Elly]";
			mes "แต่มันก็แปลกนะคะ...";
			mes "หนูไม่รู้เลยว่าทำไมคุณปู่";
			mes "กับ Kiehl ถึงเข้ากันไม่ได้";
			mes "ทั้งที่พวกเขาทั้งคู่ต่างก็";
			mes "เก่งในสิ่งที่ตัวเองทำมากๆ...";
			break;
		case 3:
			mes "[Elly]";
			mes "ก็นะ หนูรู้ว่าการรักษาความปลอดภัย";
			mes "ที่นี่เข้มงวดมาก แต่นั่นก็เพราะ";
			mes "ทุกอย่างที่นี่หรูหราและ";
			mes "ราคาแพงมาก คุณก็รู้นี่นา~";
			next;
			mes "[Elly]";
			mes "พวกเรายังมีหลักสูตรที่";
			mes "พิเศษมากๆ ที่เราจะได้เรียน";
			mes "ในสิ่งที่เราต้องการจริงๆ ส่วนตัว";
			mes "หนูอยากเป็นผู้หญิงเก่งที่ทำงานเก่ง";
			mes "เหมือนคุณ ^0000FFAllysia^000000 ค่ะ เฮะ เฮะ~";
			next;
			mes "[Elly]";
			mes "ที่นี่ไม่เหมือนโรงเรียน";
			mes "แห่งอื่นอย่างแน่นอนค่ะ";
			//mes "You already know that only";
			mes "ใช่ค่ะ ทุกอย่างถูกสร้างขึ้นมาเพื่อ";
			mes "ตอบโจทย์ความต้องการของนักเรียนแต่ละคน";
			next;
			mes "[Elly]";
			mes "แต่ช่วงนี้เหรอคะ?";
			mes "มีเรื่องแปลกๆ บางอย่าง";
			mes "เกิดขึ้น เพื่อนร่วมชั้นของหนู";
			mes "ทุกคนต่างก็หวาดกลัวที่จะ";
			mes "ออกไปข้างนอกเพียงลำพัง";
			next;
			cutin "kh_elly02",2;
			mes "[Elly]";
			mes "แต่หนูจะไม่เป็นไรหรอก!";
			mes "คุณจะอยู่ที่นั่นเพื่อช่วย";
			mes "หนูจากอันตรายใช่ไหมคะ";
			mes "คุณ "+strcharinfo(0)+"?";
			next;
			switch(select("คุณ Allysia คือใครเหรอ?:เหตุการณ์ประหลาดๆ?")) {
			case 1:
				mes "[Elly]";
				mes "โอ้ คุณ Allysia คือ";
				mes "เลขานุการของคุณปู่ค่ะ~";
				mes "เธอสวยมากเลย และ";
				mes "คุณปู่ก็ไว้ใจให้เธอ";
				mes "ดูแลทุกอย่างเลยล่ะ!";
				break;
			case 2:
				cutin "kh_elly04",2;
				mes "[Elly]";
				mes "คือก็นะ "+strcharinfo(0)+"...";
				mes "หนูไม่ควรบอกเรื่องนี้กับ";
				mes "ใครภายนอกโรงเรียนหรอกนะคะ";
				mes "แต่หนูไว้ใจคุณ! คือว่านะ...";
				mes "พวกเราโดนผีหลอกล่ะ!";
				next;
				mes "[Elly]";
				mes "หนูรู้ว่ามันฟังดูบ้าบอ";
				mes "แต่ผีตนนี้วนเวียนอยู่ใน";
				mes "แคมปัส และสาปเหยื่อของมัน";
				mes "ทำให้พวกเขากลายเป็นคนเย็นชาและไร้ชีวิต";
				mes "มันเกิดขึ้นกับรูมเมทของหนู";
				mes "Mayo น่ะค่ะ เธอเหมือนกับเป็นรูปปั้นเลย...";
				next;
				mes "[Elly]";
				mes "หนูแอบเข้าไปในห้องพยาบาล";
				mes "เพื่อไปดูเธอ และเธอก็...";
				mes "เธอทำอะไรไม่ได้เลยสักอย่าง!";
				mes "จะเกิดอะไรขึ้นถ้าเจ้าผีตนนั้น";
				mes "ตัดสินใจที่จะสาปหนูขึ้นมาล่ะคะ?!";
				next;
				cutin "kh_elly02",2;
				mes "[Elly]";
				mes "คุณรู้อะไรไหม...?";
				mes "ถ้าหนูถูกผีตนนั้น";
				mes "สาปเข้าให้ล่ะก็ แค่ตะโกนว่า";
				mes "''^FF0000ตื่นได้แล้ว Elly!^000000''";
				mes "นั่นจะทำให้หนูตื่นขึ้นมาแน่นอนค่ะ!";
				set KielHyreQuest,24;
				break;
			}
		}
	}
	else if (KielHyreQuest >= 24 && KielHyreQuest <= 26) {
		cutin "kh_elly04",2;
		mes "[Elly]";
		mes "อา หนูแย่แล้ว!";
		mes "หนูต้องทำการบ้านให้";
		mes "เสร็จก่อนจะถึงกำหนดส่ง!";
		mes "ใช่ค่ะ หนูต้องไปพบคุณนาย";
		mes "Lecollane เดี๋ยวนี้เลย";
		next;
		mes "[Elly]";
		mes "นี่ "+strcharinfo(0)+",";
		mes "ถ้าไม่เป็นการรบกวน คุณช่วย";
		mes "ไปหาสิ่งที่คุณปู่ทิ้งไว้";
		mes "ให้หนูใน ^FF0000ห้องทำงานในกระท่อม^000000 ทีนะคะ?";
		mes "คุณเป็นคนเดียวที่หนูไว้ใจได้!";
		next;
		mes "[Elly]";
		mes "ยังไงก็ตาม ไว้เจอกันตอน";
		mes "เย็นนะคะ! ช่วยแวะไปหาหนู";
		mes "ที่ ^FF0000ห้องพักในหอพัก^000000 ทีนะคะ เอิ่ม หอพัก";
		mes "อยู่ในโบสถ์ที่อยู่ข้างหลัง";
		mes "สถาบันนี่เองค่ะ ตกลงไหม?";
		next;
		mes "[Elly]";
		mes "ห้องของหนูอยู่ด้านในสุด และ";
		mes "อยู่บน ^FF0000ชั้นสองฝั่งซ้ายมือ^000000 ค่ะ";
		mes "ช่วยใช้บันไดปีนขึ้นมานะคะ ตกลงไหม?";
		mes "หนูจะเปิดหน้าต่างทิ้งไว้";
		mes "ให้คุณ เพราะงั้นแค่มาหาหนูนะคะ?";
		next;
		mes "[Elly]";
		mes "เร็วเข้า เร็วเข้า อาจารย์";
		mes "กำลังมาแล้ว!";
		set KielHyreQuest,26;
	}
	else {
		mes "[Elly]";
		mes "เร็วเข้า เร็วเข้า อาจารย์";
		mes "กำลังมาแล้ว!";
	}
	close2;
	cutin "",255;
	end;
}

//----------------------------------------------------------------------------
// Elly's Window 
//----------------------------------------------------------------------------
yuno_fild08,69,185,0	script	Window#kh	111,{
	if (KielHyreQuest < 29) {
		mes "^3355FFคุณมองเห็นผ้าม่าน";
		mes "ที่ตกแต่งด้วยลวดลาย";
		mes "น่ารักผ่านทาง";
		mes "หน้าต่างของห้องนี้";
		mes "ซึ่งน่าจะเป็นห้อง";
		mes "ของเด็กผู้หญิง^000000";
		close;
	}
	else if (KielHyreQuest== 29) {
		mes "^3355FFที่นี่ต้องเป็นห้องของ Elly แน่ๆ";
		mes "ดูเหมือนจะไม่มีใคร";
		mes "อยู่ข้างในเลย เธอคงจะ";
		mes "ยังไม่กลับมา ตอนนี้คุณ";
		mes "ควรลองไปหาสิ่งที่ปู่ของเธอ";
		mes "ทิ้งไว้ให้ในห้องทำงาน (Study)";
		mes "ที่กระท่อมของพวกเขาก่อน^000000";
		close;
	}
	else if ((KielHyreQuest >= 30) && (KielHyreQuest <= 45)) {
		mes "^3355FFหน้าต่างที่เปิดแง้มไว้นิดๆ นี้";
		mes "ต้องนำไปสู่ห้องของ Elly แน่";
		mes "แม้ว่าเธอจะบอกให้คุณ";
		mes "หาบันไดเพื่อปีนเข้าทาง";
		mes "หน้าต่าง แต่คุณคงจะ";
		mes "หาไม่เจอหรอก คุณอาจจะ";
		mes "ปีนขึ้นไปตามท่อน้ำนั่นได้นะ...^000000";
		next;
		switch(select("ปีนท่อน้ำ:หาทางอื่น")) {
		case 1:
			if (rand(1,3) == 2) {
				mes "^3355FFคุณปีนขึ้นไปตาม";
				mes "ท่อน้ำ และแอบเข้าไป";
				mes "ในห้องของ Elly ได้สำเร็จ^000000";
				close2;
				warp "kh_school",185,185;
				end;
			}
			else {
				mes "^3355FFคุณพยายามจะปีน";
				mes "ท่อน้ำ แต่คุณดัน";
				mes "ตกลงมาและหัวกระแทก^000000";
				percentheal -10,0;
				close;
			}
		case 2:
			mes "^3355FFมันต้องมีทางอื่น";
			mes "ที่จะเข้าไปในห้องของ";
			mes "Elly นอกจากการปีน";
			mes "ท่อน้ำนี้สิ...^000000";
			close;

		}
	}
	else {
		mes "^3355FFคุณไม่สามารถปีนขึ้นไป";
		mes "บนหน้าต่างที่เปิดอยู่นั่นได้^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Elly (In Dormitory)
//----------------------------------------------------------------------------
kh_school,178,180,4	script	Elly	895,{
	if (checkweight(908,200) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "ตอนนี้คุณถือไอเทม";
		mes "มากเกินไป คุณต้อง";
		mes "ไปเพิ่มที่ว่างในช่องเก็บของ";
		mes "ให้มากกว่านี้ก่อน...^000000";
		close;
	}
	if (KielHyreQuest < 30) {
		mes "[Elly]";
		mes "คุณเป็นใครกันเนี่ย?";
		mes "ค-คุณไม่ได้รับอนุญาต";
		mes "ให้เข้ามาข้างในนี้นะ!";
		mes "ออกไปจากที่นี่เดี๋ยวนี้เลย!";
		close2;
		percentheal -99,0;
		warp "yuno_fild08",100,100;
		end;
	}
	else if (KielHyreQuest < 32) {
		mes "[Elly]";
		mes "......";
		mes ".........";
		mes "............";
		close;
	}
	else if (KielHyreQuest == 32) {
		mes "[Elly]";
		mes "......";
		mes ".........";
		mes "............";
		next;
		mes "^3355FFดูเหมือน Elly จะ";
		mes "ถูกสาป เธออยู่นิ่งสนิท";
		mes "และไร้ซึ่งชีวิตชีวา คุณต้อง";
		mes "ลองทำอะไรสักอย่าง แต่จะทำอะไรดีล่ะ?^000000";
		next;
		switch(select("ปลุกเธอด้วยการเขย่าตัว:ปลุกเธอด้วยการตะโกน:เมินเฉย")) {
		case 1:
			mes "^3355FFคุณจับไหล่ของ Elly";
			mes "และพยายามทำให้เธอ";
			mes "ตอบสนองด้วยการเขย่า";
			mes "ตัวเธออย่างแรง^000000";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Elly? Elly! ไม่นะ!";
			mes "กลับมาหาพวกเราสิ!";
			next;
			mes "^3355FFElly ไม่มีการตอบสนอง...^000000";
			close;
		case 2:
			input .@KHInput$;
			if (.@KHInput$ == "Wake up, Elly!") {
				mes "[Elly]";
				mes ".............";
				next;
				mes "^3355FFทันทีที่คุณพูดคำเหล่านั้น";
				mes "^000000Small Golden Key^3355FF";
				mes "และ ^000000Button^3355FF ก็หลุดออกมาจาก";
				mes "มือของ Elly ดูเหมือนว่าเธอจะ";
				mes "ตื่นขึ้นมา แต่เพียงแค่พริบตาเดียวเท่านั้น^000000";
				getitem 7493,1; //Golden_Key
				getitem 7494,1; //Kiel_Button
				set KielHyreQuest,34;
				close;
			}
			else {
				mes "[Elly]";
				mes "......";
				mes ".........";
				mes "............";
				next;
				mes "^3355FFElly ไม่มีการตอบสนอง...^000000";
				close;
			}
		case 3:
			mes "^3355FFตกลง...";
			mes "แต่ไม่ช้าก็เร็ว";
			mes "คุณควรจะพยายามถอน";
			mes "คำสาปที่ร่ายใส่ Elly นะ^000000";
			close;
		}
	}
	else if (KielHyreQuest == 34) {
		if (countitem(7491) < 1) {
			//Missing text, needs another run through.
			mes "^3355FFบางที Golden Key นี้อาจจะ^000000";
			mes "ใช้ไขบางอย่างใน^000000";
			mes "กระท่อมได้ ลองกลับไปดูอีกทีเถอะ^000000";
			close;
		}
		else {
			mes "^3355FFดูเหมือนว่า Golden Key";
			mes "ของ Elly จะเข้ากันได้พอดี";
			mes "กับรูไขกุญแจบนกล่อง Grey Box";
			mes "ที่คุณพบข้างในกระท่อมของ";
			mes "Kiel Hyre^000000";
			next;
			mes "^3355FFคุณเปิด Grey Box ด้วย Golden Key";
			mes "ได้สำเร็จ และพบ Blue Keycard";
			mes "พร้อมกับโน้ตที่ถูกพับไว้ข้างใน";
			mes "กล่องนั้น คุณรีบอ่านเนื้อหา";
			mes "ในโน้ตทันที...^000000";
			next;
			mes "Elly หลานรัก,";
			mes "ในที่สุด Kiehl ก็ทำลายข้อห้าม";
			mes "และพยายามจะเปลี่ยนพวกหลาน";
			mes "ให้กลายเป็นบางอย่างที่น่ากลัว";
			mes "^FFFFFF_^000000";
			mes "กว่าที่หลานจะได้อ่านข้อความนี้";
			mes "ชีวิตของปู่คงกำลังตกอยู่ในอันตราย";
			mes "ปู่จะรอดหรือไม่ขึ้นอยู่กับหลานแล้ว";
			mes "^FFFFFF_^000000";
			mes "หลานคงจะได้รู้เรื่องเองถ้าหาก";
			mes "ได้พบกับ Puppet แต่ปู่อยากจะบอก";
			mes "หลานด้วยตัวเอง: หลานไม่ใช่คน";
			mes "หลานจะได้รู้รายละเอียดถ้าหาก";
			mes "เข้าไปในโรงงานโดยใช้ทางเข้า";
			mes "ใกล้กับหลุมศพที่อยู่ติดกับโบสถ์";
			mes "จากนั้น ปู่อยากให้หลานตามหา";
			mes "Allysia ในห้องลับของโรงงาน";
			mes "ปู่ได้ลงทะเบียนชื่อของหลานไว้ใน";
			mes "ระบบความปลอดภัยของเธอแล้ว";
			mes "ไม่ต้องห่วง หวังว่า Allysia จะ";
			mes "มาช่วยปู่ได้ทันเวลา...";
			mes "^FFFFFF_^000000";
			mes "ขอโทษด้วยนะ,";
			mes "จากปู่";
			getitem 7495,1; //Blue_Key_Card
			delitem 7491,1; //Iron_Box
			set KielHyreQuest,36;
			close;
		}
	}
	else if (KielHyreQuest >= 36) {
		mes "^3355FFนี่คือจุดที่คุณ";
		mes "ได้ค้นพบข้อความ";
		mes "ที่ถูกล็อคไว้ใน Grey Box";
		mes "ข้อความต่อไปนี้ถูกเขียนไว้";
		mes "ในโน้ตโดยปู่ของ Elly";
		mes "นั่นก็คือ Kiel Hyre^000000";
		next;
		mes "Elly หลานรัก,";
		mes "ในที่สุด Kiehl ก็ทำลายข้อห้าม";
		mes "และพยายามจะเปลี่ยนพวกหลาน";
		mes "ให้กลายเป็นบางอย่างที่น่ากลัว";
		mes "^FFFFFF_^000000";
		mes "กว่าที่หลานจะได้อ่านข้อความนี้";
		mes "ชีวิตของปู่คงกำลังตกอยู่ในอันตราย";
		mes "ปู่จะรอดหรือไม่ขึ้นอยู่กับหลานแล้ว";
		mes "^FFFFFF_^000000";
		mes "หลานคงจะได้รู้เรื่องเองถ้าหาก";
		mes "ได้พบกับ Puppet แต่ปู่อยากจะบอก";
		mes "หลานด้วยตัวเอง: หลานไม่ใช่คน";
		mes "หลานจะได้รู้รายละเอียดถ้าหาก";
		mes "เข้าไปในโรงงานโดยใช้ทางเข้า";
		mes "ใกล้กับหลุมศพที่อยู่ติดกับโบสถ์";
		mes "จากนั้น ปู่อยากให้หลานตามหา";
		mes "Allysia ในห้องลับของโรงงาน";
		mes "ปู่ได้ลงทะเบียนชื่อของหลานไว้ใน";
		mes "ระบบความปลอดภัยของเธอแล้ว";
		mes "ไม่ต้องห่วง หวังว่า Allysia จะ";
		mes "มาช่วยปู่ได้ทันเวลา...";
		mes "^FFFFFF_^000000";
		mes "ขอโทษด้วยนะ,";
		mes "จากปู่";
		close;
	}
}

//----------------------------------------------------------------------------
// Cookie Basket
//----------------------------------------------------------------------------
kh_school,175,176,0	script	Cookie Basket#kh	111,{
	if (KielHyreQuest < 30) {
		mes "^3355FFมันคือตะกร้าคุกกี้";
		mes "ที่เต็มไปด้วยคุกกี้";
		mes "ที่ดูน่าอร่อย^000000";
		close;
	}
	else if (KielHyreQuest == 30) {
		mes "^3355FFนี่ต้องเป็นตะกร้า";
		mes "คุกกี้ของ Elly แน่ๆ";
		mes "ดูเหมือนว่าจะมีโน้ต";
		mes "ที่พับไว้สอดอยู่";
		mes "ระหว่างกองคุกกี้^000000";
		next;
		switch(select("อ่านโน้ต:เมินเฉย")) {
		case 1:
			mes ""+strcharinfo(0)+", ช่วยด้วย!";
			mes "มีผู้ชายคนหนึ่งแต่งกายชุดดำ";
			mes "เดินไปมาอยู่แถวนี้ และเขาก็";
			mes "ร่ายเวทมนตร์ประหลาดๆ ใส่ด้วย!";
			mes "เขาคือคนที่ทำให้คนกลายเป็น";
			mes "คนที่เย็นชาและไร้ชีวิตเหมือนกับ";
			mes "หุ่นเชิด! ฉันเริ่มกลัวแล้วนะ!";
			mes "^FFFFFF_^000000";
			mes "ฉันหวังว่าคุณจะได้อ่านโน้ตนี้...";
			mes "เขาวิ่งไล่ตามฉันมา แต่ฉันล็อค";
			mes "ตัวเองไว้ในห้อง ฉันกำลังจะ";
			mes "เปิดหน้าต่างทิ้งไว้เพื่อให้คุณ";
			mes "ยังหาฉันเจอ หวังว่าเขาจะ";
			mes "ไม่ร่ายคำสาปใส่ฉันนะ!";
			set KielHyreQuest,32;
			close;
		case 2:
			mes "^3355FFโน้ตนั่นคงไม่ได้";
			mes "เขียนขึ้นมาเพื่อ";
			mes "คุณคนเดียวหรอกมั้ง^000000";
			close;
		}
	}
	else if (KielHyreQuest < 108) {
		mes "^3355FFคุกกี้พวกนี้ยังไม่";
		mes "หายกรอบ แต่มันก็";
		mes "ไม่อุ่นอีกต่อไปแล้ว";
		mes "ถ้ามันไม่ได้อยู่ในอุณหภูมิห้อง";
		mes "มันก็ออกจะเย็นไปนิดหน่อย^000000";
		close;
	}
	else if (KielHyreQuest == 108) {
		mes "^3355FFขณะที่คุณจ้องมองตะกร้า";
		mes "คุกกี้ ลมจากหน้าต่างก็พัด";
		mes "มาโดนมัน จนเผยให้เห็น";
		mes "จดหมายที่วางอยู่ข้างใต้";
		mes "มันน่าจะถูกเขียนโดย";
		mes "Elly เพื่อให้คุณได้อ่าน^000000";
		next;
		mes "^333333ถึง "+strcharinfo(0)+" เพื่อนรัก,";
		mes " ";
		mes "ปกติอาจารย์ชอบดุฉันบ่อยๆ";
		mes "เพราะฉันทำผิดพลาดตั้งหลายครั้ง";
		mes "แต่วันนี้คุณนาย Lecollane ชม";
		mes "คุกกี้แสนอร่อยของฉันด้วยล่ะ!";
		mes "ทั้งหมดนี้ต้องขอบคุณคุณเลยนะเพื่อน";
		mes "ฉันดีใจมากจริงๆ ที่เราได้พบกัน:";
		mes "คุณสอนให้ฉันรู้ว่าโลกใบนี้";
		mes "ยังมีคนดีๆ หลงเหลืออยู่";
		mes "และฉันรู้ว่าคุณปู่จะต้องชอบ";
		mes "คุณแน่ๆ เลย แต่ว่านะ ฉันไม่";
		mes "รู้เลยว่าตอนนี้ท่านอยู่ที่ไหน...";
		mes " ";
		mes "สักวันหนึ่ง ฉันหวังว่าจะเป็น";
		mes "คนนิสัยดีให้ได้เหมือนคุณ";
		mes "เรามาติดต่อกันเรื่อยๆ และเป็น";
		mes "เพื่อนที่ดีต่อกันตลอดไปนะ ตกลงไหม?";
		mes " ";
		mes "รัก, Elly^000000";
		next;
		mes "^3355FFคุณรู้สึกเหมือนยังสัมผัส";
		mes "ได้ถึงความอบอุ่นและความใจดี";
		mes "ของ Elly จากตะกร้าคุกกี้";
		mes "ของเธอ คุณหยิบคุกกี้";
		mes "ขึ้นมาหนึ่งชิ้นแล้วเอาเข้าปาก";
		mes "รสชาติของมันช่างหวานปนขม^000000";
		set KielHyreQuest,109;
		next;
		input .@input$;
		mes "["+strcharinfo(0)+"]";
		mes ""+.@input$+"";
		mes "ได้เวลาต้องกลับแล้วล่ะ ฉัน";
		mes "อยู่ที่นี่นานกว่านี้ไม่ได้แล้ว";
		close2;
		warp "yuno_fild08",69,183;
		end;
	}
	else {
		mes "^3355FFคุกกี้ทั้งหมด";
		mes "ในตะกร้าใบนี้มัน";
		mes "หายกรอบแล้ว! ก็นะ";
		mes "มันก็ไม่น่าแปลกใจหรอก";
		mes "มันผ่านมานานมากแล้ว";
		mes "ตั้งแต่ตอนที่มันถูกอบ^000000";
		close;
	}
	end;
}

//----------------------------------------------------------------------------
// Elly's Window (In Dormitory)
//----------------------------------------------------------------------------
kh_school,188,185,0	script	Window#kh2	111,{
	warp "yuno_fild08",69,183;
	end;
}

//----------------------------------------------------------------------------
// Grave/Kiel Hyre dungeon entry
//----------------------------------------------------------------------------
yuno_fild08,71,170,0	script	Grave#kh	111,{
	if (KielHyreQuest < 36) {
		mes "^3355FFมันก็แค่หลุมศพธรรมดา";
		mes "มันอาจจะสำคัญกับ";
		mes "คุณในภายหลัง แต่ตอนนี้";
		mes "มันยังไม่มีประโยชน์อะไร";
		mes "กับคุณเท่าไหร่หรอก^000000";
		close;
	}
	else if (KielHyreQuest == 36) {
		if (countitem(7492) < 1) {
			mes "^3355FFมันก็แค่หลุมศพธรรมดา";
			mes "มันอาจจะสำคัญกับ";
			mes "คุณในภายหลัง แต่ตอนนี้";
			mes "มันยังไม่มีประโยชน์อะไร";
			mes "กับคุณเท่าไหร่หรอก^000000";
			close;
		}
		else {
			mes "^3355FFมีประตูรับซ่อนอยู่";
			mes "ใกล้กับหลุมศพนี้ ดูเหมือน";
			mes "ว่าจะมีช่องเสียบบางอย่าง";
			mes "และแป้นตัวเลขติดตั้ง";
			mes "เอาไว้ที่ประตูด้วย^000000";
			next;
			mes "^3355FFคุณควรจะใส่อะไรลงไป";
			mes "ในช่องเสียบดีล่ะ?^000000";
			next;
			input .@KHInput$;
			if (.@KHInput$ == "Yellow Keycard") {
				mes "^3355FFเสียงสัญญาณยืนยันทาง";
				mes "อิเล็กทรอนิกส์ดังขึ้นหลังจากเสียบ";
				mes "Yellow Keycard ตามด้วยเสียง";
				mes "ตอบรับอัตโนมัติที่ถามว่า:^000000";
				next;
				mes "[Security System]";
				mes "กรุณาใส่รหัสผ่าน";
				next;
				input .@KHInput$;
				next;
				if (.@KHInput$ == "4772961") {
					mes "[Security System]";
					mes "ยืนยันรหัสผ่านถูกต้อง";
					mes "ยินดีต้อนรับ คุณ Kiel Hyre";
					next;
					mes "^3355FFคุณได้ยินเสียงปี๊บที่ ";
					mes "น่าฟังอีกครั้ง และ";
					mes "ทางลับก็เปิดออก^000000";
					set KielHyreQuest,38;
					close;
				}
				else {
					mes "[Security System]";
					mes "รหัสผ่านไม่ถูกต้อง";
					mes "กรุณาลองใหม่อีกครั้ง";
					close;
				}
			}
			else {
				mes "^3355FFไม่ว่าคุณจะพยายาม";
				mes "ใส่อะไรลงไปในช่องนั้น";
				mes "มันก็ดูจะไม่ทำงานเลย...^000000";
				close;
			}
		}
	}
	else if ((KielHyreQuest >= 38) && (KielHyreQuest < 106)) {
		mes "^3355FFประตูทางเข้าสู่";
		mes "โรงงานเปิดกว้างแล้ว^000000";
		next;
		switch(select("เข้าไป:ยกเลิก")) {
		case 1:
			warp "kh_dun01",3,230;
			end;
		case 2:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}

	else if (KielHyreQuest >= 106) {
		if (countitem(7509) < 1) {
			mes "^3355FFทางเข้าลับ";
			mes "ถูกปิดตายแล้วในตอนนี้^000000";
			close;
		}
		else {
			mes "เมื่อคุณเข้าไปใกล้";
			mes "หลุมศพ มันก็เริ่ม";
			mes "ส่งแสงกะพริบออกมา^000000";
			next;
			switch(select("ใช้ ^0000FFLuxurious Keycard^000000:เมินเฉย")) {
			case 1:
				mes "เมื่อคุณใช้";
				mes "Luxurious Keycard";
				mes "ทางลับก็เปิดออก^000000";
				next;
				switch(select("เข้าไป:ยกเลิก")) {
				case 1:
					warp "kh_dun01",3,230;
					end;
				case 2:
					mes "......";
					mes ".........";
					mes "............";
					close;
				}
			case 2:
				mes "......";
				mes ".........";
				mes "............";
				close;
			}
		}
	}
}

//============================================================================
//Kiel Hyre Cottage NPCs
//============================================================================

//----------------------------------------------------------------------------
// Cottage Keeper
//----------------------------------------------------------------------------
yuno_fild02,93,210,4	script	Cottage Keeper#kh	85,{
	if ((KielHyreQuest < 12) || (KielHyreQuest > 12)) {
		mes "[Cottage Keeper]";
		mes "ที่นี่เป็นทรัพย์สินส่วนบุคคล";
		mes "โปรดอย่าเข้ามาในพื้นที่นี้";
		mes "นอกจากคุณจะได้รับอนุญาต";
		close;
	}
	else if (KielHyreQuest == 12) {
		mes "[Cottage Keeper]";
		mes "ที่นี่เป็นทรัพย์สินส่วนบุคคล";
		mes "โปรดอย่าเข้ามาในพื้นที่นี้";
		mes "นอกจากคุณจะได้รับอนุญาต";
		next;
		switch(select("ฉันมีนัดกับคุณ Kiel Hyre น่ะ:รับทราบ")) {
		case 1:
			mes "[Cottage Keeper]";
			mes "คุณมีนัดกับ";
			mes "ท่าน Kiel Hyre อย่างนั้นเหรอ?";
			mes "เอิ่ม คุณแน่ใจเหรอ?";
			next;
			switch(select("ใช่:ไม่")) {
			case 1:
				mes "[Cottage Keeper]";
				mes "มันต้องมีความผิดพลาด";
				mes "อะไรบางอย่างแน่ๆ คุณ Hyre";
				mes "จะไม่จากไปไหนถ้าหาก";
				mes "เขามีนัดที่ต้องรักษาไว้...";
				set KielHyreQuest,14;
				close;
			case 2:
				mes "[Cottage Keeper]";
				mes "ก็นะ ถ้าคุณไม่มีนัด";
				mes "ผมไม่คิดว่าคุณจะ";
				mes "สามารถพบคุณ Hyre ได้หรอก";
				close;
			}
		case 2:
			mes "[Cottage Keeper]";
			mes "ลาก่อน";
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage Door (left)
//----------------------------------------------------------------------------
yuno_fild02,75,218,0	script	Door#kh2	111,{
	if (KielHyreQuest < 16) {
		mes "^3355FFประตูนี้ล็อคอยู่";
		mes "ถ้าคนข้างในไม่ยอม";
		mes "เปิดให้ คุณก็ต้องใช้";
		mes "กุญแจที่ถูกต้องเพื่อไขมัน^000000";
		close;
	}
	if (KielHyreQuest == 16) {
		mes "^3355FFประตูนี้ล็อคอยู่";
		mes "ถ้าคนข้างในไม่ยอม";
		mes "เปิดให้ คุณก็ต้องใช้";
		mes "กุญแจที่ถูกต้องเพื่อไขมัน^000000";
		next;
		switch(select("ปลดล็อค:ยกเลิก")) {
		case 1:
			mes "^3355FFคุณปลดล็อคประตูด้วยกุญแจ";
			mes "ที่ Elly ให้มา และตอนที่คุณ";
			mes "ผลักประตูเปิดออก ก็มีโน้ตพับ";
			mes "หล่นลงมาจากด้านบนของประตู";
			mes "มีข้อความต่อไปนี้เขียนไว้";
			mes "ในโน้ตที่เขียนขึ้นอย่างลวกๆ นี้";
			next;
			mes "6 ไปข้างหน้า,";
			mes "3 ไปทางซ้าย,";
			mes "3 ไปข้างหน้า,";
			mes "4 ไปทางซ้าย";
			close2;
			set KielHyreQuest,18;
			warp "kh_vila",188,18;
			end;
		case 2:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}
	else {
		mes "^3355FFประตูเปิดอยู่^000000";
		next;
		switch(select("เข้าไป:ยกเลิก")) {
		case 1:
			warp "kh_vila",188,18;
			end;
		case 2:
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage Door (Right)
//----------------------------------------------------------------------------
yuno_fild02,109,218,0	script	Door#kh1	111,{
	if (KielHyreQuest != 16) {
		mes "^3355FFประตูนี้ล็อคอยู่";
		mes "ถ้าคนข้างในไม่ยอม";
		mes "เปิดให้ คุณก็ต้องใช้";
		mes "กุญแจที่ถูกต้องเพื่อไขมัน^000000";
		close;
	}
	if (KielHyreQuest == 16) {
		mes "^3355FFประตูนี้ล็อคอยู่";
		mes "ถ้าคนข้างในไม่ยอม";
		mes "เปิดให้ คุณก็ต้องใช้";
		mes "กุญแจที่ถูกต้องเพื่อไขมัน^000000";
		next;
		switch(select("เปิด:ยกเลิก")) {
		case 1:
			mes "^3355FFคุณไม่มีกุญแจที่";
			mes "สามารถใช้ปลดล็อค";
			mes "ประตูบานนี้ได้^000000";
			close;
		case 2:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}
}


//----------------------------------------------------------------------------
// Store room interior; Wall
//----------------------------------------------------------------------------
kh_vila,191,14,0	script	Wall#kh	139,1,1,{
	if (KielHyreQuest < 28) {
		mes "^3355FFมันก็แค่กำแพงธรรมดา";
		mes "มันไม่ได้ขวางทางคุณ";
		mes "เป็นพิเศษแต่อย่างใด^000000";
		close;
	}
	if (KielHyreQuest >= 28) {
		mes "^3355FFกำแพงตอนนี้เปิดอยู่";
		mes "เผยให้เห็นทางลับ";
		mes "ที่ซ่อนเอาไว้^000000";
		next;
		switch(select("เข้าไป:ยกเลิก")) {
		case 1:
			warp "kh_vila",17,177;
			end;
		case 2:
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Store room interior; books
//----------------------------------------------------------------------------
kh_vila,184,20,0	script	Book#kh1::BookKHQ1	111,{
	if (KielHyreQuest != 26) {
		mes "^3355FFชั้นวางหนังสือนี้^000000";
		mes "^3355FFอัดแน่นไปด้วยหนังสือ^000000";
		mes "^3355FFเล่มใหญ่และปกแข็งจำนวนมาก^000000";
		close;
	}
	else if (KielHyreQuest == 26) {
		if (rand(1,10) == 8) {
			mes "^3355FFคุณเอื้อมมือไปหยิบหนังสือ";
			mes "เล่มหนึ่งจากชั้นวางโดยไม่ได้คิด";
			mes "ในขณะที่คุณดึงมันเข้าหาตัว";
			mes "กำแพงก็เลื่อนเปิดออกเพื่อ";
			mes "เผยให้เห็นทางลับที่ซ่อนอยู่^000000";
			set KielHyreQuest,28;
			specialeffect EF_READYPORTAL2,AREA,"Wall#kh";
			close;
		}
		else {
			mes "^3355FFชั้นวางหนังสือนี้";
			mes "อัดแน่นไปด้วยหนังสือ";
			mes "เล่มใหญ่และปกแข็งจำนวนมาก^000000";
			close;
		}

	}

}
kh_vila,181,20,0	duplicate(BookKHQ1)	Book#kh2	111
kh_vila,178,20,0	duplicate(BookKHQ1)	Book#kh3	111
kh_vila,175,19,0	duplicate(BookKHQ1)	Book#kh4	111

//----------------------------------------------------------------------------
// Store room interior; Letter to Elly on the floor.
//----------------------------------------------------------------------------
kh_vila,179,11,0	script	Letter#kh	-1,1,1,{
OnTouch:
	if (KielHyreQuest == 18) {
		if (checkweight(7490,1) == 0) {
			mes "^3355FFรอสักครู่...!";
			mes "มีบางอย่างอยู่บนพื้นตรงนี้";
			mes "แต่คุณเก็บมันไม่ได้เพราะ";
			mes "ตอนนี้คุณแบกของ";
			mes "มากเกินไปแล้ว^000000";
			close;
		}
		mes "^3355FFคุณพบจดหมายฉบับหนึ่ง";
		mes "บนพื้น แน่นอนว่าคุณเก็บ";
		mes "มันขึ้นมา แม้ว่าจริงๆ แล้ว";
		mes "มันจะไม่ได้จ่าหน้าซอง";
		mes "ถึงคุณก็ตาม^000000";
		getitem 7490,1; //Kyll_Hire_Letter
		set KielHyreQuest,20;
		close;
	}
	else{
		mes "^3355FFคุณเข้ามาในห้องแล้ว^000000";
		close;
	}
	end;
}

//----------------------------------------------------------------------------
// Cottage interior, kitchen; Box (Pet Food vending machine)
//----------------------------------------------------------------------------
kh_vila,16,175,0	script	Box#khp1	111,{
	mes "^FFFFFF##^000000*อร่อย-มีคุณค่า-รสเลิศ*";
	mes "*เครื่องจำหน่ายอาหารสัตว์เลี้ยงแสนน่ารัก*";
	mes "อาหารที่ดีที่สุดสำหรับสัตว์เลี้ยงแสนน่ารักของคุณ";
	mes "ซึ่งเหนือกว่าอาหารสัตว์เลี้ยงทั่วไป";
	mes "ที่คุณสามารถหาซื้อได้ตามท้องตลาด!";
	mes "^FFFFFF_^000000";
	mes "ราคา: 1,100 zeny (ถูกมาก!)";
	next;
	switch(select("ซื้อเลย!:ยกเลิก")) {
	case 1:
		if (Zeny < 1100) {
			mes "^3355FFน่าเสียดายที่คุณ";
			mes "มีเงินไม่พอจะหยอด";
			mes "ตู้ขายของอัตโนมัตินี้^000000";
			close;
		}
		else {
			mes "^3355FFโอ้ ไม่นะ...!^000000";
			mes "^3355FF1,100 zeny ดูเหมือนจะ";
			mes "ค่อนข้างแพงสำหรับอาหารสัตว์";
			mes "แต่ถ้ามันดีกว่าของปกติล่ะก็";
			mes "มันก็น่าลองเสี่ยงดูสักหน่อย^000000";
			next;
			mes "^3355FFโอ้ ไม่นะ...!";
			mes "มันไม่มีอะไรพิเศษ";
			mes "เกี่ยวกับมันเลยสักนิด!";
			mes "มันก็แค่อาหารสัตว์";
			mes "เลี้ยงธรรมดาๆ นี่นา!";
			set Zeny, Zeny-1100;
			getitem 537,1;	//Pet_Food
			close;
		}
	case 2:
		mes "^3355FFตู้ขายของอัตโนมัตินี้";
		mes "ดูน่าสงสัยและมีพิรุธ";
		mes "ด้วยเหตุผลบางอย่าง^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, kitchen; Apple Box (Useless?)
//----------------------------------------------------------------------------
kh_vila,30,184,0	script	Apple Box#khp1	111,{
	mes "^3355FFคุณพบกล่องที่เต็มไปด้วย";
	mes "แอปเปิ้ลสุกที่ดูน่าอร่อย^000000";
	next;
	switch(select("เอากล่องไป:วางทิ้งไว้")) {
	case 1:
		mes "^3355FFไม่นะ...! เดี๋ยวก่อน!";
		mes "มีบางอย่างผิดปกติ!";
		mes "ไม่ว่าคุณจะทำอะไร";
		mes "ห้ามเอากล่องนี้ไปเด็ดขาด!^000000";
		next;
		mes "^3355FFและแล้ว เสียงในใจ";
		mes "หรือด้านมืดในตัวคุณ (Shadow)";
		mes "ก็ได้ยับยั้งไม่ให้คุณ";
		mes "หยิบกล่องใบนี้ไป^000000";
		close;
	case 2:
		mes "^3355FFมีบางอย่างผิดปกติ";
		mes "กับแอปเปิ้ลกล่องนี้^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, dining room; Map
//----------------------------------------------------------------------------
kh_vila,44,126,0	script	Map#khp1	111,{
	if ((KHCottagePoem1 < 2) && (KielHyreQuest < 30)) {
		mes "^3355FFแผนที่โลกที่สวยงามตระการตา";
		mes "ซึ่งลงรายละเอียดเกี่ยวกับอาณาจักร";
		mes "Rune-Midgarts, สาธารณรัฐ Schwarzwald,";
		mes "รวมถึงประเทศอื่นทางทิศตะวันตก";
		mes "ที่มีชื่อที่คุณไม่คุ้นเคย";
		mes "ถูกแปะไว้บนกำแพงนี้^000000";
		next;
		mes "^3355FFขณะที่คุณตรวจสอบ";
		mes "แผนที่โลกอย่างใกล้ชิด";
		mes "คุณพบว่ามีบางอย่าง";
		mes "ถูกซ่อนไว้ข้างใต้แผนที่^000000";
		switch(select("เมินเฉย:ตรวจสอบ")) {
		case 1:
			mes "^3355FFอะไรก็ตามที่อาจจะ";
			mes "ซ่อนอยู่ข้างใต้แผนที่";
			mes "นี้คงจะไม่สำคัญพอ";
			mes "ที่คุณจะตรวจสอบหรอก^000000";
			close;
		case 2:
			mes "^3355FFน่าเสียดายที่คุณไม่สามารถ";
			mes "ดูสิ่งที่อยู่ใต้แผนที่ได้";
			mes "เพราะมันถูกแปะติดกับกำแพง";
			mes "คุณต้องหาวิธีบางอย่าง";
			mes "เพื่อให้กาวมันละลายตัว";
			mes "โดยไม่ทำให้แผนที่เสียหาย...^000000";
			set KHCottagePoem1,1;
			close;
		}
	}
	else  if ((KHCottagePoem1 == 2) && (KielHyreQuest < 30)) {
		mes "^3355FFคุณยกหม้อที่มีของเหลว";
		mes "ร้อนระอุจนมีไอน้ำพุ่งออกมา";
		mes "ไปไว้ใกล้กับแผนที่โลก";
		mes "เมื่อกาวบนกำแพงได้รับ";
		mes "ความชื้น แผนที่ก็ค่อยๆ";
		mes "เริ่มลอกตัวออกมา^000000";
		next;
		mes "^3355FFแผนที่ที่ลอกออกเผยให้เห็น";
		mes "เศษกระดาษที่ถูกพับไว้";
		mes "ซึ่งซ่อนอยู่ข้างใต้ คุณ";
		mes "หยิบกระดาษแผ่นนั้นมา แล้วรีบ";
		mes "รีดแผนที่ให้เรียบติดกับกำแพง";
		mes "อีกครั้ง มีข้อความหนึ่ง";
		mes "ถูกเขียนไว้บนเศษกระดาษแผ่นนั้น^000000";
		next;
		mes "^0000FFเธอจะอยู่ในสถานที่";
		mes "ที่หนาวเย็นราวกับขั้วโลก";
		mes "เมื่อบ่อน้ำเหือดแห้ง";
		mes "และผืนดินแตกระแหง";
		mes "เส้นทางสู่หัวใจของเธอ หัวใจ";
		mes "ที่โปร่งใสราวกับคริสตัล";
		mes "จะเปิดออก^000000";
		next;
		mes "^3355FFฉันจะต้องสู้กับงูสี่ตัว";
		mes "ด้วยดาบสี่เล่มเพื่อตามหาเธอ";
		mes "ดาบเล่มแรกคือความรัก";
		mes "ดาบเล่มที่สองคือความสิ้นหวัง";
		mes "ดาบเล่มที่สามคือความโกรธแค้น";
		mes "ดาบเล่มที่สี่คือความหวัง";
		mes "เพื่อตามหาเธอ เพื่อช่วยเธอ^000000";
		next;
		mes "^3355FF...............................";
		mes "ความหมายที่ลึกซึ้ง";
		mes "ของบทกวีนี้ หากว่ามัน";
		mes "มีอยู่จริง คุณก็ยังนึกไม่ออก^000000";
		set KHCottagePoem1,3;
		close;
	}
	else  if ((KHCottagePoem1 > 2) || (KielHyreQuest >= 30)) {
		mes "^3355FFนี่คือจุดที่คุณพบ";
		mes "กระดาษที่เขียน";
		mes "บทกวีเอาไว้ บางที";
		mes "มันอาจจะเป็นความคิดที่ดีที่จะ";
		mes "ทบทวนความจำและ";
		mes "อ่านบทกวีนั้นอีกครั้ง^000000";
		next;
		switch(select("อ่าน:ยกเลิก")) {
		case 1:
			mes "^0000FFเธอจะอยู่ในสถานที่";
			mes "ที่หนาวเย็นราวกับขั้วโลก";
			mes "เมื่อบ่อน้ำเหือดแห้ง";
			mes "และผืนดินแตกระแหง";
			mes "เส้นทางสู่หัวใจของเธอ หัวใจ";
			mes "ที่โปร่งใสราวกับคริสตัล";
			mes "จะเปิดออก^000000";
			next;
			mes "^3355FFฉันจะต้องสู้กับงูสี่ตัว";
			mes "ด้วยดาบสี่เล่มเพื่อตามหาเธอ";
			mes "ดาบเล่มแรกคือความรัก";
			mes "ดาบเล่มที่ anarchist สองคือความสิ้นหวัง";
			mes "ดาบเล่มที่สามคือความโกรธแค้น";
			mes "ดาบเล่มที่สี่คือความหวัง";
			mes "เพื่อตามหาเธอ เพื่อช่วยเธอ^000000";
			next;
			mes "^3355FF...............................";
			mes "ความหมายที่ลึกซึ้ง";
			mes "ของบทกวีนี้ หากว่ามัน";
			mes "มีอยู่จริง คุณก็ยังนึกไม่ออก^000000";
			close;
		case 2:
			mes "^3355FFไม่มีความจำเป็นที่คุณ";
			mes "จะต้องอ่านบทกวีนี้ซ้ำ";
			mes "คุณมันอัจฉริยะชัดๆ!^000000";
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage interior, kitchen; Pot
//----------------------------------------------------------------------------
kh_vila,33,184,0	script	Pot#khp1	111,{
	if (KHCottagePoem1 < 1) {
		mes "^3355FFคุณพบหม้อใบหนึ่ง";
		mes "ที่เต็มไปด้วยของเหลว";
		mes "ร้อนจัดจนเดือดปุดๆ^000000";
		close;
	}
	else if (KHCottagePoem1 == 1) {
		mes "^3355FFคุณพบหม้อใบหนึ่ง";
		mes "ที่เต็มไปด้วยของเหลว";
		mes "ร้อนจัดจนเดือดปุดๆ";
		mes "ไอน้ำ... นั่นไงที่คุณสามารถ";
		mes "นำไปใช้ละลายกาวบน";
		mes "แผนที่ได้... คุณนี่อัจฉริยะจริงๆ!^000000";
		next;
		switch(select("ลองดู:นั่นน่ะเหรอ? ไม่ได้ผลหรอก!")) {
		case 1:
			mes "^3355FFคุณหยิบหม้อที่";
			mes "กำลังเดือดขึ้นมา แต่";
			mes "มือของคุณโดนลวกเล็กน้อย";
			mes "ด้วยความประมาท";
			set KHCottagePoem1,2;
			close;

		case 2:
			mes "^3355FFไม่นะ ไม่...";
			mes "เราลองหาทาง";
			mes "อื่นดูดีกว่า^000000";
			close;
		}
	}
	else if ((KHCottagePoem1 > 1) || (KielHyreQuest >= 30)){
		mes "^3355FFนี่คือจุดที่คุณ";
		mes "หยิบหม้อที่เต็มไปด้วย";
		mes "ของเหลวร้อนระอุขึ้นมา^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, fire place; Calabash
//----------------------------------------------------------------------------
kh_vila,14,55,0	script	Calabash#khp1	111,{
	if ((countitem(7329) < 1) && (countitem(7516) < 1) && (countitem(7491) < 1) && (KielHyreQuest < 38)) {
		if (checkweight(7329,1) == 0) {
			mes "^3355FFนั่นคือผลน้ำเต้า";
			mes "(Calabash) ที่ดูดีมาก คุณอาจจะ";
			mes "ได้อะไรบางอย่างจากมัน...";
			mes "แต่ก่อนอื่นคุณควรจะไป";
			mes "จัดการน้ำหนักส่วนเกินออกไปก่อน";
			mes "น้ำหนักที่ว่า หมายถึงไอเทมน่ะ^000000";
			close;
		}
		mes "^3355FFมันคือผลน้ำเต้า";
		mes "ที่ดูมีราคามาก--";
		mes "หรือจะเรียกสั้นๆ";
		mes "แบบบ้านๆ ก็คือ ''น้ำเต้า''";
		mes "คุณจะทำอย่างไรดี?^000000";
		next;
		switch(select("ทุบน้ำเต้าให้เปิด:มองเข้าไปข้างในน้ำเต้า:เมินเฉย")) {
		case 1:
			mes "^3355FFคุณทุบน้ำเต้าใบนั้น";
			mes "ให้เปิดออกไม่ได้หรอก...";
			mes "คุณเป็นฮีโร่ ไม่ใช่พวกชอบทำลายข้าวของ";
			mes "ก็นะ ถ้าการทำลายข้าวของครั้งนี้";
			mes "ถือเป็นการทำเพื่อส่วนรวม";
			mes "มันก็น่าจะพอรับได้อยู่^000000";
			close;
		case 2:
			mes "^3355FFคุณค่อยๆ สอดมือ";
			mes "เข้าไปในผลน้ำเต้า และ";
			mes "คลำไปรอบๆ ด้วยนิ้วมือ";
			mes "จนกระทั่งคุณคว้า";
			mes "Old Bronze Key ออกมาได้^000000";
			getitem 7329,1; //Old_Bronze_Key
			close;
		case 3:
			mes "^3355FFข้างในคงไม่มี";
			mes "อะไรอยู่หรอกมั้ง^000000";
			close;
		}
	}
	else {
		mes "^3355FFนี่คือผลน้ำเต้าที่ดู";
		mes "มีราคาซึ่งคุณเคย";
		mes "ได้รับ Old Bronze Key";
		mes "มาแล้ว ตอนนี้มันไม่มี";
		mes "ประโยชน์สำหรับคุณแล้ว^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, garden; Pool
//----------------------------------------------------------------------------
kh_vila,39,41,0	script	Pool#khp1	111,{
	if ((KHCottagePoem1 < 3) && (KielHyreQuest < 30)) {
		mes "^3355FFคุณพบสระน้ำสุดหรู";
		mes "ที่เต็มไปด้วยน้ำใสสะอาด^000000";
		close;
	}
	else if ((KHCottagePoem1 == 3) && (KielHyreQuest < 30)) {
		mes "^3355FFคุณพบสระน้ำสุดหรู";
		mes "ที่เต็มไปด้วยน้ำใสสะอาด";
		mes "พร้อมกับรูปปั้นสิงโตที่สะดุดตา";
		mes "ซึ่งมีคันโยกอยู่สองอัน^000000";
		next;
		switch(select("ดึงคันโยก:ยกเลิก")) {
		case 1:
			mes "คุณต้องการจะดึง";
			mes "คันโยกอันไหนก่อน?";
			next;
			switch(select("คันโยกขวา:คันโยกซ้าย")) {
			case 1:
				mes "^3355FFคุณดึงคันโยกขวา";
				mes "ทำให้น้ำพุ่งออกมาจาก";
				mes "ปากสิงโต มันดูเท่ไม่เบาเลยล่ะ~^000000";
				close;
			case 2:
				mes "^3355FFทันทีที่คุณดึงคันโยก";
				mes "ซ้าย น้ำในสระก็ค่อยๆ";
				mes "ระบายออกไปจนสระว่างเปล่า";
				mes "และคุณก็มองเห็นชั้นตะไคร่น้ำ";
				mes "สีเขียวปกคลุมก้นสระอยู่^000000";
				next;
				switch(select("เมินเฉย:ตรวจสอบ")) {
				case 1:
					mes "^3355FFคุณตัดสินใจว่า";
					mes "สระน้ำที่ไม่มีน้ำ";
					mes "ก็เป็นเพียงแค่หลุม";
					mes "ธรรมดาๆ หลุมหนึ่ง^000000";
					close;
				case 2:
					mes "^3355FFขณะที่คุณมองผ่าน";
					mes "ตะไคร่น้ำที่เปียกชื้นที่";
					mes "ก้นสระ คุณก็บังเอิญ";
					mes "ไปพบกับปุ่มขนาดเล็ก";
					mes "ที่มีลักษณะเฉพาะตัว^000000";
					next;
					switch(select("กดปุ่ม:ไม่กดปุ่ม")) {
					case 1:
						mes "^3355FFคุณกดปุ่มลงไป";
						mes "ซึ่งดูเหมือนจะส่งผลให้";
						mes "เกิดเสียงประหลาดดังมาจาก";
						mes "ทางบันไดที่โถงทางเดิน^000000";
						set KHCottagePoem1,4;
						close;
					case 2:
						mes "^3355FFคุณไม่กดปุ่มนี้ดีกว่า";
						mes "ศัตรูของคุณอาจจะซ่อนมัน";
						mes "เอาไว้อย่างดีเพื่อให้คุณมาพบ";
						mes "มันต้องเป็นกับดักที่";
						mes "ชั่วร้ายบางอย่างแน่ๆ^000000";
						close;
					}
				}
			}
		case 2:
			mes "^3355FFคุณตัดสินใจที่จะ";
			mes "ไม่ดึงคันโยกใดๆ เลย^000000";
			close;
		}
	}
	else if ((KHCottagePoem1 > 3) || (KielHyreQuest >= 30)) {
		mes "^3355FFนี่คือจุดที่คุณกด";
		mes "ปุ่มเล็กๆ ที่ทำให้เกิด";
		mes "เสียงประหลาดดังมาจาก";
		mes "ทางบันไดใกล้กับโถงทางเดิน";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Vicious Dog
//----------------------------------------------------------------------------
kh_vila,181,178,4	script	Vicious Dog#khp1	81,7,3,{
OnTouch:
	mes "*แฮ่~*";
	next;
	mes "^3355FFสุนัขที่ดูดุร้ายอย่างมาก";
	mes "กำลังจ้องเขม็งมาที่คุณ";
	mes "คุณจะผ่านมันไปได้จริงๆ";
	mes "เหรอโดยไม่ได้รับบาดเจ็บ?^000000";
	next;
	switch(select("เดินหน้าต่อไป:วิ่งหนี")) {
	case 1:
		if (countitem(537) >= 1) {
			mes "^3355FFเดี๋ยวก่อน! บางทีคุณอาจ";
			mes "ใช้อาหารเพื่อปลอบประโลม";
			mes "เจ้าสัตว์ร้ายตัวนี้ได้ ทำไมคุณ";
			mes "ไม่ลองให้อาหารสัตว์ (Pet Food)";
			mes "แก่เขาล่ะ แล้วมาดูว่าจะเกิดอะไรขึ้น?^000000";
			next;
			switch(select("ให้อาหารสัตว์:ไม่ได้ผลหรอก!")) {
			case 1:
				mes "^3355FFคุณค่อยๆ โยนอาหารสัตว์";
				mes "ไปทางสุนัขตัวนั้น หางของมัน";
				mes "ส่ายไปมาอย่างแรงขณะที่มัน";
				mes "สอยอาหารเข้าไป คุณควรรีบ";
				mes "ผ่านสุนัขตัวนี้ไปตอนนี้เลย";
				mes "ในขณะที่มีโอกาส!^000000";
				delitem 537,1; //Pet_Food
				close2;
				warp "kh_vila",173,182;
				end;
			case 2:
				break;
			}
		}
		mes "^3355FFคุณค่อยๆ เดินเข้าไป";
		mes "ใกล้สุนัข แต่มันก็ยัง";
		mes "ไม่หยุดขู่กรรโชกใส่คุณ";
		mes "คุณพยายามจะวิ่งผ่านสุนัข";
		mes "แต่ตัวมันก็ขวางทางคุณไว้";
		mes "ทุกทาง จะทำอย่างไรดี?^000000";
		next;
		mes "[Vicious Dog]";
		mes "บ๊อก บ๊อก!";
		mes "บ๊อก บ๊อก!";
		mes "บ๊อก บ๊อก บ๊อก!";
		next;
		mes "^3355FFเจ้าสุนัขไล่กวดคุณ";
		mes "ลงไปชั้นล่างอย่างกับ";
		mes "ผู้แพ้ที่น่าเวทนาเลยล่ะ^000000";
		close2;
		warp "kh_vila",126,70;
		end;
	case 2:
		mes "^3355FFรีบหนีออกจากที่นี่เถอะ!^000000";
		close2;
		warp "kh_vila",126,70;
		end;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Drawer, first room nightstand
//----------------------------------------------------------------------------
kh_vila,115,186,0	script	Drawer#khp1	111,{
	if (checkweight(7492,1) == 0) {
		mes "^3355FFมีบางอย่างอยู่ข้างใน";
		mes "ลิ้นชักนี้ แต่คุณหยิบมันไป";
		mes "ไม่ได้เพราะคุณแบกของ";
		mes "มากเกินไปแล้ว บางทีคุณควร";
		mes "แวะไปหาพนักงาน Kafra";
		mes "เพื่อฝากของก่อนนะ...^000000";
		close;
	}
	if ((countitem(7492) < 1) && (KielHyreQuest <= 36)) {
		mes "^3355FFคุณพบลิ้นชักเก่าใบหนึ่ง";
		mes "^ที่ถูกปิดสนิทเอาไว้";
		mes "^หากคุณเปิดมันออก คุณ";
		mes "^อาจจะพบกับบางอย่าง";
		mes "^ข้างในนั้น หรือมันอาจจะ";
		mes "^ว่างเปล่าก็ได้ ใครจะรู้?^000000";
		next;
		switch(select("เปิดลิ้นชัก:เมินเฉย")) {
		case 1:
			mes "^3355FFคุณได้รับ Yellow";
			mes "Keycard จากด้านใน";
			mes "ลิ้นชัก การเปิดลิ้นชักนั้น";
			mes "กลายเป็นสิ่งที่คุ้มค่าจริงๆ^000000";
			getitem 7492,1; //Yellow_Key_Card
			close;
		case 2:
			mes "^3355FFลืมเรื่องเปิดลิ้นชัก";
			mes "นั่นไปเถอะ โธ่เอ๋ย";
			mes "เปิดไปจะไปมีประโยชน์อะไร?^000000";
			close;
		}
	}
	else {
		mes "^3355FFนี่คือจุดที่คุณพบ";
		mes "Yellow Keycard";
		mes "ตอนนี้ลิ้นชักว่างเปล่าแล้ว^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Box
//----------------------------------------------------------------------------
kh_vila,107,126,0	script	Box#khp2	111,{
	if ((countitem(7329) < 1) && (countitem(7516) < 1) && (countitem(7491) < 1) && (KielHyreQuest < 38)) {
		mes "^3355FFมีกล่องที่ดูแข็งแรงวาง";
		mes "อยู่บนพื้น ซึ่งข้างในมี";
		mes "กล่องใบที่เล็กกว่าและ";
		mes "ถูกล็อคไว้ถูกวางเอาไว้อีกที^000000";
		close;
	}
	else if ((countitem(7329) >= 1) && (countitem(7516) < 1) && (countitem(7491) < 1) && (KielHyreQuest < 38)) {
		mes "^3355FFมีกล่องที่ดูแข็งแรงวาง";
		mes "อยู่บนพื้น ซึ่งข้างในมี";
		mes "กล่องใบที่เล็กกว่าและ";
		mes "ถูกล็อคไว้ถูกวางเอาไว้อีกที";
		mes "บางทีคุณอาจใช้ Old Bronze Key";
		mes "ของคุณในการปลดล็อคมันได้^000000";
		next;
		switch(select("ใช้ Old Bronze Key:ไม่ล่ะ มันไม่มีทางได้ผลหรอก")) {
		case 1:
			mes "^3355FFสัญชาตญาณของคุณถูกต้อง!";
			mes "Old Bronze Key สามารถ";
			mes "ปลดล็อคกล่องนั้นได้จริงๆ! คุณ";
			mes "เปิดกล่องข้างในแล้วได้รับ";
			mes "Green Keycard ที่เคยถูก";
			mes "ล็อคเอาไว้ข้างในนั้น";
			getitem 7516,1; //Green_Key_Card
			delitem 7329,1; //Old_Bronze_Key
			close;
		case 2:
			mes "^3355FFอะไรนะ...?";
			mes "อะไรนะ? การใช้กุญแจ";
			mes "เพื่อไขแม่กุญแจงั้นเหรอ?";
			mes "โธ่เอ๋ย นั่นมันความคิด";
			mes "ที่บ้าบอที่สุดเลย!^000000";
			close;
		}
	}
	else {
		mes "^3355FFนี่คือกล่องที่คุณ";
		mes "ได้รับ Green Keycard";
		mes "มาแล้ว^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Bookshelf.
//----------------------------------------------------------------------------
kh_vila,181,138,0	script	Bookshelf#khp1	111,{
	if ((countitem(7491) < 1) && (countitem(7329) >= 1) || (countitem(7516) >= 1)) {
		mes "^3355FFหนึ่งในหนังสือบนชั้นวาง";
		mes "ที่อัดแน่นไปด้วยหนังสือนี้";
		mes "มีโน้ตแปะไว้ว่า";
		mes "''ถึง Elly'' มันต้องถูกทิ้งไว้";
		mes "โดยปู่ของเธอแน่นอน^000000";
		next;
		switch(select("ตรวจสอบหนังสือ:เมินเฉย")) {
		case 1:
			mes "^3355FFคุณเปิดดูหน้าหนังสือ";
			mes "อย่างรวดเร็ว และไม่พบ";
			mes "อะไรที่น่าสนใจเป็นพิเศษ";
			mes "อย่างไรก็ตาม คุณสังเกตเห็น";
			mes "พื้นผิวเหล็กอยู่หลังชั้นวาง";
			mes "ขณะที่คุณกำลังวางหนังสือคืน^000000";
			next;
			switch(select("ตรวจสอบพื้นผิวเหล็ก:เมินเฉย")) {
			case 1:
				mes "^3355FFคุณย้ายหนังสือออกจาก";
				mes "ชั้นวางมากขึ้น จนพบว่า";
				mes "พื้นผิวเหล็กนั้นเป็นส่วนหนึ่ง";
				mes "ของตู้เซฟที่ซ่อนอยู่หลัง";
				mes "ชั้นหนังสือ มีรูไขกุญแจ";
				mes "สองรูอยู่บนตู้เซฟเหล็กนี้^000000";
				next;
				switch(select("ลองใช้กุญแจที่มีทั้งหมด:ยกเลิก")) {
				case 1:
					mes "^3355FFคุณจะใส่กุญแจ";
					mes "ดอกไหนลงไปใน";
					mes "รูไขกุญแจรูแรก?^000000";
					next;
					if (countitem(7329) >= 1) {
						select("Old Bronze Key:Cottage Key");
						mes "^3355FFคุณจะใส่กุญแจ";
						mes "ดอกไหนลงไปใน";
						mes "รูไขกุญแจรูที่สอง?^000000";
						next;
						select("Old Bronze Key:Cottage Key");
					}
					else if (countitem(7516) >= 1) {
						switch(select("Green Keycard:Cottage Key")) {
						case 1:
							set .@KHFirstKeyhole,1;
							break;
						case 2:
							set .@KHFirstKeyhole,2;
							break;
						}
						mes "^3355FFคุณจะใส่กุญแจ";
						mes "ดอกไหนลงไปใน";
						mes "รูไขกุญแจรูที่สอง?^000000";
						next;
						switch(select("Green Keycard:Cottage Key")) {
						case 1:
							set .@KHSecondKeyhole,1;
							break;

						case 2:
							set .@KHSecondKeyhole,2;
							break;

						}
						if (.@KHFirstKeyhole == 2) && (.@KHSecondKeyhole == 1) {
							mes "^3355FFตู้เซฟเปิดออกพร้อม";
							mes "เสียงคลิก และคุณก็เห็น";
							mes "Grey Box อยู่ข้างใน";
							mes "คุณหยิบ Grey Box นั้น";
							mes "ไปด้วย โดยหวังว่ามันจะ";
							mes "มีประโยชน์ในภายหลัง^000000";
							delitem 7489,1; //Villa_Spare_Key
							delitem 7516,1; //Green_Key_Card
							getitem 7491,1; //Iron_Box
							close;
						}

					}
					mes "^3355FFตู้เซฟไม่ยอมเปิด^000000";
					close;
				case 2:
					mes "^3355FFมันน่าจะเป็นความคิด";
					mes "ที่ดีกว่าในการตรวจสอบ";
					mes "กระท่อมเพื่อหากุญแจที่จะ";
					mes "ใช้เปิดตู้เซฟใบนี้ได้...^000000";
					close;
				}
			case 2:
				mes "^3355FFคุณวางหนังสือกลับ";
				mes "เข้าที่บนชั้นวางหนังสือ^000000";
				close;
			}
		case 2:
			mes "^3355FFคุณคงจะไปหา";
			mes "เบาะแสที่ดีกว่านี้";
			mes "จากที่อื่นแถวๆ";
			mes "นี้ได้นะ^000000";
			close;
		}
	}
	else {
		mes "^3355FFคุณพบชั้นวางหนังสือ";
		mes "ที่อัดแน่นไปด้วย";
		mes "หนังสือมากมาย^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Desk
//----------------------------------------------------------------------------
kh_vila,118,144,0	script	Desk#khp1	111,{
	if (KHCottagePoem2 < 1) {
		mes "^3355FFมีกองกระดาษและหนังสือ";
		mes "วางทับถมกันอยู่บนโต๊ะ";
		mes "ครอบคลุมหัวข้อต่างๆ เช่น";
		mes "พลังงานประดิษฐ์, งานวิจัย";
		mes "ของ Sage Varmundt, การใช้";
		mes "หุ่นยนต์ในโรงงาน และคัมภีร์เวทมนตร์...^000000";
		next;
		mes "^3355FFขณะที่กำลังรื้อค้นผ่าน";
		mes "กองหนังสือและกระดาษ คุณก็";
		mes "พบเศษกระดาษที่มีตราประทับ";
		mes "อย่างเป็นทางการของมูลนิธิ Kiel Hyre";
		mes "คุณตัดสินใจว่ามันอาจจะมี";
		mes "ประโยชน์เข้าสักวันหนึ่ง^000000";
		next;
		mes "^3355FFคุณได้รับ";
		mes "เศษกระดาษเปล่าที่มี";
		mes "ตราประทับของมูลนิธิ";
		mes "Kiel Hyre มาแล้ว^000000";
		set KHCottagePoem2,1;
		close;
	}
	else if (KHCottagePoem2 >= 1) {
		mes "^3355FFมีกองกระดาษและหนังสือ";
		mes "ครอบคลุมหัวข้อทางวิทยาศาสตร์";
		mes "และเวทมนตร์ต่างๆ วางทับถม";
		mes "กันอยู่บนโต๊ะทำงานตัวนี้^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Cottage interior, upstairs; Medicine Chest
//----------------------------------------------------------------------------
kh_vila,123,170,0	script	Medicine Chest#khp1	111,{
	if ((KHCottagePoem2 < 1) && (KielHyreQuest < 30)) {
		mes "^3355FFตู้เก็บยาใบนี้เต็มไปด้วย";
		mes "ขวดยาที่มีสีสันหลากหลาย";
		mes "จะมียาประเภทไหนอยู่ใน";
		mes "ตู้นี้กันบ้างนะ?^000000";
		close;
	}
	else if ((KHCottagePoem2 == 1) && (KielHyreQuest < 30)) {
		mes "^3355FFตู้เก็บยาใบนี้เต็มไปด้วย";
		mes "ขวดยาที่มีสีสันหลากหลาย";
		mes "จะมียาประเภทไหนอยู่ใน";
		mes "ตู้นี้กันบ้างนะ?^000000";
		next;
		mes "^3355FFเดี๋ยวก่อน คุณมีแผ่นกระดาษ";
		mes "เปล่าที่มีตราประทับมูลนิธิ";
		mes "Kiel Hyre อยู่นี่นา! มันแปลก";
		mes "ที่ตราประทับถูกตีไว้บนกระดาษ";
		mes "เปล่าๆ บางทีอาจมีบางอย่าง";
		mes "เขียนด้วยหมึกล่องหนหรือเปล่า?^000000";
		next;
		mes "^3355FFมันเป็นแค่การเดาสุ่มมั่วๆ นะ";
		mes "แต่บางที แค่บางที คุณอาจจะ";
		mes "ใช้อะไรบางอย่างในตู้เก็บยา";
		mes "ใบนี้เพื่อทำให้หมึกล่องหน";
		mes "ที่เขียนบนเอกสารนี้ปรากฏออกมา!^000000";
		next;
		switch(select("อะไรนะ? บ้าไปแล้ว!:แน่นอน! ลองกันเถอะ!")) {
		case 1:
			mes "^3355FFขอโทษที";
			mes "ฉันก็นึกว่ามัน";
			mes "จะเป็นความคิดที่ดี...^000000";
			close;
		case 2:
			switch(select("ลองใช้ของเหลวสีแดง:ลองใช้ของเหลวสีน้ำเงิน:ลองใช้ของเหลวสีเหลือง:ลองใช้ของเหลวสีเขียว:ยกเลิก")) {
			case 1:
				set .@KHPotionColor$,"แดง";
				break;
			case 2:
				mes "^3355FFมันได้ผล!";
				mes "ของเหลวสีน้ำเงินกำลัง";
				mes "เผยให้เห็นข้อความเล็กๆ";
				mes "ที่เขียนเอาไว้บนกระดาษ";
				mes "มันดูเหมือนจะเป็น";
				mes "บทกวีที่ค่อนข้างยาว...^000000";
				next;
				mes "[บทกวี]";
				mes "งูตัวแรกนั้นทำมาจากเหล็ก";
				mes "แต่ฉันใช้ความโกรธแค้นทำลายมัน";
				mes "งูตัวที่สองนั้นทำมาจากเวทมนตร์";
				mes "แต่ความรักของฉันปลิดชีพหัวใจมัน";
				next;
				mes "[บทกวี]";
				mes "งูตัวที่สามนั้นทำมาจากเลือด";
				mes "และเนื้อ แต่ความหวังของฉัน";
				mes "ก็พิชิตมันได้ในท้ายที่สุด";
				mes "อย่างไรก็ตาม งูตัวที่สี่และ";
				mes "ตัวสุดท้ายนั้นไร้รูปร่าง และ";
				mes "ไม่มีใครล่วงรู้ถึงรูปลักษณ์ของมัน";
				next;
				mes "[บทกวี]";
				mes "ฉันทอดทิ้งความสิ้นหวังไปในอากาศ";
				mes "แต่ไม่มีใครรู้ว่ามันได้ฆ่างูตัวนั้น";
				mes "ไปแล้วหรือยัง ฉันเป็นเพียงแค่ ^0000FFปีศาจ";
				mes "ตัวน้อยที่พลัดหลง^000000 พร้อมดาบสี่เล่ม";
				mes "และงูสี่ตัว ที่กำลังตามหาเด็กสาว";
				mes "คนนั้นในความมืดมิด";
				next;
				mes "^3355FFนี่เป็นบทกวีที่แปลก";
				mes "มากจริงๆ มันจะหมาย";
				mes "ความว่าอย่างไรกันแน่?^000000";
				set KHCottagePoem2,2;
				close;
			case 3:
				set .@KHPotionColor$,"เหลือง";
				break;
			case 4:
				set .@KHPotionColor$,"เขียว";
				break;
			case 5:
				mes "^3355FFช่างมันเถอะ";
				mes "ความคิดนี้ดูจะบ้าบอ";
				mes "เกินกว่าจะสำเร็จได้...";
				mes "เหมือนจะส่งมนุษย์ไป";
				mes "ดวงจันทร์เลย คุณเชื่อ";
				mes "เรื่องไร้สาระแบบนั้นด้วยเหรอ?^000000";
				close;
			}
			mes "^3355FFคุณพยายามพ่นของเหลว";
			mes "สี "+.@KHPotionColor$+" จากตู้เก็บยา";
			mes "ลงไปบนแผ่นกระดาษเปล่าที่มี";
			mes "ตราประทับมูลนิธิ Kiel Hyre";
			mes "อย่างไรก็ตาม ไม่มีอะไรเกิดขึ้นเลย...^000000";
			close;
		}
	}
	else if ((KHCottagePoem2 >= 2) || (KielHyreQuest >= 30)) {
		mes "^3355FFนี่คือจุดที่คุณเคยเท";
		mes "ของเหลวสีน้ำเงินเพื่ออ่าน";
		mes "บทกวีที่เขียนด้วยหมึกล่องหน";
		mes "ลงบนแผ่นกระดาษเปล่าที่มี";
		mes "ตราประทับมูลนิธิ Kiel Hyre";
		mes "คุณต้องการจะอ่านมันอีกครั้งไหม?^000000";
		next;
		switch(select("ไม่มีเวลาแล้ว!:อ่าน")) {
		case 1:
			mes "^3355FFคุณกำลังจะหมดเวลาแล้ว!";
			mes "ตอนนี้จะเป็นการดีที่สุด";
			mes "ที่คุณจะค้นหาทุกซอกทุกมุม";
			mes "ของกระท่อมแห่งนี้^000000";
			close;
		case 2:
			mes "[บทกวี]";
			mes "งูตัวแรกนั้นทำมาจากเหล็ก";
			mes "แต่ฉันใช้ความโกรธแค้นทำลายมัน";
			mes "งูตัวที่สองนั้นทำมาจากเวทมนตร์";
			mes "แต่ความรักของฉันปลิดชีพหัวใจมัน";
			next;
			mes "[บทกวี]";
			mes "งูตัวที่สามนั้นทำมาจากเลือด";
			mes "และเนื้อ แต่ความหวังของฉัน";
			mes "ก็พิชิตมันได้ในท้ายที่สุด";
			mes "อย่างไรก็ตาม งูตัวที่สี่และ";
			mes "ตัวสุดท้ายนั้นไร้รูปร่าง และ";
			mes "ไม่มีใครล่วงรู้ถึงรูปลักษณ์ของมัน";
			next;
			mes "[บทกวี]";
			mes "ฉันทอดทิ้งความสิ้นหวังไปในอากาศ";
			mes "แต่ไม่มีใครรู้ว่ามันได้ฆ่างูตัวนั้น";
			mes "ไปแล้วหรือยัง ฉันเป็นเพียงแค่ ^3355FFปีศาจ^000000";
			mes "^3355FFตัวน้อยที่พลัดหลง^000000 พร้อมดาบสี่เล่ม";
			mes "และงูสี่ตัว ที่กำลังตามหาเด็กสาว";
			mes "คนนั้นในความมืดมิด";
			close;

		}
	}
}

//----------------------------------------------------------------------------
// Cottage interior, stair case; Sword hilt
//----------------------------------------------------------------------------
kh_vila,136,68,0	script	Sword Hilt#kh	111,{
	if ((KHCottagePoem1 < 3) || (KHCottagePoem2 < 2) && (KielHyreQuest < 30)) {
		mes "^3355FFมีดาบสี่เล่มที่ถูกออกแบบ";
		mes "อย่างประณีตวางตำแหน่งอยู่";
		mes "ข้างๆ รูปปั้นงูสี่ตัวที่ดู";
		mes "น่าขนลุก^000000";
		close;
	}
	else if ((KHCottagePoem1 <= 4) || (KHCottagePoem2 <= 2) && (KielHyreQuest < 30)) {
		mes "^3355FFมีดาบสี่เล่มที่ถูกออกแบบ";
		mes "อย่างประณีตวางตำแหน่งอยู่";
		mes "ข้างๆ รูปปั้นงูสี่ตัวที่ดู";
		mes "น่าขนลุก เดี๋ยวก่อน!";
		mes "บางทีพวกมันอาจจะเกี่ยวข้องกับ";
		mes "บทกวีที่คุณอ่านไปก่อนหน้านี้...";
		next;
		switch(select("ไม่มีทาง!:แน่นอน!")) {
		case 1:
			mes "^3355FFเป็นไปไม่ได้...";
			mes "มันต้องเป็นเรื่อง";
			mes "บังเอิญบางอย่างแน่ๆ...^000000";
			close;
		case 2:
			mes "^3355FFแน่นอน! แล้วดูนั่นสิ!";
			mes "มีรูอยู่บนหัวของ";
			mes "รูปปั้นงูแต่ละตัว";
			mes "รูเหล่านี้ดูเหมือนจะ";
			mes "ใหญ่พอที่จะเสียบดาบประดับ";
			mes "แต่ละเล่มที่อยู่ใกล้ๆ ลงไปได้...^000000";
			next;
			switch(select("เมินเฉย:เสียบดาบประดับลงไป")) {
			case 1:
				mes "^3355FFเป็นไปไม่ได้...^000000";
				mes "^3355FFมันต้องเป็นเรื่อง^000000";
				mes "^3355FFบังเอิญบางอย่างแน่ๆ...^000000";
				close;
			case 2:
				if (KHCottagePoem1 != 4) {
					mes "^3355FFดึง... ไม่ออก...";
					mes "ดาบ! มันต้องถูก";
					mes "ล็อคติดอยู่กับที่";
					mes "ด้วยวิธีบางอย่าง หรือถูกผนึก";
					mes "โดยพลังงานประหลาด!^000000";
					close;
				}
				else {
					mes "^3355FFคุณน่าจะต้อง";
					mes "ลองเสียบดาบแต่ละเล่ม";
					mes "ลงไปในตัวงูที่ถูกต้อง";
					mes "อันดับแรก โปรดเลือก";
					mes "รูปปั้นงูที่คุณจะใช้";
					mes "เสียบดาบเล่มแรกลงไป^000000";
					next;
					switch(select("งูตัวที่หนึ่ง:งูตัวที่สอง:งูตัวที่สาม:งูตัวที่สี่")) {
					default:
						break;
					case 2:
						set .@KHSwords,.@KHSwords+1;
						break;
					}
					next;
					mes "^3355FFคราวนี้ โปรดเลือก";
					mes "รูปปั้นงูที่คุณจะใช้";
					mes "เสียบดาบเล่มที่สองลงไป^000000";
					next;
					switch(select("งูตัวที่หนึ่ง:งูตัวที่สอง:งูตัวที่สาม:งูตัวที่สี่")) {
					default:
						break;
					case 4:
						set .@KHSwords,.@KHSwords+1;
						break;
					}
					next;
					mes "^3355FFต่อไป โปรดเลือก";
					mes "รูปปั้นงูที่คุณจะใช้";
					mes "เสียบดาบเล่มที่สามลงไป^000000";
					next;
					switch(select("งูตัวที่หนึ่ง:งูตัวที่สอง:งูตัวที่สาม:งูตัวที่สี่")) {
					case 1:
						set .@KHSwords,.@KHSwords+1;
						break;
					default:
						break;
					}
					next;
					mes "^3355FFสุดท้าย โปรดเลือก";
					mes "รูปปั้นงูที่คุณจะใช้";
					mes "เสียบดาบเล่มที่สี่ลงไป^000000";
					next;
					switch(select("งูตัวที่หนึ่ง:งูตัวที่สอง:งูตัวที่สาม:งูตัวที่สี่")) {
					default:
						break;
					case 3:
						set .@KHSwords,.@KHSwords+1;
						break;
					}

					if (.@KHSwords == 4) {
						mes "^3355FFหูของคุณพลันได้ยิน";
						mes "เสียงหึ่งๆ ต่ำๆ ดังระงม";
						mes "และทั้งจิตใจรวมถึง";
						mes "ร่างกายของคุณรู้สึกเหมือน";
						mes "กำลังถูกพัดพาหายไป...^000000";
						set KHCottagePoem1,5;
						set KHCottagePoem2,3;
						close2;
						warp "kh_vila",178,72;
						end;
					}

					else {
						mes "^3355FFไม่มีอะไรเกิดขึ้น...";
						mes "คุณอาจจะเสียบดาบ";
						mes "ลงในรูปปั้นงูไม่ถูกต้อง";
						mes "สำหรับตอนนี้ คุณควรคืนดาบ";
						mes "กลับไปก่อน แล้วค่อยลอง";
						mes "ใหม่อีกครั้งในภายหลัง^000000";
						close;
					}
				}
			}
		}
	}
	else if ((KHCottagePoem1 == 5) && (KHCottagePoem2 == 3) || (KielHyreQuest >= 30)) {
		mes "^3355FFนี่คือเส้นทางลับ";
		mes "ที่นำไปสู่ห้อง";
		mes "ทดลองลับ^000000";
		next;
		switch(select("เข้าไป:ยกเลิก")) {
		case 1:
			warp "kh_vila",178,72;
			end;
		case 2:
			close;
		}
	}
}

//----------------------------------------------------------------------------
// Cottage interior, Secret Room; left test tube
//----------------------------------------------------------------------------
kh_vila,179,68,0	script	Test Tube#khp2	111,{
	mes "^3355FFหลอดทดลองนี้บรรจุ";
	mes "ชายหนุ่มที่สวมชุด";
	mes "เครื่องแบบ Kiel Hyre Academy";
	mes "ยังไงไม่รู้ คุณรู้สึก";
	mes "คุ้นหน้าเขาเหมือนกับ";
	mes "เคยเห็นที่ไหนมาก่อน^000000";
	close;
}


//----------------------------------------------------------------------------
// Cottage interior, Secret Room; Right test tube
//----------------------------------------------------------------------------
kh_vila,185,68,0	script	Test Tube::TestTubeKHQ2	111,{
	if (KielHyreQuest > 28) {
		mes "^3355FFชายชราที่มีรูปร่าง";
		mes "แปลกประหลาดและเหี่ยวย่น";
		mes "ถูกเก็บรักษาไว้ในหลอดทดลองนี้^000000";
		close;
	}
	else if (KielHyreQuest == 28) {
		mes "^3355FFชายชราที่มีรูปร่าง";
		mes "แปลกประหลาดและเหี่ยวย่น";
		mes "ถูกเก็บรักษาไว้ในหลอดทดลองนี้";
		mes "มีปุ่มสีแดงเล็กๆ อยู่";
		mes "ข้างใต้หลอดทดลองนี้ด้วย^000000";
		next;
		switch(select("กดปุ่ม:ตรวจสอบเพิ่มเติม")) {
		case 1:
			mes "[???]";
			mes "ส-สวัสดี...? ค-คุณได้ยิน";
			mes "ฉันไหม? ฉันจำคุณไม่ได้...";
			mes "แต่... บางทีฉันอาจจะลืมไป?";
			mes "เดี๋ยวก่อน ถ้าคุณเป็นเพื่อนฉัน";
			mes "คุณก็ต้องรู้สิว่าควรเรียกฉันว่าอะไร";
			mes "ใช่ไหม? คุณรู้ไหมว่าฉันคืออะไร?";
			next;
			input .@KHInput$;
			if (.@KHInput$ == "little lost devil") {
				mes "[???]";
				mes "หึ... หึ หึ...";
				mes "เขารู้... นี่ คุณ";
				mes "ต้องจำตัวเลขพวกนี้";
				mes "ไว้ให้ดีนะ โอเคไหม? ห-อย่า";
				mes "ลืมล่ะ มันจะสำคัญมาก...";
				mes "^FF00004^000000, ^FF00007^000000, ^FF00007^000000, ^FF00002^000000, ^FF00009^000000, ^FF00006^000000, ^FF00001^000000. แค่นั้นแหละ...";
				next;
				mes "^3355FF4772961^000000";
				mes "^3355FFตัวเลขพวกนั้น^000000";
				mes "^3355FFจะหมายความว่า^000000";
				mes "^3355FFอย่างไรกันแน่?^000000";
				//KHCottagePoem1 and KHCottagePoem2 no longer needed-- deleting
				set KHCottagePoem1,0;
				set KHCottagePoem2,0;
				set KielHyreQuest,30;
				close;
			}
			else {
				mes "[???]";
				mes "ไม่... ไม่...";
				mes "นั่นไม่ถูกต้อง";
				mes "ฉันไม่คิดว่าเรา";
				mes "เคยเป็นเพื่อนกัน ไม่ล่ะ...";
				close;
			}
		case 2:
			mes "^3355FFลองสำรวจแถวนี้";
			mes "ให้มากกว่านี้อีก";
			mes "สักนิดดีกว่า^000000";
			close;
		}
	}
	else if (KielHyreQuest >= 30) {
		if ((countitem(7491) > 0) && (countitem(7492) > 0)){
			mes "^3355FFตัวเลข 4772961";
			mes "จะหมายถึงอะไรนะ? ตอนนี้";
			mes "คุณพบทุกอย่างที่";
			mes "ต้องการจากที่นี่แล้ว";
			mes "คุณควรกลับไปหา Elly ได้แล้ว^000000";
			close;
		}
		else {
			mes "^3355FFตัวเลข 4772961";
			mes "จะหมายถึงอะไรนะ? ตอนนี้";
			mes "คุณควรสำรวจกระท่อมนี้";
			mes "เพื่อหาเบาะแสอื่นๆ ต่อไป...^000000";
			close;
		}
	}
	end;
}

//============================================================================
// Robot Factory NPCs
//============================================================================

//----------------------------------------------------------------------------
// Robotic's Factory; Heavy Door
//----------------------------------------------------------------------------
kh_dun01,235,48,0	script	Heavy Door#kh1::HeavyDoorKHQ1	111,{
	if (KielHyreQuest < 38) {
		mes "^3355FFมีประตูขนาดใหญ่และ";
		mes "หนักอึ้งอยู่ตรงหน้าคุณ^000000";
		next;
		switch(select("เปิดประตู:ยกเลิก")) {
		case 1:
			input .@KHInput$;
			mes "^3355FFคุณพยายามออกแรง";
			mes "ทั้งหมดที่มีเพื่อผลักประตู";
			mes "แต่ก็ไม่สามารถทำให้มัน";
			mes "ขยับได้เลยแม้แต่นิดเดียว^000000";
			close;
		case 2:
			mes "^3355FFคุณตัดสินใจละทิ้ง";
			mes "ประตูนี้ไว้ก่อน จนกว่า";
			mes "คุณจะหาวิธีเปิดมัน";
			mes "ออกมาได้^000000";
			close;
		}
	}
	else if ((KielHyreQuest >= 38) && (KielHyreQuest < 46)) {
		mes "^3355FFมีประตูขนาดใหญ่และ";
		mes "หนักอึ้งอยู่ตรงหน้าคุณ^000000";
		next;
		switch(select("เปิดประตู:ยกเลิก")) {
		case 1:
			input .@KHInput$;
			if (.@KHInput$ == "Blue Keycard") {
				mes "^3355FFคุณเปิดประตู";
				mes "ได้สำเร็จ";
				close2;
				warp "kh_school",119,144;
				end;
			}
			else {
				mes "^3355FFคุณพยายามออกแรง";
				mes "ทั้งหมดที่มีเพื่อผลักประตู";
				mes "แต่ก็ไม่สามารถทำให้มัน";
				mes "ขยับได้เลยแม้แต่นิดเดียว^000000";
				close;
			}
		case 2:
			mes "^3355FFคุณตัดสินใจละทิ้ง";
			mes "ประตูนี้ไว้ก่อน จนกว่า";
			mes "คุณจะหาวิธีเปิดมัน";
			mes "ออกมาได้^000000";
			close;
		}
	}
	else {
		mes "^3355FFนี่คือประตูที่หนัก";
		mes "อย่างเหลือเชื่อและปิดสนิท";
		mes "คุณจะไม่สามารถเปิดมัน";
		mes "ได้ด้วยกำลังดิบแน่นอน^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Robotic's Factory; Heavy Door (These doors don't seem to serve any purpose)
//----------------------------------------------------------------------------
kh_dun01,76,233,0	script	Heavy Door::HeavyDoorKHQ2	111,{
	if ((KielHyreQuest >= 38) && (KielHyreQuest < 46)) {
		mes "^3355FFมีประตูขนาดใหญ่และ";
		mes "หนักอึ้งอยู่ตรงหน้าคุณ^000000";
		next;
		switch(select("เปิดประตู:ยกเลิก")) {
		case 1:
			input .@KHInput$;
			mes "^3355FFคุณพยายามออกแรง";
			mes "ทั้งหมดที่มีเพื่อผลักประตู";
			mes "แต่ก็ไม่สามารถทำให้มัน";
			mes "ขยับได้เลยแม้แต่นิดเดียว^000000";
			close;
		case 2:
			mes "^3355FFคุณตัดสินใจละทิ้ง";
			mes "ประตูนี้ไว้ก่อน จนกว่า";
			mes "คุณจะหาวิธีเปิดมัน";
			mes "ออกมาได้^000000";
			close;
		}
	}
	else {
		mes "^3355FFมีประตูขนาดใหญ่และ";
		mes "หนักอึ้งอยู่ตรงหน้าคุณ^000000";
		close;
	}
}

kh_dun01,106,233,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh3	111
kh_dun01,6,164,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh4	111
kh_dun01,6,133,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh5	111
kh_dun01,6,60,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh6	111
kh_dun01,6,30,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh7	111
kh_dun01,6,18,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh8	111
kh_dun01,235,70,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh9	111
kh_dun01,235,92,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh10	111
kh_dun01,235,114,0	duplicate(HeavyDoorKHQ2)	Heavy Door#kh11	111

//----------------------------------------------------------------------------
// Beautiful Lady and Beautiful Lady copies.
//----------------------------------------------------------------------------
kh_school,119,149,4	script	Beautiful Lady#kh1::BeatifulLadyKHQ1	894,{
	cutin "kh_ellisia",2;
	if (KielHyreQuest < 40) {
		mes "[Allysia]";
		mes "หืม? ฉันไม่คิดว่า";
		mes "ฉันจะรู้จักคุณนะ Kiel Hyre";
		mes "อนุญาตให้เพียง Elly และ";
		mes "เพื่อนที่ไว้ใจได้ที่อาจจะ";
		mes "คอยช่วยเหลือเธอเท่านั้น";
		mes "ที่จะเข้ามาในบริเวณนี้ได้";
		next;
		mes "[Allysia]";
		mes "ฉันไม่เห็น ^FF0000Elly^000000 เลย";
		mes "เธอถูกโจมตีด้วยงั้นเหรอ?";
		mes "คุณคือ ^FF0000เพื่อนของ Elly^000000 ใช่ไหม?";
		next;
		mes "[Allysia]";
		mes "ฉันไม่เห็น Elly อยู่แถวนี้เลย";
		mes "ฉันจะให้คุณเข้าไปได้ก็ต่อเมื่อ";
		mes "คุณยืนยันตัวตนได้ว่าคุณคือ";
		mes "เพื่อนของ Elly จริงๆ มีอะไร";
		mes "ที่คุณจะนำมาแสดงเพื่อเป็น";
		mes "หลักฐานให้ฉันดูได้บ้างไหม?";
		next;
		switch(select("Yellow Keycard:Blue Keycard:Golden Key:Carved Button:...?")) {
		default:
			break;
		case 3:
			mes "[Allysia]";
			mes "อ๊ะ นี่มันกุญแจที่";
			mes "Kiel Hyre มอบให้กับ";
			mes "Elly ใช่ไหม? ใช่แล้ว ฉันเชื่อ";
			mes "แล้วว่าคุณคอยช่วยเหลือเธอ";
			mes "ฉันรอคุณอยู่เลยล่ะ ให้ฉัน";
			mes "นำทางคุณไปที่ห้องของฉันนะ";
			close2;
			cutin "",255;
			warp "kh_school",120,180;
			end;
		case 4:
			mes "[Allysia]";
			mes "น-นั่นมันตราประทับ";
			mes "ของ Kiehl นี่! เขาส่งคุณ";
			mes "มาที่นี่เพื่อจับฉันเหรอ?! ฉัน";
			mes "ไม่ยอมเสี่ยงด้วยหรอก!";
			close2;
			cutin "",255;
			monster "kh_school",117,144,"Bomb",1745,1;
			monster "kh_school",117,144,"Bomb",1745,1;
			monster "kh_school",117,144,"Bomb",1745,1;
			monster "kh_school",117,144,"Bomb",1745,1;
			end;
		case 5:
			mes "[Allysia]";
			mes "......";
			mes "........";
			mes "...........";
			close2;
			cutin "",255;
			end;
		}
		mes "[Allysia]";
		mes "หืม? สิ่งนี้ไม่ได้พิสูจน์";
		mes "ว่า Elly ไว้ใจคุณจริงๆ เลยนะ...";
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest >= 40) {
		mes "[Allysia]";
		mes "โปรดตามฉันมา";
		close2;
		cutin "",255;
		warp "kh_school",120,180;
		end;
	}
}


kh_school,117,149,4	script	Beautiful lady#kh2::BeatifulLadyKHQ2	894,{
	end;
}
kh_school,118,149,4	duplicate(BeatifulLadyKHQ2)	Beautiful lady#kh3	894
kh_school,120,149,4	duplicate(BeatifulLadyKHQ2)	Beautiful lady#kh4	894
kh_school,121,149,4	duplicate(BeatifulLadyKHQ1)	Beautiful lady#kh5	894

//----------------------------------------------------------------------------
// Beautiful Lady "Allysia"
//----------------------------------------------------------------------------
kh_school,122,186,4	script	Beautiful Lady#kh6	894,{
	if (checkweight(7496,1) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณแบกไอเทมมาก";
		mes "เกินไปในขณะนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ช่องเก็บของก่อน...^000000";
		close;
	}
	cutin "kh_ellisia",2;
	if (KielHyreQuest < 38) {
		mes "[??????]";
		mes "ที่นี่คือทรัพย์สินส่วนบุคคล";
		mes "กรุณาออกไปทันที!";
		close2;
		cutin "kh_ellisia",255;
		warp "yuno_fild08",73,172;
		end;
	}
	else if (KielHyreQuest <= 38) {
		mes "[Allysia]";
		mes "เพื่อนของ Elly รุ่นต้นแบบ";
		mes "ฉันขอยินดีต้อนรับ อย่างที่คุณ";
		mes "อาจจะรู้แล้ว ฉันต้องการความ";
		mes "ช่วยเหลือจากคุณ Kiel Hyre ถูกจับ";
		mes "ตัวไว้ที่ไหนสักแห่งในโรงงานนี้";
		next;
		mes "[Allysia]";
		mes "มันเป็นเรื่องสำคัญมากที่";
		mes "คุณจะต้องตามหา Kiel Hyre";
		mes "และช่วยเขาออกมาให้เร็ว";
		mes "ที่สุดเท่าที่คุณจะทำได้!";
		next;
		switch(select("โรงงานนี้คืออะไร?:เกิดอะไรขึ้นกับ ^FF0000Kiel Hyre^000000?")) {
		case 1:
			mes "[Allysia]";
			mes "โรงงานนี้เป็นส่วนหนึ่งของ";
			mes "ธุรกิจลับของมูลนิธิ Kiel Hyre";
			mes "ที่ซึ่งหุ่นยนต์ฮิวแมนนอยด์ถูกผลิต";
			mes "ขึ้นมา ตัวฉันเองและนักเรียนทุกคน";
			mes "ในสถาบันแห่งนี้ จริงๆ แล้วคือ";
			mes "หุ่นยนต์ ไม่ใช่มนุษย์";
			next;
			mes "[Allysia]";
			mes "เป้าหมายสูงสุดของมูลนิธิ";
			mes "Kiel Hyre คือการพัฒนาหุ่นยนต์";
			mes "ที่เหนือชั้นเพื่อช่วยเหลือสังคม";
			mes "ในฐานะหุ่นยนต์ พวกเราสามารถ";
			mes "จัดการงานที่อันตรายเกินไป";
			mes "หรือยากเกินไปสำหรับมนุษย์ได้";
			break;
		case 2:
			mes "[Allysia]";
			mes "^3355FFKiehl^000000 ได้ดำเนินการ";
			mes "ดัดแปลงหุ่นยนต์ฮิวแมนนอยด์";
			mes "อย่างผิดปกติ เรื่องนี้ถูกรายงาน";
			mes "ไปยัง Kiel Hyre แล้ว ซึ่งเขาได้";
			mes "ออกไปเพื่อหยุดยั้ง Kiehl";
			mes "อย่างไรก็ตาม Hyre ยังไม่กลับมา";
			next;
			mes "[Allysia]";
			mes "ด้วยความกลัวว่า Kiehl จะ";
			mes "ทำลายฉัน Kiel Hyre จึงนำ";
			mes "ร่างก๊อปปี้ของฉันมาแทน ฉันยัง";
			mes "ตรวจจับเสียงหัวใจของเขาได้";
			mes "เขาควรจะยังปลอดภัยดี แต่ลูกชาย";
			mes "ของเขาเองอาจทำร้ายเขาในเร็วๆ นี้";
			next;
			mes "[Allysia]";
			mes "รับ Keycard นี้ไป";
			mes "ซึ่งจะช่วยให้คุณเข้าไป";
			mes "ในพื้นที่ลับภายในโรงงาน";
			mes "แห่งนี้ได้ หากคุณพบตัว";
			mes "Kiel Hyre โปรดแจ้งให้";
			mes "ฉันทราบทันที";
			getitem 7496,1; //Red_Key_Card
			set KielHyreQuest,40;
			break;
		}
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest == 40) {
		mes "[Allysia]";
		mes "ฉันยังตรวจจับเสียงหัวใจ";
		mes "ของ Kiel Hyre ได้อยู่";
		mes "แต่ลูกชายของเขา Kiehl อาจ";
		mes "ทำอะไรที่รุนแรงกับเขาในไม่ช้า";
		mes "โปรดตามหา Kiel Hyre ให้พบ";
		mes "ก่อนที่เรื่องนั้นจะเกิดขึ้น!";
		close2;
		cutin "",255;
		warp "kh_dun01",22,216;
		end;
	}
	else if (KielHyreQuest == 42) {
		mes "[Allysia]";
		mes "คุณพบตัว Kiel Hyre";
		mes "แล้วหรือยัง?";
		next;
		mes "^3355FFคุณบอก Allysia ว่า^000000";
		mes "^3355FFKiel Hyre ถูกขังไว้ที่ไหน^000000";
		mes "^3355FFและมอบชิ้นส่วนโลหะที่^000000";
		mes "^3355FFKiel Hyre ยื่นให้คุณแก่เธอ^000000";
		mes "^3355FFเธอรับชิ้นส่วนนั้นไปและ^000000";
		mes "^3355FFสวมมันไว้ที่ข้อมือของเธอ^000000";
		next;
		mes "[Allysia]";
		mes "...รหัสลับของ Kiel Hyre";
		mes "ได้รับการยืนยัน พื้นที่ B_2_3";
		mes "สัญญาณชีพปกติ";
		mes "ได้รับซองเอกสาร กำลังส่ง";
		mes "แบบร่าง Puppet ที่ถูกดัดแปลง...";
		next;
		mes "[Allysia]";
		mes "เอาล่ะ ฉันได้รับคำสั่ง";
		mes "ของ Kiel Hyre แล้ว และ";
		mes "จะต้องดำเนินการตามนั้น...";
		delitem 7497,1; //Steel_Piece
		set KielHyreQuest,44;
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest == 44) {
		mes "[Allysia]";
		mes "เอาล่ะ ฉันมีภารกิจที่";
		mes "จะต้องทำให้ Kiel Hyre และ";
		mes "ฉันมีเวลาไม่มากนัก ให้ฉัน";
		mes "สรุปคำแนะนำเฉพาะเจาะจง";
		mes "ให้คุณฟังอย่างรวดเร็ว";
		next;
		mes "[Allysia]";
		mes "อย่างแรก ฉันต้องขอเก็บ";
		mes "Keycard ของคุณไว้เพื่อความปลอดภัย";
		mes "อย่างที่สอง ไปพบฉันที่คฤหาสน์";
		mes "Kiel Hyre ในเมือง Lighthalzen";
		mes "แสดง Golden Key เพื่อขอ";
		mes "อนุญาตเข้าไปในพื้นที่";
		delitem 7492,1; //Yellow_Key_Card
		delitem 7495,1; //Blue_Key_Card
		delitem 7496,1; //Red_Key_Card
		set KielHyreQuest,46;
		next;
		mes "[Allysia]";
		mes "ฉันเข้าใจว่าเรื่องนี้มัน";
		mes "กะทันหัน และฉันยังไม่ได้";
		mes "อธิบายอะไรให้ละเอียดนัก";
		mes "แต่เรื่องเลวร้ายจะเกิดขึ้นแน่";
		mes "ถ้าฉันไม่รีบไปให้เร็วที่สุด";
		close2;
		warp "yuno_fild08",73,172;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest >= 44) {
		mes "[Allysia]";
		mes "ฉันเข้าใจว่าเรื่องนี้มัน";
		mes "กะทันหัน และฉันยังไม่ได้";
		mes "อธิบายอะไรให้ละเอียดนัก";
		mes "แต่เรื่องเลวร้ายจะเกิดขึ้นแน่";
		mes "ถ้าฉันไม่รีบไปให้เร็วที่สุด";
		close2;
		warp "yuno_fild08",73,172;
		cutin "",255;
		end;
	}
}

//----------------------------------------------------------------------------
// Signboard (another useless NPC?)
//----------------------------------------------------------------------------
kh_dun01,163,223,4	script	Signboard#kh	857,{
	mes "[ประกาศ]";
	mes "ห้ามนำสัตว์เลี้ยงแสนน่ารัก";
	mes "(Cute Pets) เข้ามาในบริเวณนี้";
	mes "(ยกเว้นสัตว์เลี้ยงที่ให้ความ";
	mes "ช่วยเหลือพิเศษแก่ผู้พิการทาง";
	mes "สายตาจะได้รับการยกเว้น)";
	close;
}

//----------------------------------------------------------------------------
// Mechanical Devices for accessing restricted area
//----------------------------------------------------------------------------
kh_dun01,166,223,0	script	Mechanical Device#kh::KHKeyardReader	111,{
	if ((KielHyreQuest <= 38) || (KielHyreQuest >= 44)) {
		mes "^3355FFคุณพบกับอุปกรณ์";
		mes "ทางกลไกชิ้นหนึ่ง ดูเหมือน";
		mes "ว่ามันจะทำงานได้โดยการ";
		mes "เสียบ Keycard ที่ถูกต้อง";
		mes "ลงในช่องเสียบ^000000";
		close;
	}
	else if ((KielHyreQuest == 40) && (countitem(7496) >= 1)) {
		mes "^3355FFคุณพบกับอุปกรณ์";
		mes "ทางกลไกชิ้นหนึ่ง ดูเหมือน";
		mes "ว่ามันจะทำงานได้โดยการ";
		mes "เสียบ Keycard ที่ถูกต้อง";
		mes "ลงในช่องเสียบ^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Red Keycard") {
			mes "^3355FFประตูเปิดออกทันที";
			mes "ที่คุณเสียบ Red Keycard ลงไป^000000";
			close2;
			warp "kh_dun01",170,227;
			end;
		}
		else {
			mes "^3355FFไม่มีอะไรเกิดขึ้น^000000";
			close;
		}
	}
}

kh_dun01,162,206,0	duplicate(KHKeyardReader)	Mechanical Device	111

//----------------------------------------------------------------------------
// Keep monsters out of the quest area.
// Silly really since the rest of it's a dungeon
//----------------------------------------------------------------------------
//kh_dun01,180,220,0	script	Monster Warp#kh1::KHMobWarp	-1,5,20,{
//OnTouchNPC:
//	warp "kh_dun01",178,138;
//	end;
//}

//kh_dun01,190,220,0	duplicate(KHMobWarp)	Monster Warp#kh2	-1,5,20
//kh_dun01,200,250,0	duplicate(KHMobWarp)	Monster Warp#kh3	-1,5,20
//kh_dun01,210,220,0	duplicate(KHMobWarp)	Monster Warp#kh4	-1,5,20
//kh_dun01,220,220,0	duplicate(KHMobWarp)	Monster Warp#kh5	-1,5,10

//----------------------------------------------------------------------------
// Kiel Hyre - OnTouch
//----------------------------------------------------------------------------
kh_dun01,224,233,0	script	Factory B Area Door	-1,5,5,{
OnTouch:
	if (KielHyreQuest == 40) {
		if (checkweight(7497,1) == 0) {
			mes "^3355FFรอสักครู่...";
			mes "คุณแบกไอเทมมาก";
			mes "เกินไปในขณะนี้";
			mes "คุณต้องเคลียร์พื้นที่";
			mes "ช่องเก็บของก่อน...^000000";
			close;
		}
		mes "^3355FFคุณได้ยินเสียงแว่วๆ";
		mes "มาจากอีกฝั่งหนึ่งของ";
		mes "ประตูบานนี้^000000";
		next;
		mes "[????]";
		mes "^333333...Kiehl...";
		mes "...เจ้าบังอาจนัก...!^000000";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "คุณ Kiel Hyre หรือเปล่าครับ?";
		mes "คุณอยู่ในนั้นใช่ไหม?";
		next;
		mes "[Kiel Hyre]";
		mes "น-นั่นใครน่ะ?";
		mes "แสดงตัวออกมาซิ!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ผมคือ... ผมคือ...";
		next;
		mes "^3355FFคุณอธิบายเรื่องราวของคุณ";
		mes "ให้เสียงที่อยู่หลังประตูฟัง";
		mes "และบอกเขาว่าเกิดอะไรขึ้น";
		mes "กับ Elly และ Allysia บ้าง^000000";
		next;
		mes "[Kiel Hyre]";
		mes "^333333...ใช่... ฉันเอง";
		mes "ฉันคือ Kiel Hyre ถูกขัง";
		mes "อยู่ในนี้ เขาทำถึงขนาด";
		mes "ดัดแปลง Elly เลยเชียวรึ?";
		mes "...............................^000000";
		next;
		mes "[Kiel Hyre]";
		mes "^333333เร็วเข้า นำโมดูลนี้";
		mes "ไปให้ Allysia! เธอจะรู้";
		mes "ว่าต้องทำอย่างไรกับมัน";
		mes "ถ้าคุณมาเพื่อช่วยพวกเรา";
		mes "เธอก็คงจะมีคำสั่งบางอย่าง";
		mes "มอบให้คุณด้วยเหมือนกัน^000000 ";
		next;
		mes "^3355FFKiel Hyre สอดชิ้นส่วน";
		mes "โลหะที่ดูแปลกตาผ่าน";
		mes "ช่องว่างระหว่างประตู";
		mes "และพื้นออกมาให้คุณ^000000";
		getitem 7497,1; //Steel_Piece
		set KielHyreQuest,42;
		close;
	}

	else if (KielHyreQuest >= 42) {
		mes "[Kiel Hyre]";
		mes "......";
		close;
	}
}

//----------------------------------------------------------------------------
// Robot Factory Second Floor Entrances
//----------------------------------------------------------------------------
kh_dun01,44,203,0	script	Entrance Device#khd2::KHAccess	111,{
	if (countitem(7509) < 1) {
		mes "^3355FFคุณพบกับ";
		mes "อุปกรณ์ทางกลไกชิ้นหนึ่ง";
		mes "ดูเหมือนว่ามันจะทำงานได้";
		mes "โดยการเสียบ Keycard ที่ถูกต้อง";
		mes "ลงไปในช่องเสียบ^000000";
		close;
	}
	else {
		mes "^3355FFคุณพบกับ";
		mes "อุปกรณ์ทางกลไกชิ้นหนึ่ง";
		mes "ดูเหมือนว่ามันจะทำงานได้";
		mes "โดยการเสียบ Keycard ที่ถูกต้อง";
		mes "ลงไปในช่องเสียบ^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Luxurious Keycard") {
			mes "^3355FFขณะที่คุณเสียบ";
			mes "Luxurious Keycard";
			mes "ลงไปในช่องเสียบ Keycard";
			mes "ประตูก็เหวี่ยงเปิดออก";
			mes "เผยให้เห็นขั้นบันไดทางลง";
			mes "ที่ทอดยาวลงไปด้านล่าง^000000";
			next;
			switch(select("ลงบันได:ยกเลิก")) {
			case 1:
				warp "kh_dun02",41,198;
				end;
			case 2:
				mes "^3355FFดูเหมือนว่าประตูนี้";
				mes "จะปิดลงโดยอัตโนมัติ";
				mes "หลังจากที่กำหนดเวลา";
				mes "ที่ตั้งโปรแกรมไว้ล่วงหน้าสิ้นสุดลง^000000";
				close;
			}
		}
		else {
			mes "^3355FFคุณพยายามจะผลัก";
			mes "ประตูให้เปิดออกด้วยแรง";
			mes "ทั้งหมดที่มี แต่กลับล้มเหลว";
			mes "มันไม่ขยับเลยแม้แต่นิดเดียว^000000";
			close;
		}
	}
}

kh_dun01,36,195,0	duplicate(KHAccess)	Entrance Device#khd1	111

//============================================================================
// Kiel Hyre Mansion NPCs, and Kiehl's Room NPCs
//============================================================================

//----------------------------------------------------------------------------
// Kiel's Steward
//----------------------------------------------------------------------------
kh_mansion,78,55,5	script	Steward#kh	109,{
	if (KielHyreQuest < 46) {
		mes "[Steward]";
		mes "ที่นี่เป็นที่พักอาศัยส่วนบุคคล";
		mes "กรุณาออกไปเสียเถอะ";
		close2;
		warp "lighthalzen",188,201;
		end;
	}
	if ((KielHyreQuest >= 46) && (KielHyreQuest < 50)) {
		mes "[Steward]";
		mes "ยินดีต้อนรับ";
		mes "ไม่ทราบว่าคุณได้รับเชิญ";
		mes "โดยท่านเจ้าของ";
		mes "คฤหาสน์แห่งนี้หรือเปล่า?";
		next;
		switch(select("แสดง Golden Key:????")) {
		case 1:
			mes "[Steward]";
			mes "อา ท่าน "+strcharinfo(0)+".";
			mes "ฉันกำลังรอการมาถึงของ";
			mes "คุณอยู่พอดี เชิญทางนี้ครับ";
			close2;
			warp "kh_mansion",21,14;
			end;
		case 2:
			mes "[Steward]";
			mes "หากคุณไม่ได้รับ";
			mes "เชิญโดยท่านเจ้าของ";
			mes "คฤหาสน์แห่งนี้ละก็ ฉันเกรงว่า";
			mes "ฉันต้องขอให้คุณออกไป";
			mes "จากที่นี่โดยทันที!";
			close2;
			warp "lighthalzen",188,201;
			end;
		}
	}
	if ((KielHyreQuest >= 50) && (KielHyreQuest < 64) || (KielHyreQuest >= 70)) {
		mes "[Steward]";
		mes "อา ท่าน "+strcharinfo(0)+".";
		mes "เป็นเกียรติอย่างยิ่งที่";
		mes "ได้ต้อนรับคุณ";
		mes "อีกครั้งหนึ่ง ไม่ทราบว่า";
		mes "คุณต้องการพบเจ้านายของฉันไหม?";
		next;
		switch(select("ใช่:ไม่")) {
		case 1:
			mes "[Steward]";
			mes "ตกลงครับ";
			mes "เชิญทางนี้เลย~";
			close2;
			warp "kh_mansion",21,14;
			end;
		case 2:
			mes "[Steward]";
			mes "ตกลงครับ";
			mes "โปรดทำตัว";
			mes "ตามสบายนะครับ";
			close;
		}
	}
	if ((KielHyreQuest == 52) || (KielHyreQuest == 54) || (KielHyreQuest >= 64) && (KielHyreQuest <= 70)) {
		mes "[Steward]";
		mes "อา ท่าน "+strcharinfo(0)+".";
		mes "เป็นเกียรติอย่างยิ่งที่";
		mes "ได้ต้อนรับคุณ";
		mes "อีกครั้งหนึ่ง ไม่ทราบว่า";
		mes "คุณต้องการพบเจ้านายของฉัน หรือว่า...?";
		next;
		switch(select("^FF0000Kiel Hyre^000000:^3355FFMitchell^000000")) {
		case 1:
			mes "[Steward]";
			mes "ตกลงครับ";
			mes "เชิญทางนี้เลย~";
			close2;
			warp "kh_mansion",21,14;
			end;
		case 2:
			mes "[Steward]";
			mes "โอ้...? คุณคงจะ";
			mes "มาที่นี่เพื่อแจ้ง";
			mes "ข่าวดีสินะ ขอประทานโทษครับ...";
			next;
			mes "^3355FFพ่อบ้านมองไปรอบๆ อย่าง^000000";
			mes "^3355FFลับๆ ล่อๆ เพื่อตรวจสอบดูว่า^000000";
			mes "^3355FFมีใครกำลังแอบดูเขาอยู่หรือไม่^000000";
			next;
			mes "[Steward]";
			mes "ฉันเชื่อว่ามันน่าจะ";
			mes "ปลอดภัยพอที่จะยอมให้";
			mes "คุณไปพบเขาได้ในตอนนี้...";
			mes "เชิญครับ รีบไปทางนี้เถอะ";
			close2;
			warp "kh_mansion",20,87;
			end;
		}
	}
}

//----------------------------------------------------------------------------
// Kiel Hyre
//----------------------------------------------------------------------------
kh_mansion,22,28,4	script	Kiel Hyre#kh	903,{
	if (checkweight(908,200) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในขณะนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}

	cutin "kh_kyel01",2;
	if (KielHyreQuest < 46) {
		mes "[Kiel Hyre]";
		mes ".........";
		mes ".........";
		mes "............";
		close2;
		cutin "",255;
		end;
	}

	else if (KielHyreQuest == 46) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "อา คุณคงจะเป็นท่าน "+strcharinfo(0)+".";
		mes "ฉันอยากจะขอบคุณที่คุณช่วย";
		mes "ชีวิตฉันไว้ คุณคงมีคำถาม";
		mes "มากมายที่อยากจะถามฉัน ดังนั้น";
		mes "ฉันจะพยายามอย่างเต็มที่เพื่อตอบคำถามเหล่านั้น";
		next;
		while(1) {
			switch(select("หุ่นยนต์?:^3355FFKiehl^000000?:กระดุมของ ^FF0000Elly^000000?")) {
			case 1:
				mes "[Kiel Hyre]";
				mes "ฉันทำการวิจัยเกี่ยวกับ";
				mes "วิศวกรรมหุ่นยนต์มาสามสิบสอง";
				mes "ปีแล้ว ฉันภูมิใจที่จะ";
				mes "บอกว่าฉันทำสำเร็จในสิ่งที่";
				mes "มหาปราชญ์ Varmundt";
				mes "ทำไม่สำเร็จ";
				next;
				mes "[Kiel Hyre]";
				mes "มันเป็นความฝันของฉันที่";
				mes "จะพัฒนาหุ่นยนต์ฮิวแมนนอยด์";
				mes "จากมนุษย์ เหล่า Guardian";
				mes "พวกนั้นอาจจะเป็นหุ่นยนต์เหมือนกัน แต่มัน";
				mes "ไม่ได้ทำงานโดยใช้เจตจำนงอิสระ";
				next;
				mes "[Kiel Hyre]";
				mes "หากคุณต้องการทราบรายละเอียด";
				mes "ที่เจาะลึกลงไปเกี่ยวกับวิศวกรรม";
				mes "หุ่นยนต์ ทำไมไม่ลองไปคุย";
				mes "กับ ^3355FFAllysia^000000 ดูล่ะ? เธอสามารถอธิบาย";
				mes "ทุกอย่างได้กระชับกว่าที่";
				mes "ฉันทำได้นะ ฉันมักจะพูดจาเรื่อยเปื่อย...";
				set .@KHQRead,.@KHQRead+1;
				next;
				break;
			case 2:
				mes "[Kiel Hyre]";
				mes "^3355FFKiehl^000000 เป็นลูกชายคนเดียวของฉัน";
				mes "แต่หญิงอันเป็นที่รักยิ่งของฉัน";
				mes "ได้เสียชีวิตลงหลังจากที่ให้";
				mes "กำเนิดเขา ฉันยอมรับว่าเขา";
				mes "เป็นอัจฉริยะในด้านการออกแบบ";
				mes "และพัฒนาเครื่องกล";
				next;
				mes "[Kiel Hyre]";
				mes "เขามีส่วนรับผิดชอบอย่างมาก";
				mes "ในการสร้างหุ่นยนต์รุ่นที่สาม";
				mes "อย่างเช่น Elly น่าเสียดายที่เขากำลัง";
				mes "พยายามดัดแปลงสิ่งที่เขาสร้างขึ้น";
				mes "เพื่อจุดประสงค์อันชั่วร้ายบางอย่าง";
				next;
				mes "[Kiel Hyre]";
				mes "ฉันพยายามที่จะหยุดเขา";
				mes "แต่สุดท้ายฉันกลับถูก";
				mes "ขังไว้ในโรงงานแห่งนั้น";
				mes "ฉันไม่รู้ว่าทำไมเขาถึงต้องการ";
				mes "ทำแบบนี้ ฉันยังคง";
				mes "ไม่มีเบาะแสเลยแม้แต่นิดเดียว...";
				set .@KHQRead,.@KHQRead+1;
				next;
				break;
			case 3:
				mes "[Kiel Hyre]";
				mes "กระดุมที่ Elly ถือไว้";
				mes "มีสัญลักษณ์ของ ^3355FFKiehl^000000";
				mes "สลักอยู่ อา แล้วชายในชุดดำที่";
				mes "คอยคุกคามเหล่านักเรียนล่ะ? นั่นคงจะเป็น";
				mes "^3355FFKaiser^000000 บอดี้การ์ดของ Kiehl";
				next;
				mes "[Kiel Hyre]";
				mes "Kaiser...";
				mes "ฉันไม่รู้อะไร";
				mes "เกี่ยวกับเขาเลย";
				mes "ฉันไม่เคยเห็นแม้แต่";
				mes "ใบหน้าของเขา! Kiehl แค่จ้าง";
				mes "เขามาโดยไม่บอกให้ฉันรู้...";
				set .@KHQRead,.@KHQRead+1;
				next;
				break;
			}
			if (.@KHQRead == 3) {
				mes "[Kiel Hyre]";
				mes "หากคุณไม่มีคำถาม";
				mes "อื่นใดจะถามฉันแล้ว";
				mes "ถ้าอย่างนั้นโปรดปล่อยให้";
				mes "ฉันพักผ่อนได้หรือยัง?? ฉันยังคง";
				mes "รู้สึกไม่ค่อยสบายจากการที่";
				mes "ถูกขังอยู่ในโรงงานนั่น";
				delitem 7493,1; //Golden_Key
				delitem 7494,1; //Kiel_Button
				set KielHyreQuest,48;
				break;
			}
		}
	}
	else if (KielHyreQuest == 48) {
		mes "[Kiel Hyre]";
		mes "อา ฉันเกือบจะลืมไป";
		mes "โปรดรับสิ่งนี้ไว้ในฐานะ";
		mes "รางวัลเล็กน้อยสำหรับ";
		mes "การช่วยชีวิตฉัน";
		getitem 12105,1; //Taming_Gift_Set
		getexp (checkre(3))?70000:700000,0;
		set KielHyreQuest,50;
	}
	else if ((KielHyreQuest >= 50) && (KielHyreQuest < 64)) {
		mes "[Kiel Hyre]";
		mes "หากคุณไม่มีคำถาม";
		mes "อื่นใดจะถามฉันแล้ว";
		mes "ถ้าอย่างนั้นโปรดปล่อยให้";
		mes "ฉันพักผ่อนได้หรือยัง?? ฉันยังคง";
		mes "รู้สึกไม่ค่อยสบายจากการที่";
		mes "ถูกขังอยู่ในโรงงานนั่น";
	}
	else if (KielHyreQuest == 64) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "หืม? คุณมี";
		mes "อะไรบางอย่าง";
		mes "ที่ต้องการจะ";
		mes "ถามฉันงั้นหรือ?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ผมยังไม่มีหลักฐาน";
		mes "ที่แน่ชัดในตอนนี้";
		mes "แต่ผมอาจจะมีคำถาม";
		mes "ในเร็วๆ นี้ครับ";
	}
	else if (KielHyreQuest == 68) {
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "อา ท่าน "+strcharinfo(0)+".";
		mes "เป็นคุณนี่เอง มีอะไรให้";
		mes "ฉันช่วยในวันนี้ล่ะ?";
		next;
		select("เกี่ยวกับ ^3355FFAllysia^000000...");
		mes "["+strcharinfo(0)+"]";
		mes "คุณรู้ไหม ผมไปสำรวจที่บ้าน";
		mes "ร้างหลังหนึ่งใน Juno และได้";
		mes "ค้นพบภาพวาดเก่าของหญิงสาว";
		mes "ที่ดูเหมือนกับ Allysia มาก";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "โอ้...";
		mes "นั่นคือทั้งหมดหรือ?";
		mes "ฉันนึกว่าคุณจะมีคำถาม";
		mes "เกี่ยวกับวิศวกรรมหุ่นยนต์เสียอีก";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "อย่างไรก็ตาม นั่นมัน";
		mes "เป็นเรื่องบังเอิญที่แปลกดีนะ";
		mes "เอาเถอะ ฉันว่ามัน";
		mes "ไม่แปลกเท่าไหร่ที่จะพบคนที่มี";
		mes "หน้าตาคล้ายคลึงกับคนอื่น...";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ผมไม่คิดว่ามันเป็นแค่";
		mes "เรื่องบังเอิญครับ หญิงสาว";
		mes "ในภาพวาดอายุสามสิบปีนั่น";
		mes "ก็ชื่อ Allysia เหมือนกัน และเธอก็";
		mes "ทำงานอยู่ที่ถนน Orsimier";
		mes "ใน Juno เรื่องนี้คุ้นๆ หูบ้างไหมครับ?";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "......";
		mes ".........";
		mes "............";
		next;
		cutin "kh_kyel01",2;
		mes "["+strcharinfo(0)+"]";
		mes "แล้วผมก็คิดว่า Allysia คนนี้";
		mes "ต้องเป็นผู้หญิงที่คุณรักแน่ๆ";
		mes "และคุณก็ได้ใช้รูปลักษณ์ของเธอ";
		mes "มาเป็นต้นแบบให้หุ่นยนต์ของคุณ";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "............";
		next;
		cutin "kh_kyel01",2;
		mes "["+strcharinfo(0)+"]";
		mes "ผมคิดว่านี่คือสิ่งที่เกิดขึ้น:";
		mes "ตอนที่คุณยังเป็นชายหนุ่มยากจน";
		mes "คุณตกหลุมรัก Allysia แต่ว่า";
		mes "เธอตกหลุมรัก Rosimier ซึ่งเป็น";
		mes "คนร่ำรวยและมีอำนาจ";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "อย่างไรก็ตาม Rosimier นั้น";
		mes "ถูกหมั้นหมายไว้กับผู้หญิง";
		mes "คนอื่น และสุดท้ายเขาก็ลงเอยด้วย";
		mes "การแต่งงานกับคู่หมั้นของเขา";
		mes "นั่นจึงทำให้ Allysia หัวใจสลาย";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ด้วยความรู้สึกถูกทรยศ";
		mes "และหัวใจแหลกสลาย Allysia จึงกระโดด";
		mes "ลงไปในแม่น้ำ แล้วคุณจึงตัดสินใจ";
		mes "ที่จะล้างแค้น Rosimier คุณก็เลย";
		mes "จบลงด้วยการเข้าร่วมกับ";
		mes "Rekenber Corporation!";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "ฮ่าฮ่าฮ่าฮ่าฮ่าฮ่า!";
		mes "โอ้ จินตนาการล้ำเลิศจริงๆ~";
		mes "นั่นมันไร้สาระมาก...";
		mes "ถึงอย่างนั้น ฉันก็ยอมรับว่าบางที";
		mes "ฉันอาจจะออกแบบ Allysia หลังจาก";
		mes "ที่ได้เห็นผู้หญิงคนนั้นเมื่อนานมาแล้ว";
		next;
		mes "[Kiel Hyre]";
		mes "ฉันเกือบจะลืมเรื่อง";
		mes "ของเธอไปแล้ว! ฉันคิดว่าเรา";
		mes "เคยเป็นเพื่อนกัน... แต่ว่า";
		mes "คุณเอาความคิดที่ว่าฉัน";
		mes "ตกหลุมรักเธอมาจากไหนกัน?";
		next;
		select("แสดงรูปวาดของ Kiel จากในกระท่อม");
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "อะ-อะไรกัน...";
		mes "เป็นไปได้ยังไง...";
		mes "คุณไปเอามาจากไหนกัน...?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Kiel Hyre ผมพบภาพวาดของคุณ";
		mes "ในตอนที่ยังเป็นชายหนุ่มจากบ้านของ";
		mes "ชายที่ซื้อแหวนของ Allysia ไป";
		mes "ผมยังได้คุยกับชาวประมง";
		mes "ที่พบศพของ Allysia อีกด้วย";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "คุณจ่ายเงินจำนวนมหาศาล";
		mes "เพื่อซื้อแหวนของ Allysia";
		mes "คุณยังจะบอกผมอีกหรือว่า";
		mes "คุณไม่ได้รักเธอ?";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "*เฮ้อ...*";
		mes "คุณจับผิดฉันได้แล้วล่ะ";
		mes "ฉันไม่อยากให้คุณล่วงรู้";
		mes "ความจริงเลย คุณพูดถูกแล้ว";
		mes "ฉันรัก Allysia และได้ออกแบบ";
		mes "หุ่นยนต์ของฉันให้ดูเหมือนกับเธอ";
		next;
		mes "[Kiel Hyre]";
		mes "ฉันไม่มีทางลืมเธอได้เลย";
		mes "ไม่มีวัน แต่ฉันไม่มีทาง";
		mes "ทำอะไรเพื่อทำร้ายพวก";
		mes "Rosimier หรอก! ฉันเป็นนักวิทยาศาสตร์นะ!";
		mes "ฉันเคยเกลียดเขาตอนที่ยังเด็ก";
		mes "แต่ตอนนี้ทุกอย่างมันเปลี่ยนไปแล้ว!";
		next;
		mes "[Kiel Hyre]";
		mes "ฉันไม่ได้เสียน้ำตาเลยตอนที่พวก";
		mes "Rosimier ตกต่ำลง แต่ฉันไม่ได้";
		mes "เป็นคนทำ นอกจากนี้ ฉันยังไม่มี";
		mes "ทรัพยากรหรือความสามารถพอ";
		mes "ที่จะทำให้มันเกิดขึ้นด้วยซ้ำ...";
		next;
		cutin "kh_kyel02",2;
		mes "["+strcharinfo(0)+"]";
		mes "ผมเกรงว่าหลักฐาน";
		mes "จะแสดงให้เห็นเป็นอย่างอื่นนะครับ";
		next;
		select("แสดงรูปวาดของพวก Rosimier");
		mes "["+strcharinfo(0)+"]";
		mes "ลองดูภาพวาดนี้ให้ดีๆ";
		mes "ภาพที่ผมพบที่บ้านหลัง";
		mes "เก่าของพวก Rosimier";
		mes "คุณเห็นอะไรที่... ส่อ";
		mes "ไปในทางความผิดบ้างไหม?";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "นอกจากเจ้า";
		mes "James Rosimier นั่นแล้วคุณ";
		mes "หมายถึงอะไร? ไม่นะ! ฉันไม่เห็น";
		mes "ว่าจะมีอะไรผิดปกติเกี่ยวกับ";
		mes "รูปภาพนี้เลยแม้แต่นิดเดียว";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "มองดูที่นาฬิกาพก";
		mes "ในรูปภาพวาดนั่นให้ดีสิ";
		mes "นั่นมันนาฬิกาพกที่คุณ";
		mes "ใส่อยู่ในทุกวันนี้ไม่ใช่หรือ?";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "...!!!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "คุณอาจจะไม่ได้เป็นคนทำให้";
		mes "ตระกูล Rosimier ล่มสลาย";
		mes "ด้วยตัวเอง แต่ด้วยความช่วยเหลือของ";
		mes "Rekenber Corporation ผมว่า";
		mes "มันมีความเป็นไปได้อย่างยิ่งครับ!";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "ทำได้ดีมาก นักผจญภัย";
		mes "ทำได้ดีมาก ฉันไม่เสียใจใน";
		mes "สิ่งที่ฉันทำลงไปเลย: พวกเขาฆ่า";
		mes "Allysia ของฉัน! หาก James ไม่ทรยศ";
		mes "เธอ หากเพียงแต่เขาไม่กดดัน";
		mes "จนทำให้เธอต้องฆ่าตัวตาย...";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "นั่นแหละที่คุณเข้าใจผิด!";
		mes "Allysia ถูกฆ่าตาย เธอไม่ได้";
		mes "ฆ่าตัวตายหรอก ลองมองดู";
		mes "กระดาษโน้ตใบนี้ให้ดีๆ สิ!";
		next;
		mes "[Kiel Hyre]";
		mes "อะไรนะ?!";
		next;
		select("แสดงจดหมายของ James");
		mes "[Kiel Hyre]";
		mes "นี่มันพิสูจน์อะไรได้?";
		mes "นี่ไม่ได้แสดงให้เห็นว่า";
		mes "James ไม่ได้ทรยศ Allysia";
		mes "แล้วนี่มันจะเปลี่ยนอะไรได้?";
		mes "เธอตายไปแล้ว ไม่มีอะไรที่ฉันจะ";
		mes "ทำได้เพื่อพาเธอกลับมาหาฉันหรอก!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ผมไม่ได้บอกว่า James ไม่ได้";
		mes "ทรยศเธอ ลองดูวันที่บนกระดาษ";
		mes "โน้ตสิ James วางแผนที่";
		mes "จะหนีไปกับเธอในวันที่ 20 สิงหาคม";
		mes "อย่างไรก็ตาม ศพของเธอกลับถูก";
		mes "พบในวันเดียวกันนั้นเอง";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ดังนั้น Allysia จะต้อง";
		mes "เสียชีวิตในวันที่ 19 สิงหาคม หากเธอ";
		mes "วางแผนที่จะหนีไปกับชายคนรัก";
		mes "ในวันถัดไปแล้วล่ะก็ เธอไม่มี";
		mes "เหตุผลที่จะต้องฆ่าตัวตายเลยสักนิด!";
		next;
		mes "[Kiel Hyre]";
		mes "ไม่ นั่นไม่ถูก!";
		mes "เธออาจจะไม่สามารถ";
		mes "ไว้ใจฉันได้! เธอต้อง";
		mes "ตระหนักได้แน่ว่าเธอไม่ได้";
		mes "เป็นอะไรไปมากกว่าของเล่นของเขา!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "งั้นหรือ? ผมว่าเธอกระโดด";
		mes "ลงไปในแม่น้ำก็เพราะว่าคุณ";
		mes "ไปพบเธอในวันนั้น เอาล่ะ";
		mes "ลองมองดูสิ่งนี้ให้ดี!";
		next;
		select("แสดงจดหมายของ K.H.");
		mes "["+strcharinfo(0)+"]";
		mes "จดหมายฉบับนี้ถูกเขียนโดย";
		mes "ชายที่มีชื่อย่อเหมือนกับคุณ";
		mes "K.H. ชื่อย่อเหล่านี้ยังถูก";
		mes "ลงนามไว้บนภาพวาดของเธอด้วย คุณ";
		mes "จะต้องเป็นคนเขียนจดหมายนี้แน่:";
		mes "มันมีความบังเอิญมากเกินไปแล้ว!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ตามจดหมายฉบับนี้";
		mes "คุณบอก Allysia ว่าคุณ";
		mes "ต้องการจะพบเธออีกครั้ง";
		mes "ในสถานที่ที่คุณทั้งสองพบกันครั้งแรก";
		mes "ผมคิดว่าคุณได้พบเธอจริงๆ...";
		mes "ในวันที่ 19 สิงหาคม วันที่เธอนั่นแหละ!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "ผมสันนิษฐานว่าสถานที่ที่คุณ";
		mes "ทั้งสองพบกันครั้งแรกอยู่ใกล้กับ";
		mes "แม่น้ำ เลิกโกหกได้แล้ว:";
		mes "บอกผมมาเถอะว่ามันเกิดอะไรขึ้นกันแน่!";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "............";
		mes ".........";
		mes "......";
		next;
		cutin "kh_Kyel03",2;
		mes "[Kiel Hyre]";
		mes "เฮ้อ... หึ หึ หึ...";
		mes "ใช่... ถูกต้องแล้ว...";
		mes "คืนอันโหดร้ายนั่น";
		mes "ฉันยังจำมันได้เป็นอย่างดี...";
		mes ".....................";
		next;
		cutin "kh_kyel02",2;
		mes "[Kiel Hyre]";
		mes "คืนนั้น เมื่อเธอมาถึง";
		mes "ที่แม่น้ำเพื่อพบฉันตาม";
		mes "ที่ฉันขอร้อง ฉันอ้อนวอนให้เธอ";
		mes "หนีไปกับฉัน แทนที่จะ";
		mes "คอยเจ้า James นั่น";
		next;
		mes "[Kiel Hyre]";
		mes "เธอยืนกรานว่า James";
		mes "ไม่เคยทรยศเธอ และเขา";
		mes "สัญญาว่าจะพาเธอหนีไป";
		mes "ด้วยกันในวันรุ่งขึ้น คุณ";
		mes "จินตนาการได้ไหมว่าฉันรู้สึก";
		mes "อย่างไร? ฉันไม่มีความหมายต่อเธอเลย";
		next;
		mes "[Kiel Hyre]";
		mes "ความรู้สึกของฉันไม่มีค่าสำหรับ";
		mes "เธอเลยแม้แต่นิดเดียว! เธอเอาแต่กระสับกระส่าย";
		mes "กับแหวนวงนั้น... ฉันเลยขาดสติ";
		mes "และพยายามที่จะแย่งชิงเจ้าสิ่งงี่เง่า";
		mes "นั่นมาจากเธอ และจะ";
		mes "ขว้างมันทิ้งลงไปในแม่น้ำ...";
		next;
		mes "[Kiel Hyre]";
		mes "แต่คุณรู้อะไรไหม?";
		mes "เธอดิ้นรน เธอต่อสู้";
		mes "กับฉันจริงๆ! มันเป็นแค่การ";
		mes "ทะเลาะกันเล็กน้อย แต่แล้ว ก่อนที่ฉันจะ";
		mes "รู้ตัว พื้นดินข้างใต้พวกเรา";
		mes "ก็พังทลายลง และ... ฝนก็ตก...";
		next;
		select(".........");
		mes "[Kiel Hyre]";
		mes "ฉันไม่แน่ใจว่ามันเกิด";
		mes "อะไรขึ้น น้ำฝนทำให้พื้นดิน";
		mes "อ่อนตัวลง บางอย่างผิดพลาด...";
		mes "แล้วเธอก็... แค่... แค่...";
		mes "แม่น้ำก็กลืนกินเธอไป...";
		mes "ฉันรู้สึกว่างเปล่า เธอจากไปแล้ว ";
		delitem 7499,1; //Family_Portrait
		delitem 7500,1; //Elysia_Portrait
		delitem 7501,1; //Kyll_Hyre_Letter2
		delitem 7502,1; //Piece_Memo_Of_James
		delitem 7503,1; //Man_Portrait
		set KielHyreQuest,70;
		close2;
		cutin "",255;
		end;
	}
	else if (KielHyreQuest <= 70) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "คุณรู้อยู่แล้วนี่ว่า";
		mes "พบศพเธอในวันรุ่ง";
		mes "ขึ้น แต่สิ่งที่ทำให้ฉัน";
		mes "หัวใจสลายจริงๆ ก็คือ";
		mes "เธอถือแหวนวงนั้นไว้แน่น";
		mes "ในมือ แม้กระทั่งยามสิ้นใจ...";
		next;
		cutin "kh_kyel03",2;
		mes "[Kiel Hyre]";
		mes "ครอบครัวของเขามีทุกสิ่งทุกอย่าง";
		mes "ในขณะที่ฉันไม่มีอะไรเลย และ";
		mes "เขายังกล้าดีที่มาพราก";
		mes "Allysia ไปจากฉันงั้นหรือ?!";
		mes "มันจะถูกต้องไปได้ยังไง?";
		next;
		mes "[Kiel Hyre]";
		mes "แม้ว่าเธอจะจากโลกนี้";
		mes "ไปแล้ว ฉันก็ยังต้องการจะพิสูจน์";
		mes "ให้ Allysia เห็นว่า James นั้นเป็น";
		mes "คนที่น่ารังเกียจแค่ไหน";
		mes "นั่นคือตอนที่ฉันได้เข้าร่วมกับ";
		mes "Rekenber Corporation";
		next;
		mes "[Kiel Hyre]";
		mes "ฉันได้ออกแบบหุ่นยนต์";
		mes "รุ่นที่หนึ่งเป็นรุ่นแรกสุด ซึ่ง";
		mes "ฉันตั้งชื่อว่า Allysia และขายแบบ";
		mes "ร่างให้กับ Rekenber ฉันให้หุ่นยนต์";
		mes "แก่พวกเขา และพวกเขาก็ให้เงิน";
		mes "อำนาจ และลูกน้องที่ซื่อสัตย์แก่ฉัน";
		next;
		mes "[Kiel Hyre]";
		mes "แน่นอนว่าฉันรู้อยู่แล้วว่าพวกเขาจะ";
		mes "ใช้หุ่นยนต์ของฉันเพื่อสอดแนมและฆ่าฟัน!";
		mes "แต่คุณรู้อะไรไหม? มันไม่";
		mes "สำคัญหรอก ตราบใดที่พวกเขามอบ";
		mes "หนทางในการแก้แค้นให้ฉัน มันเป็น";
		mes "การร่วมมือที่สมบูรณ์แบบจริงๆ";
		next;
		mes "[Kiel Hyre]";
		mes "ตอนนี้คุณมีฉันอยู่ใน";
		mes "จุดที่คุณต้องการแล้ว";
		mes "คุณทำงานให้ใคร และ";
		mes "คุณต้องการอะไรกันแน่? แบบร่างของฉัน?";
		mes "ความตายของฉัน? ทุกอย่างเลยงั้นหรือ...?";
		next;
		cutin "kh_kyel01",2;
		mes "["+strcharinfo(0)+"]";
		mes "ความจริงแล้ว ผมแค่ต้องการ";
		mes "ถามเกี่ยวกับลักษณะความสัมพันธ์";
		mes "ทางวิชาชีพของคุณกับ";
		mes "Rekenber Corporation ครับ";
		mes "และเรื่องเกี่ยวกับ Kiehl ด้วย";
		next;
		mes "[Kiel Hyre]";
		mes "Kiehl งั้นหรือ? หลังจากที่ฟัง";
		mes "เรื่องราวบ้าๆ ของฉันแล้ว ฉันเดาว่า";
		mes "คุณคงจะสงสัยความจริง";
		mes "เกี่ยวกับเขาแล้วล่ะ... เขาก็เป็น";
		mes "หุ่นยนต์เหมือนกัน โดยเฉพาะหุ่นตัวแรก";
		mes "ของหุ่นยนต์รุ่นที่สองนั่น";
		next;
		mes "[Kiel Hyre]";
		mes "จิตใจของเขาถูกพัฒนาขึ้นโดยใช้";
		mes "รูปแบบการทดลองที่ไม่เสถียร";
		mes "ของ Condensed Magic";
		mes "Spell Scrolls เขาเป็นหุ่นยนต์";
		mes "รุ่นที่สองเพียงตัวเดียวที่";
		mes "ฉันได้รับอนุญาตให้เก็บไว้";
		next;
		mes "[Kiel Hyre]";
		mes "ฉันรู้สึกผูกพันกับ";
		mes "Kiehl มาก ไม่น่าแปลกใจเลย";
		mes "เมื่อเห็นว่าวิศวกรรมหุ่นยนต์ได้";
		mes "กลายเป็นชีวิตของฉันไปแล้ว ฉันถึงกับ";
		mes "เลี้ยงดูเขาเหมือนเป็นลูกชายแท้ๆ และสอน";
		mes "เขาทุกอย่างเกี่ยวกับวิศวกรรมหุ่นยนต์";
		next;
		mes "[Kiel Hyre]";
		mes "ตอนนี้ Kiehl เป็นอัจฉริยะ";
		mes "และยังได้พัฒนาหุ่นยนต์";
		mes "รุ่นที่สามขึ้นมาอีกด้วย";
		mes "แต่น่าเสียดายที่ฉันล้มเหลวใน";
		mes "การเลี้ยงดูเขาให้เติบโตมาพร้อมกับ";
		mes "ศีลธรรมและจริยธรรมของมนุษย์";
		next;
		select("......");
		mes "[Kiel Hyre]";
		mes "เขากำลังดัดแปลง";
		mes "หุ่นยนต์รุ่นที่สาม";
		mes "ให้กลายเป็นเครื่องจักรสังหาร นั่นคือ";
		mes "เหตุผลที่ฉันพยายามจะส่งพวกเขาทั้งหมด";
		mes "เข้าโรงเรียน เพื่อที่พวกเขา";
		mes "จะได้เรียนรู้พฤติกรรมของมนุษย์";
		next;
		mes "[Kiel Hyre]";
		mes "ถึงแม้ว่าโรงเรียนจะ";
		mes "ทำให้แผนของ Kiehl ล่าช้าลง";
		mes "เขาก็ทำสำเร็จในการ";
		mes "เปลี่ยนหุ่นยนต์ทั้งหมด";
		mes "ให้กลายเป็นเครื่องยนต์ทำลายล้าง";
		mes "ที่ไม่สามารถควบคุมได้";
		next;
		mes "[Kiel Hyre]";
		mes "ใช่ เขากำลังทำงาน";
		mes "อย่างใกล้ชิดกับ Rekenber";
		mes "เป้าหมายที่แท้จริงของพวกเขาก็คือ";
		mes "การสร้างเครื่องจักรสังหาร";
		mes "ไว้สำหรับการใช้งานของ Rekenber";
		next;
		mes "[Kiel Hyre]";
		mes "ตอนนี้คุณรู้ความลับทั้งหมด";
		mes "ในอดีตของฉันแล้ว ฉันไม่ได้";
		mes "โกรธคุณหรืออะไรหรอกนะ";
		mes "แต่ฉันมีบางอย่าง";
		mes "ที่อยากจะขอร้องคุณ";
		next;
		mes "[Kiel Hyre]";
		mes "ได้โปรด! ช่วยหยุด Kiehl ที!";
		mes "ฉันไม่อยากให้ความบ้าคลั่งของเขา";
		mes "มาทำลายหุ่นยนต์ไปมากกว่านี้!";
		mes "ฉันมองว่าพวกเขาแต่ละคน";
		mes "ก็เหมือนกับลูกหลานของฉันคนหนึ่ง!";
		next;
		mes "[Kiel Hyre]";
		mes "ฉันรู้ว่าฉันต้องรับผิด";
		mes "ชอบอย่างเต็มที่ต่อทุกสิ่ง";
		mes "ที่เกิดขึ้น ฉันสัญญาว่าจะ";
		mes "รับโทษจากการกระทำของฉัน";
		mes "ทันทีที่ทุกอย่างได้รับการแก้ไข";
		next;
		select("ยอมรับ:ตกลง:พยักหน้า");
		mes "[Kiel Hyre]";
		mes "ขอบคุณมากจริงๆ!";
		mes "คุณสามารถพบ Kiehl ได้";
		mes "ในชั้นใต้ดินของ";
		mes "คฤหาสน์หลังนี้";
		next;
		mes "[Kiel Hyre]";
		mes "เขาพักอยู่ในห้องเก่า";
		mes "ที่ซึ่งเขาถูกสร้างขึ้นมา แต่";
		mes "เขาได้สร้างมันขึ้นมาใหม่ให้เป็น";
		mes "ถ้ำบางอย่างเพื่อกันทุกคน";
		mes "ออกไป รวมทั้งฉันด้วย ใช่ เขา";
		mes "ไม่เชื่อใจใครอีกต่อไปแล้ว...";
		next;
		mes "[Kiel Hyre]";
		mes "เมื่อคุณพบเขา ฉันต้องการ";
		mes "ให้คุณนำแหวนของ Allysia";
		mes "ออกมาจากหัวใจของเขา หากคุณ";
		mes "เอามันออกมา นั่นน่าจะช่วยหยุด";
		mes "ไม่ให้เขาคลุ้มคลั่งได้";
		next;
		select("แหวนของ Allysia?");
		mes "[Kiel Hyre]";
		mes "ใช่... แหวนของเธอคือ";
		mes "จุดเริ่มต้นของทุกสิ่งทุกอย่าง";
		mes "ฉันใส่มันไว้ในใจเขาเพื่อ";
		mes "ที่ฉันจะได้ไม่ลืมสิ่งที่";
		mes "ตระกูล Rosimier ทำไว้กับฉัน";
		next;
		mes "[Kiel Hyre]";
		mes "ฉันคิดว่า Kiehl แข็งแกร่ง";
		mes "ขึ้นมากจนอาวุธธรรมดาๆ";
		mes "อาจจะไม่สามารถทำอะไรเขา";
		mes "ได้อีกต่อไป จงใช้อุปกรณ์ชิ้นนี้";
		mes "ที่จะทำให้แหล่งจ่ายพลังงาน";
		mes "ของเขาเกิดความแปรปรวน";
		getitem 7504,1; //Toy_Motor
		next;
		cutin "kh_kyel03",2;
		mes "[Kiel Hyre]";
		mes "หากคุณติดตั้งสิ่งนี้ลงบน";
		mes "ร่างกายของ Kiehl ได้สำเร็จ";
		mes "เขาก็จะไม่สามารถใช้พลัง";
		mes "ทั้งหมดของเขาได้ ในขณะที่เขา";
		mes "อ่อนแอลง ให้เปิดหน้าอกของเขาออก";
		mes "แล้วนำแหวนออกมาจากหัวใจของเขาซะ";
		next;
		mes "[Kiel Hyre]";
		mes "แจ้งให้ฉันทราบทันทีเมื่อ";
		mes "คุณพร้อมแล้ว จากนั้นฉันจะ";
		mes "นำทางคุณไปที่ห้องของ Kiehl";
		set KielHyreQuest,74;
	}
	else if ((KielHyreQuest >= 74) && (KielHyreQuest <= 104)) {
		mes "[Kiel Hyre]";
		mes "คุณพร้อมที่จะ";
		mes "เผชิญหน้ากับ";
		mes "Kiehl แล้วหรือยัง?";
		next;
		switch(select("พร้อม:ยังไม่พร้อม")) {
		case 1:
			mes "[Kiel Hyre]";
			mes "นั่นแหละ... ทางลับ";
			mes "เปิดออกแล้วในตอนนี้";
			mes "ไปทางขวาของฉันเลย";
			mes "แต่จงระวังตัวด้วย Kiehl";
			mes "นั้นอันตรายอย่างยิ่ง";
			close2;
			enablenpc "Kiehl_Room_Warp";
			donpcevent "Kiehl_Room_Warp::OnEnable";
			cutin "",255;
			end;
			break;
		case 2:
			mes "[Kiel Hyre]";
			mes "ตามสบายเลย";
			mes "ฉันนึกภาพออกว่ามัน";
			mes "คงไม่ง่ายนักหรอก";
			break;
		}
	}
	else if ((KielHyreQuest >= 74) && (KielHyreQuest <= 106)) {
		cutin "kh_kyel01",2;
		mes "[Kiel Hyre]";
		mes "คุณกลับมาแล้ว...!";
		mes "แล้วคุณสามารถไปนำ";
		mes "แหวนของ Allysia ออกมาจาก";
		mes "หัวใจของ Kiehl ได้ไหม?";
		next;
		if (countitem(7508) < 1) {
			mes "[Kiel Hyre]";
			mes "คุณหมายความว่า... คุณไม่ได้มันมาหรือ?";
			mes "ได้โปรด นำแหวนของ Allysia ออกมาจาก";
			mes "หัวใจของ Kiehl ให้ได้!";
			next;
			enablenpc "Kiehl_Room_Warp";
			donpcevent "Kiehl_Room_Warp::OnEnable";
			close2;
			cutin "",255;
			end;
		}
		mes "[Kiel Hyre]";
		mes "น-นี่มันเกิดอะไรขึ้น...?";
		mes "Kiehl พัฒนาร่างใหม่";
		mes "ให้ตัวเองงั้นหรือ? นั่น";
		mes "จะทำให้เขากลายเป็นหุ่นยนต์";
		mes "รุ่นที่สี่ ฉันไม่มีความคิด";
		mes "เลยว่าเขาจะฉลาดขนาดนี้";
		next;
		mes "[Kiel Hyre]";
		mes "เดี๋ยวสิ พอฉันลองมานึกดูอีกที";
		mes "ฉันก็เคยเห็นร่างหุ่นยนต์ที่";
		mes "ดูเหมือน Kiehl ตอนที่ฉัน";
		mes "ถูกขังอยู่ในโรงงาน ดังนั้นเขา";
		mes "จึงใช้ก๊อปปี้เหล่านั้นเพื่อ";
		mes "พัฒนาการอัปเกรดส่วนตัว";
		next;
		mes "[Kiel Hyre]";
		mes "นี่ รับ Keycard นี้ไป";
		mes "ซึ่งจะช่วยให้คุณสามารถ";
		mes "เข้าไปสำรวจในระดับลึกที่สุด";
		mes "ของโรงงานได้ ฉันจะคอย";
		mes "ตรวจสอบห้องของ Kiehl เอง";
		getitem 7509,1; //Fancy_Key_Card
		set KielHyreQuest,108;
		next;
		if (Sex == SEX_FEMALE) {
			if (getpartnerid() == 0) set .@KHTitle$,"คุณ (Miss)";
			else set .@KHSTitle$,"คุณ (Mrs)";
		}
		else set .@KHTitle$,"คุณ (Mr)";
		mes "[Kiel Hyre]";
		mes "Kiehl อยู่ในความรับผิดชอบของฉัน...";
		mes "ไม่ว่าจะต้องแลกด้วยอะไรก็ตาม";
		mes "ฉันต้องหยุดเขาให้ได้! โอ้";
		mes "แล้วก็นี่ โปรดรับสิ่งนี้ไว้";
		mes "แทนคำขอบคุณสำหรับความช่วยเหลือ";
		mes "ทั้งหมดของคุณนะ "+.@KHTitle$+" "+strcharinfo(0)+".";
		getitem 616,1; //Old Card Album
		delitem 7508,1; //Elysia_Ring
		getexp (checkre(3))?100000:1000000,0;
	}
	else if (KielHyreQuest >= 108) {
		mes "[Kiel Hyre]";
		mes "......";
		mes ".........";
		mes "............";
	}
	close2;
	cutin "",255;
	end;
}


//----------------------------------------------------------------------------
// Allysia
//----------------------------------------------------------------------------
kh_mansion,18,30,4	script	Allysia	894,{
	if (KielHyreQuest < 46) {
		mes "[Allysia]";
		mes "คุณเป็นใคร?";
		mes "คุณเข้ามาที่นี่ได้อย่างไร?";
		mes "ออกไปซะ";
		close;
	}
	cutin "kh_ellisia",2;
	if (KielHyreQuest < 70) {
		mes "[Allysia]";
		mes "คุณคงจะประหลาดใจ";
		mes "กับทุกสิ่งที่กำลัง";
		mes "เกิดขึ้น บางทีทุกอย่าง";
		mes "อาจจะเข้าใจได้ง่ายขึ้น";
		mes "ถ้าฉันอธิบายเรื่องหุ่นยนต์ให้ฟัง?";
		next;
		switch(select("ใช่:ไม่")) {
		case 1:
			mes "[Allysia]";
			mes "หุ่นยนต์ที่คุณได้";
			mes "พบเจอคือหุ่นเชิด";
			mes "กลไกอัตโนมัติที่สามารถ";
			mes "คิดและทำงานได้อย่างอิสระ";
			mes "เหล่านักปราชญ์มากมายพยายามจะพัฒนา";
			mes "หุ่นยนต์ของตนเอง แต่ก็ล้มเหลว";
			next;
			mes "[Allysia]";
			mes "เจ้านายของฉัน Kiel Hyre ได้";
			mes "ศึกษาด้านวิศวกรรมหุ่นยนต์ตั้งแต่";
			mes "เขาอายุยี่สิบปี และ";
			mes "ได้พัฒนาหุ่นยนต์ขึ้นมาสาม";
			mes "รุ่นที่แตกต่างกัน คือรุ่นที่หนึ่ง,";
			mes "รุ่นที่สอง และรุ่นที่สาม";
			next;
			switch(select("รุ่นที่หนึ่ง:รุ่นที่สอง:รุ่นที่สาม")) {
			case 1:
				mes "[Allysia]";
				mes "ฉันคือตัวอย่างที่ดีของหนึ่งใน";
				mes "หุ่นยนต์รุ่นที่หนึ่งของ Kiel Hyre";
				mes "ฉันถูกสร้างขึ้นโดยใช้";
				mes "โครงสร้างกลไกที่หนักหน่วง,";
				mes "หัวใจจักรกล และผิวหนัง";
				mes "ที่สังเคราะห์ขึ้นจากสารเคมี";
				next;
				mes "[Allysia]";
				mes "หน่วยประมวลผลกลางของฉัน,";
				mes "ซึ่งเทียบเท่ากับสมองของคุณ คือ";
				mes "Memory Scroll ซึ่งมีพื้นฐาน";
				mes "การออกแบบมาจาก Magic Spell Scrolls";
				mes "ที่เหล่านักผจญภัยใช้ในการต่อสู้";
				next;
				mes "[Allysia]";
				mes "ฉันเป็นหุ่นยนต์ฮิวแมนนอยด์";
				mes "ประเภทที่เก่าแก่ที่สุด ดังนั้นฉันจึงมีน้ำหนัก";
				mes "มาก และจิตใจของฉันสามารถ";
				mes "ประมวลผลข้อมูลได้ในปริมาณจำกัด";
				mes "ดังนั้น ฉันจึงไม่สามารถแสดง";
				mes "อารมณ์ได้เหมือนกับมนุษย์";
				next;
				break;
			case 2:
				mes "[Allysia]";
				mes "หุ่นยนต์รุ่นที่หนึ่ง";
				mes "ถูกพัฒนามาจากชิ้นส่วนกลไก";
				mes "เป็นส่วนใหญ่ แต่หุ่นยนต์";
				mes "รุ่นที่สองได้มีการนำ";
				mes "วิทยาศาสตร์และเทคโนโลยี Homunculus";
				mes "มาผสมผสานเข้าด้วยกัน";
				next;
				mes "[Allysia]";
				mes "หุ่นยนต์รุ่นที่สอง";
				mes "ดูเหมือนมีชีวิตมากขึ้นเนื่องจาก";
				mes "มีผิวหนังและเนื้อเยื่อที่สร้างขึ้นเทียม";
				mes "แม้ว่าพวกมันจะยังถูกสร้างขึ้น";
				mes "จากโครงสร้างกลไกที่หนักก็ตาม";
				next;
				mes "[Allysia]";
				mes "เทคโนโลยี Sage elemental scroll";
				mes "ได้ถูกนำมาใช้เพื่อพัฒนา";
				mes "Condensed Memory Scroll ซึ่งเป็น";
				mes "หน่วยประมวลผลกลางที่เหนือกว่า";
				mes "แบบที่ใช้ในหุ่นยนต์รุ่นที่หนึ่ง";
				next;
				mes "[Allysia]";
				mes "แม้ว่า Condensed Memory";
				mes "Scroll จะทรงพลังกว่า";
				mes "Memory Scroll ทั่วไปถึง 100,000 เท่า";
				mes "แต่พวกมันก็มีปัญหาและ";
				mes "มักจะเกิดข้อผิดพลาดได้ง่ายเกินไป";
				next;
				mes "[Allysia]";
				mes "หุ่นยนต์รุ่นที่สอง";
				mes "สามารถแสดงอารมณ์";
				mes "ที่เหมือนมนุษย์ได้ แต่การผลิต";
				mes "ของพวกมันหยุดลงหลังจากผ่านไปหกปี";
				mes "เนื่องจากพวกมันถูก";
				mes "พิจารณาว่ามีความบกพร่อง";
				next;
				break;
			case 3:
				mes "[Allysia]";
				mes "หุ่นยนต์รุ่นที่สาม";
				mes "ส่วนใหญ่ถูกออกแบบโดย";
				mes "Kiehl ลูกชายของ Kiel Hyre";
				mes "และไม่ใช้โครงสร้างกลไก";
				mes "เลยแม้แต่นิดเดียว: ทั้งร่างกาย";
				mes "โดยพื้นฐานแล้วคือ homunculus";
				next;
				mes "[Allysia]";
				mes "ด้วยร่างกายแบบออร์แกนิก";
				mes "และหัวใจเทียมขั้นสูงที่ทำจาก";
				mes "ชิ้นส่วนเลียนแบบ Ymir Heart Pieces";
				mes "พวกมันจึงสามารถสัมผัสปรากฏการณ์";
				mes "ทางสรีรวิทยาได้เหมือนกับ";
				mes "มนุษย์ธรรมดาทั่วไป";
				next;
				mes "[Allysia]";
				mes "Kiehl สามารถพัฒนา";
				mes "Condensed Memory Scroll";
				mes "ในรูปแบบที่เสถียรยิ่งขึ้น";
				mes "ซึ่งไม่ประสบปัญหาข้อผิดพลาด";
				mes "ขั้นรุนแรง และสามารถ";
				mes "ผลิตจำนวนมากได้ในราคาถูก";
				next;
				mes "[Allysia]";
				mes "จริงๆ แล้ว Elly คือหุ่นยนต์";
				mes "รุ่นที่สามรุ่นต้นแบบ เมื่อเรา";
				mes "ปรับปรุงรุ่นต้นแบบให้เหมาะสมแล้ว";
				mes "เราจะเริ่มการผลิตจำนวนมาก";
				mes "อันที่จริง สถาบันการศึกษาก็คือ";
				mes "สนามทดสอบหุ่นยนต์ต้นแบบของเรา";
				next;
				mes "[Allysia]";
				mes "ความจริงที่ว่าหุ่นยนต์ต้นแบบ";
				mes "ของเราสามารถมีปฏิสัมพันธ์ได้เหมือน";
				mes "มนุษย์จริงๆ คือข้อพิสูจน์ถึงความ";
				mes "สำเร็จในด้านวิศวกรรมหุ่นยนต์ของเรา";
				next;
				break;
			}
		case 2:
			mes "[Allysia]";
			mes "โปรดแจ้งให้ฉันทราบหาก";
			mes "คุณต้องการเรียนรู้เพิ่มเติม";
			mes "เกี่ยวกับหุ่นยนต์ของ Kiel Hyre";
			break;
		}
	}
	else {
		mes "[Allysia]";
		mes "......";
		mes ".........";
		mes "............";
	}
	close2;
	cutin "",255;
	end;
}

//----------------------------------------------------------------------------
// Abduction triggering NPC
//----------------------------------------------------------------------------
lighthalzen,188,200,0	script	Abduction_trigger	-1,3,1,{
OnTouch:
	if (KielHyreQuest == 50) {
		mes "^3355FFขณะที่คุณเดินออกมาจาก";
		mes "คฤหาสน์ มีบางอย่าง";
		mes "ฟาดลงที่ส่วนบนของ";
		mes "หัวคุณ และคุณก็";
		mes "หมดสติไปในทันที...";
		close2;
		percentheal -99,0;
		warp "kh_mansion",30,75;
	}
	end;
}

//----------------------------------------------------------------------------
// Mysterious Woman "Mitchell Layla"
//----------------------------------------------------------------------------
kh_mansion,25,79,4	script	Mysterious Woman#kh	727,3,3,{

OnTouch:
	if (KielHyreQuest == 50) {
		mes "^3355FFคุณตื่นขึ้นมาพร้อมกับอาการ";
		mes "ปวดหัวตุบๆ และพบหญิงลึกลับ";
		mes "คนหนึ่งยืนอยู่ตรงหน้าคุณ^000000";
		next;
		mes "[??????]";
		mes "หืม? โอ๊ะ คุณฟื้น";
		mes "เร็วกว่าที่ฉันคิดนะ";
		mes "คุณคงจะรู้สึกสับสน";
		mes "แต่จงฟังให้ดี ถ้าคุณ";
		mes "ไม่ฟัง ฉันก็ไม่สามารถรับประกัน";
		mes "ความปลอดภัยของคุณได้ โอเคไหม? เอาล่ะ";
		next;
		mes "[??????]";
		mes "สิ่งที่คุณต้องรู้ก็คือ";
		mes "ฉันเป็นสายลับของรัฐบาล";
		mes "สาธารณรัฐ Schwarzwald";
		mes "เรากำลังตรวจสอบกิจกรรมที่ผิดปกติ";
		mes "ระหว่าง Kiel Hyre และ Rekenber Corporation";
		next;
		mes "[??????]";
		mes "เราเห็นคุณเข้าไปใน";
		mes "คฤหาสน์และพูดคุยกับ";
		mes "Kiel Hyre ดังนั้นโดยพื้นฐานแล้ว";
		mes "คุณมาที่นี่เพื่อถูกสอบสวน";
		mes "ทีนี้บอกความจริงมา คุณรู้จัก";
		mes "Kiel Hyre ได้อย่างไร?";
		next;
		switch(select("ฉันจะเล่าทุกอย่างให้ฟัง!:ฉันไม่รู้อะไรทั้งนั้น!")) {
		case 2:
			mes "[??????]";
			mes "ไม่... รู้... อะไรเลยงั้นเหรอ?";
			mes "คุณแน่ใจเหรอ? มีเพียง";
			mes "ไม่กี่คนเท่านั้นที่สามารถพูดคุย";
			mes "กับ Kiel Hyre เป็นการส่วนตัวได้ คุณ";
			mes "ต้องมีความเกี่ยวข้องบางอย่าง";
			mes "กับเขา ฉันพูดถูกใช่ไหมล่ะ?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "......";
			mes ".........";
			mes "............";
			next;
			mes "[??????]";
			mes "คุณกำลังพยายามปกป้อง";
			mes "เขาเหรอ? ฉันคิดว่าคุณอาจจะ";
			mes "ไม่เข้าใจว่าคนประเภทไหนที่";
			mes "คุณกำลังรับมืออยู่กันแน่ ฉันจะบอก";
			mes "สิ่งที่คุณฉันได้รู้เกี่ยวกับเขาให้ฟัง...";
			next;
			mes "[??????]";
			mes "Kiel Hyre ประธานบริหารของ";
			mes "Kiel Hyre Foundation,";
			mes "ผู้ผลิตเครื่องจักรต่างๆ";
			mes "บริษัทของเขาเริ่มจากร้านเล็กๆ ใน Einbroch";
			mes "ซึ่งเทคโนโลยีของเขาค่อยๆ มีชื่อเสียงขึ้น";
			next;
			mes "[??????]";
			mes "Rekenber Corperation ได้เสนอ";
			mes "ควบรวมกิจการกับ Kiel Hyre";
			mes "Foundation เรายังไม่แน่ใจ";
			mes "ว่าทำไมพวกเขาถึงต้องการ Kiel";
			mes "Hyre เป็นพิเศษเพื่อซ่อมแซม";
			mes "และพัฒนา Guardians ของพวกเขา...";
			next;
			mes "[??????]";
			mes "เรายังไม่แน่ใจอีกด้วยว่าทำไม";
			mes "พวกเขาถึงหันมาโฟกัสที่";
			mes "การพัฒนา Guardian กะทันหัน";
			mes "จากนั้น อยู่ๆ ลูกชายของ";
			mes "Kiel Hyre ก็ปรากฏตัวขึ้น";
			mes "มาจากไหนก็ไม่รู้";
			next;
			mes "[??????]";
			mes "มันน่าสงสัยมาก";
			mes "ไม่มีบันทึกการเกิดของเขา";
			mes "หรืออะไรเลย ถึงอย่างนั้น บางที";
			mes "Kiel Hyre อาจจะมีเขากับ";
			mes "เลขานุการของเขาที่ชื่อ Allysia";
			mes "ก็นะ ไม่มีใครแน่ใจหรอก";
			next;
			mes "[??????]";
			mes "ไม่ว่าอย่างไรก็ตาม ลูกชายและ";
			mes "ทายาทของ Kiel Hyre ที่ชื่อ Kiehl";
			mes "ก็ได้ช่วยพ่อของเขาก่อตั้งสถาบัน";
			mes "การศึกษาพิเศษแห่งนี้ขึ้นมาเพื่อ";
			mes "เป็นการตอบแทนสังคม";
			next;
			mes "[??????]";
			mes "เกือบทุกบริษัทและองค์กร";
			mes "พยายามจะส่งสายลับเข้าไป";
			mes "ในสถาบันแห่งนี้ แต่พวกเขาทั้งหมด";
			mes "ก็ถูกปฏิเสธ มันแปลกมาก อย่างน้อย";
			mes "ก็น่าจะมีใครสักคนผ่านเข้าไปได้บ้าง";
			next;
			mes "[??????]";
			mes "และเมื่อเร็วๆ นี้ Kiehl Hyre";
			mes "ได้จัดประชุมลับกับผู้บริหาร";
			mes "ของ Rekenber เพื่อประกาศ";
			mes "โปรเจกต์ใหม่ของเขา เขามีแผนที่จะ";
			mes "สร้างหุ่นยนต์ฮิวแมนนอยด์ขั้นสูง";
			mes "ที่จะมาแทนที่เหล่า guardian!";
			next;
			mes "[??????]";
			mes "สายลับของเรารายงานว่า";
			mes "ไม่มีใครเห็น Kiel Hyre";
			mes "ในการประชุมครั้งนั้นเลย รวมถึง";
			mes "เลขานุการที่เขาไว้วางใจอย่าง Allysia";
			mes "เขา... เขาหายตัวไปเฉยๆ!";
			next;
			mes "[??????]";
			mes "จากนั้น Kiel Hyre ก็โผล่กลับ";
			mes "มาที่คฤหาสน์ของเขาหลังจาก";
			mes "เวลาผ่านไปราวกับไม่มีอะไร";
			mes "เกิดขึ้น! ในขณะเดียวกัน Kiehl";
			mes "ก็หายตัวไป โดยอ้างเหตุผลว่า";
			mes "ไปทำการวิจัย";
			next;
			mes "[??????]";
			mes "Rekenber กำลังสนับสนุน";
			mes "ทั้ง Kiehl และ Kiel แต่";
			mes "มันมีความขัดแย้งบางอย่าง";
			mes "เกิดขึ้นระหว่างพ่อลูกคู่นี้";
			mes "ฉันรู้ดี! ทีนี้บอกฉันมาสิว่าเกิดอะไรขึ้น?";
			next;
			mes "[??????]";
			mes "ฉันไม่แน่ใจว่าคุณรู้จักประเทศ";
			mes "นี้ดีแค่ไหน แต่ความจริงที่ว่า";
			mes "Rekenber เข้ามาเกี่ยวข้อง มันบอก";
			mes "ได้ว่าพวกเขาไม่ใช่คนดี บอกฉันมา";
			mes "ในสิ่งที่คุณรู้เกี่ยวกับพวกเขาซะ!";
			next;
		case 1:
			mes "^3355FFคุณบอกผู้หญิงคนนั้น^000000";
			mes "^3355FFถึงทุกอย่างที่คุณรู้เกี่ยวกับ^000000";
			mes "^3355FFKiel Hyre เสียงของคุณสั่น^000000";
			mes "^3355FFด้วยความเศร้าทุกครั้งที่คุณ^000000";
			mes "^3355FFเอ่ยถึง Elly^000000";
			next;
			mes "[??????]";
			mes "ฉันเข้าใจแล้ว เข้าใจแล้ว...";
			mes "เด็กสาวผู้น่าสงสารคนนั้น... ดังนั้น...";
			mes "การที่คุณเข้ามาพัวพันกับเรื่องนี้";
			mes "มันคือเรื่องบังเอิญงั้นเหรอ? ถ้าอย่างนั้น";
			mes "ฉันต้องการความช่วยเหลือจากคุณ";
			mes "ในการสืบสวนของเรา";
			next;
			switch(select("ตกลง:......")) {
			case 2:
				mes "[??????]";
				mes "ถ้าคุณไม่ร่วมมือ";
				mes "ฉันก็รับประกันความปลอดภัย";
				mes "ของคุณไม่ได้นะ นักผจญภัย";
				next;
				mes "["+strcharinfo(0)+"]";
				mes "หือ? อะไรนะ...?";
				mes "นั่นหมายความว่ายังไง?";
				mes "คุณกำลังขู่ผมเหรอ?";
				next;
				select("แค่ทำตามที่เธอบอกไปเถอะ");
			case 1:
				mes "[??????]";
				mes "เยี่ยม";
				mes "ฉันคือ Agent Mitchell Layla";
				mes "จากนี้ไป คุณกำลังทำงาน";
				mes "ให้กับสาธารณรัฐ Schwarzwald!";
				set KielHyreQuest,52;
				close;
			}
		}
	}
	else if (KielHyreQuest == 52) {
		mes "[Mitchell]";
		mes "ฉันมีข้อมูลใหม่";
		mes "สำหรับคุณ";
		mes "มีหญิงชราคนหนึ่งใน";
		mes "Juno ที่รู้จักผู้หญิงที่ชื่อ";
		mes "Allysia เมื่อ 30 ปีก่อน";
		next;
		mes "[Mitchell]";
		mes "ข้อสรุปสำคัญคือ Allysia";
		mes "คนนี้จากเมื่อ 30 ปีก่อนได้";
		mes "ฆ่าตัวตายไปแล้ว และเธอมี";
		mes "ลักษณะเหมือนกับเลขานุการ";
		mes "ของ Kiel Hyre ที่มีชื่อว่า";
		mes "Allysia เช่นกัน";
		next;
		mes "[Mitchell]";
		mes "นี่มันเป็นเรื่องบังเอิญเกินไป";
		mes "ฉันต้องการให้คุณไปที่ Juno";
		mes "และสืบสวนเรื่องนี้ เมื่อคุณทำ";
		mes "เสร็จแล้ว ให้ไปคุยกับพ่อบ้าน";
		mes "ของ Kiel Hyre แล้วเขาจะ";
		mes "ส่งคุณมาพบฉัน";
		next;
		mes "[Mitchell]";
		mes "ใช่ ฉันรู้";
		mes "หมอนั่นทำงานให้ฉันน่ะ";
		mes "เอาเป็นว่า เมื่อคุณพร้อม";
		mes "จะไปที่ Juno แล้วล่ะก็ บอกฉันนะ";
		mes "คุณสามารถขึ้นเรือเหาะของรัฐบาลได้";
		set KielHyreQuest,54;
		close;
	}
	else if (KielHyreQuest == 54) {
		mes "[Mitchell]";
		mes "คุณพร้อมหรือยัง?";
		mes "ฉันจะให้คุณขึ้นเรือเหาะ";
		mes "ของรัฐบาล เพื่อที่คุณจะ";
		mes "ได้ไปถึง Juno และทำ";
		mes "ภารกิจให้เสร็จโดยเร็ว";
		next;
		switch(select("ใช่:ไม่")) {
		case 1:
			mes "[Mitchell]";
			mes "โชคดีนะ เมื่อคุณทำ";
			mes "ภารกิจเสร็จแล้ว อย่าลืม";
			mes "ไปรายงานตัวกับพ่อบ้านของ";
			mes "Kiel Hyre เพื่อที่เขาจะได้";
			mes "ส่งตัวคุณมาหาฉัน";
			close2;
			warp "yuno",54,209;
			end;
		case 2:
			mes "[Mitchell]";
			mes "ตามสบายนะ...";
			mes "แต่จำไว้ว่าฉันไม่ใช่";
			mes "ผู้หญิงที่มีความอดทนสูงนัก!";
			close;
		}
	}
	else if (KielHyreQuest == 64) {
		mes "[Mitchell]";
		mes "อา คุณกลับมาแล้ว";
		mes "คุณมีอะไรจะรายงาน";
		mes "จากการสืบสวนของคุณ";
		mes "บ้างล่ะ?";
		next;
		mes "[Mitchell]";
		mes ".....................";
		mes "อา เข้าใจแล้ว ทำได้ดีมาก";
		mes "ทำไมคุณไม่ลองไปคุยกับ Kiel";
		mes "Hyre และเผชิญหน้ากับเขาด้วย";
		mes "สิ่งที่คุณได้รู้เกี่ยวกับ";
		mes "อดีตของเขาล่ะ? ใช่ ซักเขาให้ขาวเลย";
		next;
		mes "[Mitchell]";
		mes "ใส่ไมค์ลับนี่ไว้ด้วย";
		mes "เราจะได้ส่งความช่วยเหลือไปได้";
		mes "หากคุณตกอยู่ในอันตราย ฉันอยาก";
		mes "ให้คุณหาคำตอบว่า Kiel คือใคร";
		mes "กันแน่ และความสัมพันธ์ของเขา";
		mes "กับ Rekenber คืออะไร";
		set KielHyreQuest,68;
		next;
		warp "kh_mansion",83,50;
		end;
	}
	else if (KielHyreQuest >= 68) {
		mes "[Mitchell]";
		mes "คุณควรจะไปได้";
		mes "ตั้งนานแล้วไม่ใช่เหรอ?";
		next;
		warp "kh_mansion",83,50;
		end;
	}
}

//----------------------------------------------------------------------------
// Warp portal into Kiehl's 'Room'
// - Anyone can enter
// - After 30-40 seonds this NPC should be disabled.
//----------------------------------------------------------------------------
kh_mansion,27,27,0	script	Kiehl_Room_Warp	45,2,2,{
OnTouch_:
	warp "kh_kiehl01",10,31;
	end;

OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Kiehl_Room_Warp";
	end;

OnInit:
	disablenpc "Kiehl_Room_Warp";
	end;
}

//============================================================================
// Rosimier NPCs and other Related NPCs
//============================================================================

//----------------------------------------------------------------------------
// Odd Grandma
//----------------------------------------------------------------------------
yuno,257,140,4	script	Odd Grandma	846,{
	if (KielHyreQuest < 54) {
		mes "[Grandma]";
		mes "เธอไปอยู่ที่ไหนจ๊ะ";
		mes "ลูกรัก? เธออยู่ที่ไหน";
		mes "หนูน้อยผู้น่ารักของแม่?";
		close;
	}
	else if (KielHyreQuest == 54) {
		mes "[Grandma]";
		mes "เพลงกล่อมเด็ก...";
		mes "บอกราตรีสวัสดิ์...";
		mes "นอนซะนะคนดี...";
		mes "หลับฝันดีเถิด~";
		next;
		switch(select("คุณกำลังทำอะไรอยู่เหรอครับ?:เอ่อ ผมไม่เห็นทารกเลยนะครับ...")) {
		case 1:
			mes "[Grandma]";
			mes "โอ้? ลูกของแม่ไม่ยอมหยุด";
			mes "ร้องไห้และดูเหมือนว่าจะ";
			mes "ไม่ยอมนอนเสียที เธอต้อง";
			mes "พักผ่อนนะ แม่จะได้ไปทำงานได้";
			mes "บ้านรกไปหมดแล้ว และ";
			mes "เจ้านายก็ไม่ค่อยพอใจด้วย...";
			set KielHyreQuest,56;
			next;
			select("เอ่อ ผมไม่เห็นทารกเลยนะครับ...");
			mes "[Grandma]";
			mes "อะไรกัน เธออยู่ตรง--";
			mes "นี่ ลูกรัก ทำอะไรอยู่จ๊ะ?";
			mes "อย่าทำตัวไม่ดีต่อหน้า";
			mes "เพื่อนของเราสิ! ชู่วว ทำตัวดีๆ";
			mes "นะจ๊ะ ลูกสาวตัวน้อยของแม่";
			//GetHEALTHSTATE VAR_CURSE 30
			close;
		case 2:
			mes "[Grandma]";
			mes "คุณกำลังจะทำอะไร...?";
			mes "โอ้ ดูนั่นสิ";
			mes "คุณทำให้ลูกรักของแม่";
			mes "ร้องไห้เลย! ชู่ววว เงียบซะนะ";
			mes "หนูน้อย ^0000FFAllysia^000000";
			mes "หลับซะนะคนดี~";
			close;
		}
	}
	else if ((KielHyreQuest >= 56) && (KielHyreQuest < 60)) {
		mes "[Grandma]";
		mes "Allysia...?!";
		mes "Allysia ลูกไปอยู่ที่ไหน?";
		mes "ลูกควรจะกลับมาบ้าน";
		mes "ตั้งนานแล้วนะ!";
		if (countitem(7500) < 1) {
			close;
		}
		else {
			next;
			switch(select("Allysia? เธอไม่ใช่ว่า...")) {
			case 1:
				cutin "kh_ellisia_port",1;
				mes "^3355FFคุณแสดงรูปวาดของ Allysia";
				mes "ให้หญิงชราดู^000000";
				next;
				cutin "",255;
				mes "[Grandma]";
				mes "โอ้ เจ้ารู้จัก Allysia งั้นรึ?";
				mes "เธอหายตัวไป! เธอออกจากบ้าน";
				mes "ไปเมื่อวานแล้วยังไม่กลับมาเลย!";
				mes "จะ-เจ้าบอกแม่ได้ไหมว่าเธออยู่ที่ไหน?!";
				close;
			}
		}
	}
	else if (KielHyreQuest >= 60) {
		mes "[Grandma]";
		mes "ไม่ต้องกังวลนะ Allysia...";
		mes "แม่จะอยู่ตรงนี้เพื่อลูกเสมอ";
		mes "ไม่จำเป็นต้องเสียใจไปหรอกจ๊ะ...";
		close;
	}
}

//----------------------------------------------------------------------------
// Old Lady; gives you the key to the Rosimier Mansion
//----------------------------------------------------------------------------
yuno,250,132,0	script	Old Lady#kh	711,{
	if (KielHyreQuest < 56) {
		mes "[Old Lady]";
		mes "โอ๊ยย ขาและหลังของฉัน";
		mes "มันล้าไปหมด กระดูกคนแก่";
		mes "มันปวดไปทั้งตัวเลย...";
		close;
	}
	else if (KielHyreQuest == 56) {
		if (checkweight(7498,1) == 0) {
			mes "^3355FFรอสักครู่...";
			mes "คุณกำลังแบกไอเทม";
			mes "มากเกินไปในตอนนี้";
			mes "คุณต้องเคลียร์พื้นที่";
			mes "ในช่องเก็บของก่อน...^000000";
			close;
		}
		mes "[Old Lady]";
		mes "ให้ตายสิ ฉันเกลียดอากาศ";
		mes "แบบนี้จริงๆ! มันทำให้ฉันนึกถึง";
		mes "ว่าฉันแก่ตัวลงไปแค่ไหน!";
		mes "มันหนาวไปถึงกระดูกเลยล่ะ!";
		next;
		switch(select("......:คุณรู้จักคุณยายคนนั้นไหมครับ?")) {
		case 1:
			mes "[Old Lady]";
			mes "โธ่เอ๊ย! ถ้าเพียงแต่ฉันไม่ไป";
			mes "ผจญภัยมากมายขนาดนั้น";
			mes "ในสมัยที่ยังเป็นวัยรุ่น! บางที";
			mes "ฉันอาจจะไม่ต้องมาทนทุกข์";
			mes "ตอนที่แก่ตัวลงแบบนี้!";
			close;
		case 2:
			mes "[Old Lady]";
			mes "โอ้... ใช่แล้ว เธอคือแม่ของ";
			mes "เพื่อนสนิทที่สุดของฉัน ^3355FFAllysia^000000";
			mes "ตั้งแต่เธอฆ่าตัวตายไป ทุกอย่าง";
			mes "ก็ไม่เหมือนเดิมอีกเลย แม่ของเธอ";
			mes "สูญเสียสติไป...";
			next;
			select("^3355FFAllysia^000000 เป็น...?");
			mes "[Old Lady]";
			mes "โอ้ Allysia เป็นเด็กสาวที่";
			mes "สวยมากเลยล่ะ มีผู้ชายมากมาย";
			mes "ที่ต้องการตัวเธอ โดยเฉพาะ";
			mes "James Rosimier ผู้สง่างามคนนั้น";
			mes "ฉันจำได้ว่าเคยได้ยินว่าพวกเขา";
			mes "กำลังจะแต่งงานกันด้วยล่ะ...";
			next;
			mes "[Old Lady]";
			mes "ฉันมีความสุขแทนเธอจริงๆ!";
			mes "แต่แล้ว อยู่ๆ เธอก็ฆ่า";
			mes "ตัวตาย ก็นะ นั่นคือสิ่งที่ใครๆ เขาว่ากัน";
			mes "แม้แต่ทุกวันนี้ ฉันก็ยัง";
			mes "ไม่แน่ใจว่าเกิดอะไรขึ้น";
			next;
			select("เดี๋ยวครับ James Rosimier คือใครเหรอ?");
			mes "[Old Lady]";
			mes "โอ้ James น่ะเป็นสมาชิกของ";
			mes "หนึ่งในครอบครัวที่เก่าแก่และร่ำรวย";
			mes "ที่สุดใน Juno ทุกอย่างดูจะไปได้สวย";
			mes "สำหรับพวกเขา แต่หลังจากที่ Allysia";
			mes "ตายไปไม่นาน ครอบครัวเขาก็ล้มละลาย";
			next;
			mes "[Old Lady]";
			mes "ตอนนี้เมืองเป็นผู้ดูแลที่พัก";
			mes "อาศัยเก่าของพวกเขา ด้วย";
			mes "เหตุผลบางอย่าง พวกเขาตัดสินใจ";
			mes "มอบกุญแจหลักของคฤหาสน์ Rosimier";
			mes "ไว้ให้ฉันดูแล";
			next;
			select("ผมขอยืมกุญแจหลักหน่อยได้ไหมครับ?");
			mes "[Old Lady]";
			mes "ก็นะ จริงๆ แล้วฉันไม่ควร";
			mes "มอบมันให้กับใครก็ตามที่เดินผ่านมา";
			mes "หรอกนะ แต่ฉันพอบอกได้ว่าคุณ";
			mes "กำลังทำงานโดยคำนึงถึงผลประโยชน์";
			mes "ของ Allysia จากใจจริง";
			next;
			mes "[Old Lady]";
			mes "แต่อย่างไรก็ตาม คุณต้อง";
			mes "แน่ใจว่าจะนำมันมาคืนฉัน";
			mes "ก่อนที่เจ้าหน้าที่จากศาลาว่าการ";
			mes "จะมาถามหาล่ะ ตกลงตามนี้ ขอให้";
			mes "คุณเจอในสิ่งที่คุณกำลังมองหานะ";
			getitem 7498,1; //Rosimier_Key
			set KielHyreQuest,58;
			close;
		}
	}

	else if ((KielHyreQuest == 58) &&
		(countitem(7499) < 1) ||
		(countitem(7500) < 1) ||
		(countitem(7501) < 1) ||
		(countitem(7502) < 1)) {
		mes "[Old Lady]";
		mes "โปรดรีบหาในสิ่งที่คุณ";
		mes "กำลังตามหาในคฤหาสน์ Rosimier";
		mes "ให้เจอโดยเร็วเถอะ ฉันอาจจะ";
		mes "เดือดร้อนได้ถ้าคนจากศาลาว่าการ";
		mes "มาถามหาเจ้ากุญแจนี่น่ะ...";
		close;
	}

	else if ((KielHyreQuest == 58) &&
		(countitem(7499) == 1) &&
		(countitem(7500) == 1) &&
		(countitem(7501) == 1) &&
		(countitem(7502) == 1)) {
		mes "[Old Lady]";
		mes "โอ้ คุณค้นหาทั่ว";
		mes "คฤหาสน์เสร็จแล้วเหรอ?";
		mes "มันน่าหดหู่ใช่ไหมล่ะ?";
		mes "พวกเจ้าหนี้รื้อค้นทุกอย่าง";
		mes "กระจัดกระจายไปหมด";
		mes "เมื่อนานมาแล้ว";
		next;
		select("ทำไม ^3355FFAllysia^000000 ถึง...?");
		mes "[Old Lady]";
		mes "ก็นะ ฉันรู้ว่า James และ";
		mes "Allysia น่ะรักกัน และเขาก็";
		mes "สัญญาว่าจะแต่งงานกับเธอ";
		mes "แต่ตามที่เล่ากันมา ครอบครัวของ";
		mes "เขาได้หมั้นหมายเขาไว้กับ";
		mes "ผู้หญิงคนอื่นเรียบร้อยแล้ว";
		next;
		mes "[Old Lady]";
		mes "เวลาผ่านไป และเขาก็";
		mes "ถูกบังคับให้แต่งงานกับคู่หมั้น";
		mes "Allysia เสียใจมาก ฉันคิดว่า";
		mes "บางทีนั่นอาจจะเป็นสิ่งที่เธอ... คุณก็รู้...";
		next;
		mes "[Old Lady]";
		mes "ฟังนะ ถ้าคุณต้องการเรียนรู้";
		mes "เพิ่มเติมเกี่ยวกับสิ่งที่เกิดขึ้น";
		mes "ฉันคิดว่าคุณควรไปคุยกับ";
		mes "^3355FFชาวประมงที่อาศัยอยู่ทางใต้ของ^000000";
		mes "^3355FFสถาบัน Kiel Hyre Academy^000000";
		next;
		mes "[Old Lady]";
		mes "เขาคือคนที่พบศพของ";
		mes "Allysia ในแม่น้ำ ดังนั้นเขา";
		mes "อาจจะมีข้อมูลที่ดีกว่าว่า";
		mes "มันเกิดอะไรขึ้นกันแน่";
		delitem 7498,1; //Rosimier_Key
		set KielHyreQuest,60;
		close;
	}
	else if (KielHyreQuest >= 60) {
		mes "[Old Lady]";
		mes "ใช่แล้ว ฝนกำลังจะตก";
		mes "ฉันสัมผัสได้ในกระดูกของฉันเลย";
		close;
	}
}


//----------------------------------------------------------------------------
// Warp portal into Rosimier Mansion
//----------------------------------------------------------------------------
yuno,273,141,0	script	Rosimmir_Entrance	45,2,2,{
OnTouch_:
	if (countitem(7498) < 1) {
		mes "คฤหาสน์หลังนี้ดูเหมือนจะ";
		mes "ถูกทำลายไปตามกาลเวลา";
		mes "อย่างไรก็ตาม ประตูดูเหมือนจะ";
		mes "ยังคงใช้งานได้อยู่หาก";
		mes "คุณมีกุญแจที่ถูกต้อง";
		close;
	}
	else {
		warp "kh_rossi",20,92;
	}
	end;
}

//----------------------------------------------------------------------------
// Rosimier Mansion, first floor; Table
//----------------------------------------------------------------------------
kh_rossi,23,23,0	script	Table#khr2	111,{
	if (checkweight(7499,1) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในตอนนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFที่นี่ไม่มีอะไร";
		mes "ที่สำคัญสำหรับคุณ^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		if (countitem(7499) < 1) {
			cutin "kh_family_port",1;
			mes "^3355FFคุณตรวจสอบโต๊ะ และ";
			mes "พบรูปวาดในกรอบวางอยู่";
			mes "ภายในลิ้นชักที่เปิดทิ้งไว้^000000";
			getitem 7499,1; //Family_Portrait
		}
		else {
			mes "^3355FFลิ้นชักที่เปิดทิ้งไว้ของ";
			mes "โต๊ะตัวนี้ตอนนี้ว่างเปล่าแล้ว^000000";
		}
	}
	else{
		mes "^3355FFนี่คือโต๊ะที่คุณได้รับ";
		mes "รูปวาดครอบครัว Rosimier";
		mes "ตอนนี้ลิ้นชักของมันว่างเปล่าแล้ว^000000";
		close;
	}
	close2;
	cutin "",255;
	end;
}

//----------------------------------------------------------------------------
// Rosimier Mansion, first floor; Shelf
//----------------------------------------------------------------------------
kh_rossi,92,40,0	script	Shelf#khr	111,{
	if (checkweight(7500,1) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในตอนนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFที่นี่ไม่มีอะไร";
		mes "ที่สำคัญสำหรับคุณ^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		if (countitem(7500) < 1) {
			mes "^3355FFมีกล่องที่ถูกล็อก";
			mes "วางอยู่บนชั้นหนังสือเหล่านี้";
			mes "บางทีถ้าคุณใช้กุญแจ Master Key";
			mes "ของคฤหาสน์นี้ คุณอาจจะสามารถ";
			mes "เปิดพวกมันออกได้^000000";
			next;
			switch(select("ใช้กุญแจ:ข้ามไป")) {
			case 1:
				mes "^3355FFคุณต้องการลองเปิด";
				mes "กล่องใบไหน?^000000";
				next;
				switch(select("กล่องใบแรก:กล่องใบที่สอง")) {
				case 1:
					mes "^3355FFคุณใช้กุญแจ Master Key";
					mes "เพื่อไขกล่อง และได้รับรูปวาด";
					mes "ของหญิงสาวที่ดูเหมือนกับ";
					mes "Allysia ผู้ช่วยของ Kiel Hyre มาก^000000";
					next;
					cutin "kh_ellisia_port",2;
					mes "^3355FFมีข้อความเขียนไว้ด้านหลังว่า";
					mes "''ถึง Allysia ยอดรักของผม. จาก James''^000000";
					getitem 7500,1; //Elysia_Portrait
					close2;
					cutin "",255;
					end;
				case 2:
					mes "^3355FFกล่องใบนี้ว่างเปล่า^000000";
					close;
				}
			case 2:
				mes "^3355FFกล่องใบนี้ว่างเปล่า^000000";
				close;
			}
		}
		else {
			mes "^3355FFคุณได้พบรูปวาดของผู้หญิง";
			mes "ในกล่องใบหนึ่งบนชั้นนี้แล้ว^000000";
			close;
		}
	}
	else {
		mes "^3355FFคุณได้พบรูปวาดของผู้หญิง";
		mes "ในกล่องใบหนึ่งบนชั้นนี้แล้ว";
		mes "ตอนนี้กล่องใบนี้ว่างเปล่าแล้ว^000000";
		close;
	}
}


//----------------------------------------------------------------------------
// Rosimier Mansion, top floor; Desk
//----------------------------------------------------------------------------
kh_rossi,144,286,0	script	Desk#khr3	111,{
	if (checkweight(7501,1) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในตอนนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFมันก็แค่โต๊ะตัวหนึ่ง^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		mes "^3355FFโต๊ะตัวนี้มี";
		mes "สามลิ้นชัก^000000";
		next;
		switch(select("ลิ้นชักแรก:ลิ้นชักที่สอง:ลิ้นชักที่สาม:ยกเลิก")) {
		case 1:
			mes "^3355FFลิ้นชักแรกถูกล็อกอยู่^000000";
			close;
		case 2:
			if (countitem(7501) < 1) {
				mes "^3355FFมีจดหมายอยู่ข้างใน";
				mes "ลิ้นชักที่สองนี้ มันถูก";
				mes "ส่งโดยบุคคลที่มีชื่อย่อว่า";
				mes "K.H. และจ่าหน้าถึง Allysia^000000";
				getitem 7501,1; //Kyll_Hyre_Letter2
				close;
			}
			else {
				mes "^3355FFลิ้นชักนี้ว่างเปล่าแล้ว^000000";
				close;
			}
		case 3:
			mes "^3355FFมีกระดาษโน้ตใบเล็กๆ";
			mes "อยู่ในลิ้นชักที่สามนี้";
			mes "มันถูกเขียนโดย James และระบุ";
			mes "ว่าเขาต้องการแต่งงานกับ Allysia";
			mes "และเธอได้รับแหวนหมั้นแล้ว^000000";
			close;
		case 4:
			mes "......";
			mes ".........";
			mes "............";
			close;
		}
	}
	else{
		mes "^3355FFนี่คือโต๊ะที่คุณพบ";
		mes "จดหมายที่เขียนโดย K.H. และ";
		mes "กระดาษโน้ตที่เขียนโดย James";
		mes "Rosimier ทั้งสองฉบับจ่าหน้าถึง";
		mes "ผู้หญิงคนเดียวกัน คือ Allysia^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Rosimier Mansion, top floor; Bookshelf
//----------------------------------------------------------------------------
kh_rossi,148,288,0	script	Bookshelf#khr	111,{
	if (checkweight(7502,1) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในตอนนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}
	if (KielHyreQuest < 58) {
		mes "^3355FFคุณพบกับชั้นหนังสือ";
		mes "ที่เต็มไปด้วยฝุ่นและ";
		mes "หนังสือจำนวนมาก^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		if (countitem(7502) < 1) {
			mes "^3355FFคุณพบกับชั้นหนังสือ";
			mes "ที่เต็มไปด้วยฝุ่นและ";
			mes "หนังสือจำนวนมาก คุณ";
			mes "พบกระดาษโน้ตที่ถูกพับอยู่ระหว่าง";
			mes "หนังสือในขณะที่กำลังตรวจสอบพวกมัน^000000";
			getitem 7502,1; //Piece_Memo_Of_James
			close;
		}
		else {
			mes "^3355FFคุณพบกับชั้นหนังสือ";
			mes "ที่เต็มไปด้วยฝุ่นและ";
			mes "หนังสือจำนวนมาก^000000";
			close;
		}
	}
	else{
		mes "^3355FFคุณพบกับชั้นหนังสือ";
		mes "ที่เต็มไปด้วยฝุ่นและ";
		mes "หนังสือจำนวนมาก^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Rosimier Mansion, top floor; Bed
//----------------------------------------------------------------------------
kh_rossi,154,286,0	script	Bed#khr	111,{
	if (KielHyreQuest < 58) {
		mes "^3355FFคุณพบเตียงนอนที่ทำมา";
		mes "อย่างดีซึ่งมีฝุ่นเกาะ";
		mes "เป็นชั้นหนาหลังจาก";
		mes "ไม่ได้ใช้งานมาหลายปี^000000";
		close;
	}
	else if (KielHyreQuest < 60) {
		mes "^3355FFคุณพบเตียงนอนที่ทำมา";
		mes "อย่างดีซึ่งมีฝุ่นเกาะ";
		mes "เป็นชั้นหนาหลังจาก";
		mes "ไม่ได้ใช้งานมาหลายปี^000000";
		next;
		switch(select("ตรวจสอบผ้าปูเตียง:ตรวจสอบใต้เตียง")) {
		case 1:
			mes "^3355FFคุณปัดพื้นผิวของเตียง";
			mes "ด้วยมือของคุณ ทำให้กลุ่ม";
			mes "ฝุ่นที่น่ารังเกียจฟุ้งกระจายจนระคายเคือง";
			mes "จมูกและคอของคุณ ยึ้ย สกปรกชะมัด!^000000";
			percentheal -10,0;
			close;
		case 2:
			mes "^3355FFคุณค้นหาที่บริเวณ";
			mes "ใต้เตียง และพบกล่อง";
			mes "แหวนหมั้นที่ว่างเปล่า^000000";
			close;
		}
	}
	else {
		mes "^3355FFนี่คือเตียงที่สกปรก^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Fisherman
//----------------------------------------------------------------------------
yuno_fild12,232,222,0	script	Old Fisherman	709,{
	if (KielHyreQuest < 60) {
		mes "[Fisherman]";
		mes "ช่วงนี้มันจับปลา";
		mes "ยากขึ้นกว่าเดิมมาก";
		mes "ตั้งแต่พวกเขาสร้าง";
		mes "โรงงานนี้ขึ้นมา ปลา";
		mes "ก็เริ่มเปลี่ยนไป และ";
		mes "พวกมันก็ดูแปลกไปด้วย...";
		close;
	}
	else if (KielHyreQuest == 60) {
		mes "[Fisherman]";
		mes "เอ๋? เจ้าต้องการอะไรรึ?";
		mes "เหอะ พวกวัยรุ่น! ข้ารู้ว่า";
		mes "พวกเจ้าชอบของฟรีแค่ไหน";
		mes "แต่เจ้าจะไม่ได้อะไรจากข้าหรอก";
		mes "ทีนี้ ถ้าเจ้าเอา Raw Fish";
		mes "มาให้ข้าสักหน่อย ข้าอาจจะใจดีขึ้นนะ~";
		if (countitem(544) >= 10) {
			next;
			mes "[Fisherman]";
			mes "โอ้ ปลาทั้งหมดนี่";
			mes "ให้ข้าเหรอ? เหอะ เจ้าช่าง";
			mes "ใจกว้างจริงๆ ในเมื่อเจ้า";
			mes "มีน้ำใจขนาดนี้ ข้าคิดว่า";
			mes "ข้าคงต้องตอบแทนเจ้าบ้าง";
			mes "ถามอะไรมาได้เลย~";
			next;
			select("เมื่อ 30 ปีก่อน มีผู้หญิงคนหนึ่งฆ่าตัวตาย...");
			mes "[Fisherman]";
			mes "โอ้? โอ้ออ ใช่แล้ว";
			mes "ข้าจำเรื่องนั้นได้ ใช่";
			mes "มันคือวันที่ 20 สิงหาคม ซึ่งเป็น";
			mes "วันเกิดภรรยาข้า วันนั้นแทนที่จะ";
			mes "จับได้ปลา ข้ากลับไป";
			mes "ลากเอาศพผู้หญิงขึ้นมาแทน";
			next;
			mes "[Fisherman]";
			mes "แน่นอนว่าข้าไปแจ้งเรื่องนี้";
			mes "กับตำรวจ Juno! พวกเขาบอก";
			mes "ข้าว่าเธอฆ่าตัวตายเพราะ";
			mes "ถูกคนรักทรยศ ซึ่งเขาก็เป็น";
			mes "เจ้านายของเธอด้วย เรื่องมันเศร้าจริงๆ";
			next;
			mes "[Fisherman]";
			mes "อย่างไรก็ตาม ตอนที่พวกเขา";
			mes "กำลังย้ายศพเธอขึ้นจาก";
			mes "แม่น้ำ มือของเธอก็ทำ";
			mes "แหวนบางอย่างหล่นลงมา ข้าเลยเก็บมันไว้";
			mes "หวังจะเอาไปขายแลกเงิน Zeny";
			mes "ในภายหลัง ข้ารู้ๆ ข้าผิดไปแล้ว...";
			next;
			mes "[Fisherman]";
			mes "ข้าโชคดีมากที่พวกตำรวจ";
			mes "ไม่เห็นตอนข้าหยิบมันไป";
			mes "ต่อมาในวันนั้น มีชายคนหนึ่ง";
			mes "เดินมาหาข้าและเสนอเงิน";
			mes "จำนวนมากเพื่อซื้อมันไป";
			mes "ข้าคิดว่านั่นคือวันโชคดีของข้าเลยล่ะ!";
			next;
			mes "[Fisherman]";
			mes "ข้ามาพบภายหลังว่าเขาเป็น";
			mes "ช่างซ่อมเครื่องจักรอะไรทำนองนั้น";
			mes "เขาขายทุกอย่างที่มีเพื่อมา";
			mes "ซื้อแหวนวงนั้น ข้าเดาว่าเขาคง";
			mes "ต้องการมันมากจริงๆ หลังจากนั้น";
			mes "เขาก็หายตัวไปเลย";
			next;
			select("คุณจำชื่อเขาได้ไหม?");
			mes "[Fisherman]";
			mes "ชื่อของเขาเหรอ...?";
			mes "มันคล้ายๆ กับ...";
			mes "Heil? Hyre? ยังไงก็เถอะ";
			mes "มันนานมาแล้วล่ะ โอ้";
			mes "บ้านเก่าของเขายังอยู่นะ";
			next;
			mes "[Fisherman]";
			mes "ถ้าเจ้าอยากรู้ขนาดนั้น";
			mes "เจ้าก็ลองไปตรวจสอบ";
			mes "ดูเอาเองแล้วกัน";
			mes "ให้ข้านึกก่อน เขาอาศัยอยู่ใน";
			mes "กระท่อมใกล้ๆ กับแคมป์ยาม";
			mes "ทางทิศตะวันออกเฉียงเหนือของป่าน่ะ";
			delitem 544,10; //Fish_Slice
			set KielHyreQuest,62;
			close;
		}
		else {
			close;
		}
	}
	else if (KielHyreQuest >= 62) {
		mes "[Fisherman]";
		mes "เจ้าจำสิ่งที่ข้าบอก";
		mes "ไม่ได้รึไง? ชายคนนั้น";
		mes "อาศัยอยู่ในกระท่อมใกล้กับ";
		mes "แคมป์ยามทางทิศตะวันออก";
		mes "เฉียงเหนือของป่ายังไงล่ะ! ทำไม";
		mes "เจ้าไม่ลองไปดูที่นั่นล่ะ?";
		close;
	}
}

//----------------------------------------------------------------------------
// Kiel Hyre's hut; Wooden Board
//----------------------------------------------------------------------------
yuno_fild09,158,217,0	script	Wooden Board#kh	111,{
	if (checkweight(7503,1) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในตอนนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}
	if ((KielHyreQuest < 62) || (KielHyreQuest >= 64)) {
		mes "^3355FFมันคือแผ่นไม้";
		mes "ที่ไม่มีประโยชน์";
		mes "ในพุ่มไม้^000000";
		close;
	}
	else if (KielHyreQuest == 62) {
		mes "^3355FFคุณพบแผ่นไม้";
		mes "ขนาดยาวที่สลัก";
		mes "อักษรย่อว่า ''K.H.''^000000";
		next;
		cutin "kh_kyel_port",2;
		mes "^3355FFคุณพบรูปวาดของ";
		mes "ชายหนุ่มที่ดูเหมือน";
		mes "Kiel Hyre ในวัยหนุ่ม";
		mes "อยู่ในกรอบรูปที่พัง";
		mes "ภายใต้แผ่นไม้เก่านั่น^000000";
		getitem 7503,1;	//Man_Portrait
		set KielHyreQuest,64;
		next;
		cutin "",255;
		mes "^3355FFตอนนี้คุณมีข้อมูล";
		mes "เพียงพอแล้วล่ะ คุณควร";
		mes "จะกลับไปรายงานตัว";
		mes "กับ Mitchell ได้แล้ว^000000";
		close;
	}
}

//============================================================================
// Kiehl Hyre's Room and Boss NPCs
//============================================================================
// Beyond here the NPC for the final areas.
// Now, this area is not someplace you wanna slow down so
// you can pick up dialog. I used packet logging to pull
// what I could and for the sake of the two people with me,
// did not bother doing all the proper NPC positioning
// or some of the 'error/wrong option' dialogs.
// All the doors are kind of weird.
//============================================================================

//----------------------------------------------------------------------------
// Kiehl's Room; Receiver (Gives black keycards upon killing mobs)
//----------------------------------------------------------------------------
kh_kiehl01,17,39,0	script	Receiver#kh	111,{
	if (mobcount("kh_kiehl01","Receiver#kh::OnMyMobDead") < 1) {
		mes "^333333*BBBZZZ*^000000";
		if (KielHyreQuest == 74) {
			next;
			mes "[????]";
			mes "^333333*Bzzzz...*";
			mes "ฉันไม่เคยเห็นนาย";
			mes "มาก่อนเลย ท่านพ่อส่ง";
			mes "นายมาฆ่าฉันงั้นเหรอ? เดี๋ยว";
			mes "เราจะได้เห็นดีกัน! เข้ามาเลย";
			mes "พยายามหาฉันให้เจอสิ นักผจญภัย^000000.";
			set KielHyreQuest,76;
		}
		close2;
		monster "kh_kiehl01",16,32,"Alicel",1739,1,"Receiver#kh::OnMyMobDead";
		monster "kh_kiehl01",18,31,"Aliot",1740,1,"Receiver#kh::OnMyMobDead";
		end;
	}

	else {
		end;
	}

OnMyMobDead:
	if (mobcount("kh_kiehl01","Receiver#kh::OnMyMobDead") <1) {
		makeitem 7506,1,"this",19,36;
	}
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Flower Vase (Gives...password...for Box)
//----------------------------------------------------------------------------
kh_kiehl01,13,40,0	script	Flower Vase#kh1	111,{
	if (KielHyreQuest < 74) {
		mes "^3355FFคุณพบ";
		mes "แจกันดอกไม้ใบหนึ่ง^000000";
		close;
	}
	if (KielHyreQuest >= 74) {
		mes "^3355FFคุณพบ";
		mes "แจกันดอกไม้ใบหนึ่ง^000000";
		next;
		switch(select("หยิบแจกันขึ้นมา:ทุบแจกัน:คว่ำแจกันลง")) {
		case 1:
			mes "^3355FFแจกันใบนี้ว่างเปล่า^000000";
			close;
		case 2:
			mes "^3355FFคุณไม่สามารถทำลาย";
			mes "แจกันใบนี้ได้ แม้จะ";
			mes "ทุบมันด้วยแรงทั้งหมดที่มี";
			mes "มันต้องถูกผลิตขึ้นมาเป็นพิเศษ";
			mes "โดย Rekenber Corporation แน่ๆ^000000";
			close;
		case 3:
			mes "^3355FFมีคำพูดต่อไปนี้";
			mes "ถูกเขียนเอาไว้ที่";
			mes "ก้นแจกัน^000000";
			next;
			mes "[Vase Message]";
			mes "''กระต่ายมักจะ";
			mes "เฝ้ามองดูประตู";
			mes "รัตติกาลกลืนกิน";
			mes "ส้มดอง''";
			close;
		}
	}
	else{
		mes "^3355FFมีคำพูดต่อไปนี้";
		mes "ถูกเขียนเอาไว้ที่";
		mes "ก้นแจกัน^000000";
		next;
		mes "[Vase Message]";
		mes "''กระต่ายมักจะ";
		mes "เฝ้ามองดูประตู";
		mes "รัตติกาลกลืนกิน";
		mes "ส้มดอง''";
		close;
	}
}


//----------------------------------------------------------------------------
// Kiehl's Room; Box
//----------------------------------------------------------------------------
kh_kiehl01,19,25,0	script	Box#kh1	111,{
	if (checkweight(7505,1) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในตอนนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}
	if (KielHyreQuest < 74) {
		mes "^3355FFคุณพบกล่องใบหนึ่ง";
		mes "ที่มีปุ่มตัวอักษรภาษาอังกฤษ";
		mes "วางเรียงรายอยู่ด้านบน^000000";
		next;
		input .@KHInput$;
		mes "^3355FFไม่มีอะไรเกิดขึ้น^000000";
		close;
	}
	if (KielHyreQuest >= 74) {
		if (countitem(7505) < 1) {
			mes "^3355FFคุณพบกล่องใบหนึ่ง";
			mes "ที่มีปุ่มตัวอักษรภาษาอังกฤษ";
			mes "วางเรียงรายอยู่ด้านบน^000000";
			next;
			input .@KHInput$;
			if (.@KHInput$ == "open the door") {
				mes "^3355FFทันทีที่นายใส่";
				mes "รหัสผ่าน ประตูที่อยู่ใกล้ๆ";
				mes "ก็ส่งเสียงดนตรีอันไพเราะ";
				mes "ออกมา และกล่องก็ดีดตัว";
				mes "เปิดเผยให้เห็นกุญแจดอกเล็กๆ^000000";
				getitem 7505,1; //Toy_Key
				close;
			}
			else {
				mes "^3355FFไม่มีอะไรเกิดขึ้น^000000";
				close;
			}
		}
		else {
			mes "^3355FFนี่คือที่ที่คุณ";
			mes "พบกุญแจของเล่น (Toy key)^000000";
			close;
		}
	}
	else{
		mes "^3355FFกล่องถูกเปิด";
		mes "ทิ้งไว้ และไม่มี";
		mes "อะไรอยู่ข้างในเลย^000000";
		close;
	}
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (First)
// - Anyone can pass through this door
// - Consume one Black KeyCard when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,44,33,0	script	Big Door#BigDoorKHQ1	111,{
	if (.KHDoor1Opened == 0) {
		mes "^3355FFประตูถูกล็อกอยู่";
		mes "แต่มีช่องเสียบแคบๆ";
		mes "อยู่ข้างๆ ลูกบิดประตู^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Black Keycard") {
			if (countitem(7506) >= 1) {
				mes "^3355FFคุณเสียบ";
				mes "Black Keycard เข้าไปใน";
				mes "ช่อง และสามารถไข";
				mes "เปิดประตูได้สำเร็จ^000000";
				delitem 7506,1; //Black_Key_Card
				donpcevent "Big_Door_1_Warp::OnEnable";
				enablenpc "Big_Door_1_Warp";
				set .KHDoor1Opened,1;
				close;
			}

		}
		mes "^3355FFคุณพยายามผลัก";
		mes "ประตูด้วยแรงทั้งหมด";
		mes "ที่คุณมี แต่ก็ไม่สามารถ";
		mes "ทำให้มันขยับได้เลย^000000";
		close;
	}

	else {
		mes "^3355FFประตูเปิดอยู่^000000";
		close;
	}
}

kh_kiehl01,43,33,0	script	Big_Door_1_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_1_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_1_Warp";
	set getvariableofnpc(.KHDoor1Opened,"Big Door#BigDoorKHQ1"),0;
	end;

OnTouch_:
	warp "kh_kiehl01",55,33;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (second)
// - Consume Toy Key when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,174,40,0	script	Big Door#BigDoorKHQ2	111,{
	if (.KHDoor2Opened == 0) {
		mes "^3355FFประตูถูกล็อกอยู่";
		mes "แต่มีรูเสียบกุญแจขนาดเล็ก";
		mes "อยู่ข้างๆ ลูกบิดประตู^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Toy Key") {
			if (countitem(7505) >= 1) {
				mes "^3355FFคุณเสียบกุญแจเข้าไปใน";
				mes "รูเสียบ และประตูก็ถูก";
				mes "ปลดล็อกพร้อมเสียงดังคลิก";
				mes "เมื่อคุณหมุนกุญแจ^000000";
				delitem 7505,1; //Toy_Key
				donpcevent "Big_Door_2_Warp::OnEnable";
				enablenpc "Big_Door_2_Warp";
				set .KHDoor2Opened,1;
				close;
			}

		}
		mes "^3355FFคุณพยายามผลัก";
		mes "ประตูด้วยแรงทั้งหมด";
		mes "ที่คุณมี แต่ก็ไม่สามารถ";
		mes "ทำให้มันขยับได้เลย^000000";
		close;
	}
	else {
		mes "^3355FFประตูเปิดอยู่^000000";
		close;
	}
}

kh_kiehl01,173,39,0	script	Big_Door_2_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_2_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_2_Warp";
	set getvariableofnpc(.KHDoor2Opened,"Big Door#BigDoorKHQ2"),0;
	end;

OnTouch_:
	if (KielHyreQuest == 48)
		warp "kh_kiehl01",173,35;
	else
		warp "kh_kiehl01",173,52;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (Third)
// - Consume one Black KeyCard when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,77,108,0	script	Big Door#BigDoorKHQ3	111,{
	if (.KHDoor3Opened == 0) {
		mes "^3355FFประตูถูกล็อกอยู่";
		mes "แต่มีช่องเสียบแคบๆ";
		mes "อยู่ข้างๆ ลูกบิดประตู^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Black Keycard") {
			if (countitem(7506) >= 1) {
				mes "^3355FFคุณเสียบ";
				mes "Black Keycard เข้าไปใน";
				mes "ช่อง และสามารถไข";
				mes "เปิดประตูได้สำเร็จ^000000";
				delitem 7506,1; //Black_Key_Card
				donpcevent "Big_Door_3_Warp::OnEnable";
				enablenpc "Big_Door_3_Warp";
				set .KHDoor3Opened,1;
				close;
			}

		}
		mes "^3355FFคุณพยายามผลัก";
		mes "ประตูด้วยแรงทั้งหมด";
		mes "ที่คุณมี แต่ก็ไม่สามารถ";
		mes "ทำให้มันขยับได้เลย^000000";
		close;
	}
	else {
		mes "^3355FFประตูเปิดอยู่^000000";
		close;
	}
}

kh_kiehl01,78,107,0	script	Big_Door_3_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_3_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_3_Warp";
	set getvariableofnpc(.KHDoor3Opened,"Big Door#BigDoorKHQ3"),0;
	end;

OnTouch_:
	if (KielHyreQuest == 49)
		warp "kh_kiehl01",82,108;
	else
		warp "kh_kiehl01",68,108;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (Fourth)
// - Consume TWO Black KeyCard when opened.
// - Only one person actually needs to open it.
//----------------------------------------------------------------------------
kh_kiehl01,42,177,0	script	Big Door#BigDoorKHQ4	111,{
	if (.KHDoor4Opened == 0) {
		mes "^3355FFประตูถูกล็อกอยู่";
		mes "แต่มีช่องเสียบแคบๆ";
		mes "อยู่ข้างๆ ลูกบิดประตู^000000";
		next;
		input .@KHInput$;
		if (.@KHInput$ == "Black Keycard") {
			if (countitem(7506) >= 2) {
				mes "^3355FFคุณเสียบ";
				mes "Black Keycard เข้าไปใน";
				mes "ช่อง และสามารถไข";
				mes "เปิดประตูได้สำเร็จ^000000";
				delitem 7506,2; //Black_Key_Card
				donpcevent "Big_Door_4_Warp::OnEnable";
				enablenpc "Big_Door_4_Warp";
				set .KHDoor4Opened,1;
				close;
			}
		}
		mes "^3355FFคุณพยายามผลัก";
		mes "ประตูด้วยแรงทั้งหมด";
		mes "ที่คุณมี แต่ก็ไม่สามารถ";
		mes "ทำให้มันขยับได้เลย^000000";
		close;
	}

	else {
		mes "^3355FFประตูเปิดอยู่^000000";
		close;
	}
}

kh_kiehl01,41,178,0	script	Big_Door_4_Warp	45,1,1,{
OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Big_Door_4_Warp";
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_4_Warp";
	set getvariableofnpc(.KHDoor4Opened,"Big Door#BigDoorKHQ4"),0;
	end;

OnTouch_:
	if (KielHyreQuest == 50)
		warp "kh_kiehl01",38,178;
	else
		warp "kh_kiehl01",47,171;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Robots
//----------------------------------------------------------------------------
kh_kiehl01,15,179,0	script	Robots#kh1	111,{
	if (mobcount("kh_kiehl01","Robots#kh1::OnMyMobDead") < 1) {
		mes "^3355FFทันทีที่คุณ";
		mes "สัมผัสหลอดทดลอง";
		mes "หุ่นยนต์กลุ่มหนึ่ง";
		mes "ก็ปรากฏตัวขึ้นทันที^000000.";
		close2;
		monster "kh_kiehl01",18,181,"Aliot",1740,1,"Robots#kh1::OnMyMobDead";
		monster "kh_kiehl01",18,180,"Alicel",1739,1,"Robots#kh1::OnMyMobDead";
		monster "kh_kiehl01",18,179,"Aliot",1740,1,"Robots#kh1::OnMyMobDead";
		monster "kh_kiehl01",18,178,"Alicel",1739,1,"Robots#kh1::OnMyMobDead";
		end;
	}
	else {
		end;
	}

OnMyMobDead:
	if (mobcount("kh_kiehl01","Robots#kh1::OnMyMobDead") < 1) {
		makeitem 7506,1,"this",18,180;
		}
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Dummy Robots
//----------------------------------------------------------------------------
kh_kiehl01,15,177,0	script	Robots#kh2::RobotsKHQ	111,{
	end;
}
kh_kiehl01,15,180,0	duplicate(RobotsKHQ)	Robots#kh3	111
kh_kiehl01,15,182,0	duplicate(RobotsKHQ)	Robots#kh4	111
kh_kiehl01,35,187,0	duplicate(RobotsKHQ)	Robots#kh5	111
kh_kiehl01,37,187,0	duplicate(RobotsKHQ)	Robots#kh6	111
kh_kiehl01,39,187,0	duplicate(RobotsKHQ)	Robots#kh7	111
kh_kiehl01,41,187,0	duplicate(RobotsKHQ)	Robots#kh8	111

//----------------------------------------------------------------------------
// Kiehl's Room; Big Door, (Fifth, and final)
// - Anyone can pass through this door
// - Consumes 4 Solid Iron Pieces
//----------------------------------------------------------------------------
kh_kiehl01,166,187,0	script	Big Door#BigDoorKHQ5	111,{
	if (($@KHQuestBusy == 0) && (KielHyreQuest >= 74) && (KielHyreQuest <= 106)) {
		if (KielHyreQuest < 86) {
			mes "^3355FFประตูบานใหญ่บานนี้..";
			mes "ปิดสนิทอยู่";
			mes "ถ้าคุณฟังให้ดี";
			mes "คุณจะได้ยินเสียงบานพับ";
			mes "ประตูดังเอี๊ยดอ๊าดเบาๆ^000000";
			next;
			select("ผลักประตู:เตะประตู:เขย่าประตู:ดึงประตู:ยกประตู");
			mes "^3355FFกลุ่มมอนสเตอร์";
			mes "ปรากฏตัวขึ้นทันที";
			mes "หลังจากที่คุณออก";
			mes "แรงกดไปที่ประตู";
			mes "นี่ต้องเป็นระบบ";
			mes "รักษาความปลอดภัยบางอย่างแน่ๆ^000000";
			close2;
			set @KHDoorPushAttempt,@KHDoorPushAttempt+1;
			monster "kh_kiehl01",163,183,"Alicel",1739,1;
			monster "kh_kiehl01",163,179,"Aliot",1740,1;
			monster "kh_kiehl01",169,183,"Alicel",1739,1;
			monster "kh_kiehl01",169,179,"Aliot",1740,1;
			if (@KHDoorPushAttempt >= 3) {
				set KielHyreQuest,86;
			}
			end;
		}
		else if ((KielHyreQuest > 84) && (KielHyreQuest < 94)) {
			mes "^3355FFคุณลองออกแรงกด";
			mes "ไปที่ประตู และพบว่า";
			mes "คุณสามารถทำให้มันขยับได้";
			mes "เพียงเล็กน้อยเท่านั้น แต่";
			mes "คุณไม่สามารถเปิดมันออกได้ทั้งหมด^000000";
			next;
			mes "^3355FFถ้าคุณหาอะไรบางอย่าง";
			mes "มาขัดไว้ที่ช่องว่างระหว่าง";
			mes "ประตูกับวงกบ และใช้มัน";
			mes "งัดอย่างเต็มที่ คุณก็น่าจะ";
			mes "สามารถเปิดมันออกได้^000000";
			next;
			switch(select("Steel:Rusty Iron Piece:Solid Iron Piece:Iron Piece:Screw:ยกเลิก")) {
			case 1:
				set .@KHPryingItem$,"Steel";
				break;
			case 2:
				set .@KHPryingItem$,"Rusty Iron Piece";
				break;
			case 3:
				if (countitem(7507) >= 1) {
					if (KielHyreQuest < 92) {
						mes "^3355FFคุณสอดปลายด้านหนึ่งของ";
						mes "Solid Iron Piece เข้าไปใน";
						mes "ช่องว่างของประตูด้วยความ";
						mes "พยายามอย่างหนักเพื่องัดให้มันเปิด";
						mes "ช่องว่างเริ่มกว้างขึ้นเล็กน้อย";
						mes "แต่ Solid Iron Piece ของคุณ";
						mes "กลับหักลง^000000";
						delitem 7507,1; //Hard_Piece_of_Steel
						set KielHyreQuest,KielHyreQuest+2;
						close;
					}
					else if (KielHyreQuest == 92) {
						mes "^3355FFด้วยการออกแรงยกอย่างแรง";
						mes "คุณงัด Solid Iron Piece";
						mes "เข้าไปในวงกบประตู และ";
						mes "ทำให้ประตูเปิดออกอย่างกว้างขวาง";
						mes "เนื่องจากไม่สามารถทนต่อแรงมหาศาล";
						mes "นี้ได้ Solid Iron Piece ชิ้นนี้";
						mes "จึงแตกสลายกลายเป็นผง^000000";
						delitem 7507,1; //Hard_Piece_of_Steel
						set KielHyreQuest,94;
						close;
					}
				}
				else {
					mes "^3355FFถ้าเพียงแต่คุณมี Solid";
					mes "Iron Piece ที่จะเอามาใช้";
					mes "งัดประตูบานนี้ได้...^000000";
					close;
				}
			case 4:
				set .@KHPryingItem$,"Iron Piece";
				break;
			case 5:
				set .@KHPryingItem$,"Screw";
				break;
			case 6:
				mes "^3355FFลองหาของที่หนักกว่านี้";
				mes "เพื่อนำมาใช้งัด";
				mes "ประตูบานนี้ดูเถอะ^000000";
				close;
			}

			mes "^3355FFเจ้า "+.@KHPryingItem$+" ชิ้นนี้มัน";
			mes "เปราะบางเกินกว่าจะนำมาใช้";
			mes "แล้วมันก็หักลง^000000";
			close;
		}
		else if ((KielHyreQuest >= 94) && (KielHyreQuest <= 104)) {
			if (.KHDoor5Opened == 0) {
				mes "^3355FFประตูบานใหญ่";
				mes "เปิดกว้างแล้ว และ";
				mes "คุณสามารถเข้าไปได้ในตอนนี้^000000";
				next;
				switch(select("ใช่:ไม่")) {
				case 1:
					close2;
					donpcevent "Big_Door_5_Warp::OnEnable";
					enablenpc "Big_Door_5_Warp";
					set .KHDoor5Opened,1;
					end;
				case 2:
					mes "^3355FFใครจะไปรู้ว่ามีอะไรอยู่";
					mes "อีกฝั่งของประตูบานนี้ ลอง";
					mes "คิดดูให้ดีก่อนจะบุ่มบ่ามเข้าไปดีกว่า..^000000";
					close;
				}
			}
			else {
				mes "^3355FFประตูเปิดอยู่^000000";
				close;
			}
		}
		else {
			mes "^3355FFประตูบานใหญ่บานนี้..";
			mes "ปิดสนิทอยู่";
			mes "ถ้าคุณฟังให้ดี";
			mes "คุณจะได้ยินเสียงบานพับ";
			mes "ประตูดังเอี๊ยดอ๊าดเบาๆ^000000";
			close;
		}
	}
	else {
		mes "^3355FFประตูบานใหญ่บานนี้..";
		mes "ปิดสนิทอยู่";
		mes "ถ้าคุณฟังให้ดี";
		mes "คุณจะได้ยินเสียงบานพับ";
		mes "ประตูดังเอี๊ยดอ๊าดเบาๆ^000000";
		close;
	}
}

kh_kiehl01,166,186,0	script	Big_Door_5_Warp	45,1,1,{
	end;

OnEnable:
	initnpctimer;
	specialeffect EF_SUMMONSLAVE;
	end;

OnTimer30000:
	stopnpctimer;
	specialeffect EF_SUMMONSLAVE;
	disablenpc "Big_Door_5_Warp";
	set getvariableofnpc(.KHDoor5Opened,"Big Door#BigDoorKHQ5"),0;
	end;

OnInit:
	disablenpc "Big_Door_5_Warp";
	end;

OnTouch_:
	if (KielHyreQuest >= 46)
		warp "kh_kiehl02",50,7;
	else
		warp "kh_kiehl01",166,183;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Kiehl_Room_Trap (Entry way trap)
//----------------------------------------------------------------------------
kh_kiehl02,49,10,0	script	Kiehl_Room_Trap	-1,5,3,{
	end;

OnTouch:
	if (.KHTrapSprung < 1) {
		set .KHTrapSprung,1;
		set $@KHQuestBusy,1;
		initnpctimer;
		monster "kh_kiehl02",47,13,"Aliot",1740,1;
		monster "kh_kiehl02",45,13,"Alicel",1739,1;
		monster "kh_kiehl02",49,13,"Constant",1745,1;
		monster "kh_kiehl02",51,13,"Aliot",1740,1;
		monster "kh_kiehl02",53,13,"Alicel",1739,1;
		monster "kh_kiehl02",49,13,"Constant",1745,1;
	}
	end;

OnTimer300000:
OnTimer600000:
OnTimer900000:
	if (getmapusers("kh_kiehl02") == 0) {
		donpcevent "KiehlRoom::OnReset";
		stopnpctimer;
	}
	end;

OnTimer1200000:
	donpcevent "KiehlRoom::OnReset";
	stopnpctimer;
	end;

OnGlobalTimerOff:
	stopnpctimer;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Kiehl
// - Timer will drop to 3 minutes once Kiehl is defeated.
//----------------------------------------------------------------------------
kh_kiehl02,50,52,4	script	Kiehl#Original	902,{
	if (checkweight(908,200) == 0) {
		mes "^3355FFรอสักครู่...";
		mes "คุณกำลังแบกไอเทม";
		mes "มากเกินไปในตอนนี้";
		mes "คุณต้องเคลียร์พื้นที่";
		mes "ในช่องเก็บของก่อน...^000000";
		close;
	}
	cutin "kh_kiel01",2;
	if ((KielHyreQuest < 94) || (KielHyreQuest >= 106)) {
		mes "[Kiehl]";
		mes "......";
		mes ".........";
		mes "............";
		close2;
		cutin "",255;
		end;
	}
	if ((KielHyreQuest == 94) && (getvariableofnpc(.KHKilled,"KiehlRoom") < 5)) {
		mes "[Kiehl]";
		mes "ฉันประหลาดใจนะที่เธอมาได้";
		mes "ไกลขนาดนี้ นักผจญภัย~";
		mes "ขอต้อนรับเข้าสู่ห้องอัน";
		mes "ต่ำต้อยของฉัน ฉันเดาว่า";
		mes "เธอคงมาเพื่อ Condensed";
		mes "Memory Scroll... ความทรงจำของฉัน";
		next;
		mes "[Kiehl]";
		mes "เธอคงเข้าใจใช่ไหม";
		mes "ว่าทำไมฉันถึงให้มันไปไม่ได้";
		mes "ดังนั้นถ้าเธอต้องการเจ้า";
		mes "Condensed Memory Scroll จริงๆ";
		mes "ก็แสดงฝีมือให้ฉันดูหน่อยสิ!";
		close2;
		cutin "",255;
		set getvariableofnpc(.KHKilled,"KiehlRoom"),0;
		monster "kh_kiehl02",50,52,"Aliot",1740,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Alicel",1739,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Constant",1745,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Aliot",1740,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Alicel",1739,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Constant",1745,1,"KiehlRoom::OnKiehlMobDead";
		monster "kh_kiehl02",50,52,"Aliot",1740,1,"KiehlRoom::OnKiehlMobDead";
		hideonnpc "Kiehl#Original";
		end;
	}
	else if ((KielHyreQuest == 94) && (getvariableofnpc(.KHKilled,"KiehlRoom") >= 5)) {
		cutin "kh_kiel03",2;
		mes "[Kiehl]";
		mes "หึ! เธอเก่งใช้ได้เลยนะ";
		mes "ท่านพ่อคงจะจ่ายเงิน";
		mes "ไปไม่น้อยเพื่อจ้างเธอมา";
		mes "แล้วเขาส่งเธอมา";
		mes "เพื่อฆ่าฉันงั้นเหรอ?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Kiel Hyre ส่งฉันมาเพื่อขอ";
		mes "ให้คุณหยุดเปลี่ยนหุ่นยนต์";
		mes "รุ่นที่สาม (Third Generation)";
		mes "ให้กลายเป็นเครื่องจักรสังหาร! คุณ";
		mes "ทำแบบนั้นกับหุ่นยนต์ตัวอื่น";
		mes "ที่เหมือนกับคุณได้ยังไง?";
		next;
		cutin "kh_kiel01",2;
		mes "[Kiehl]";
		mes "ทำไมจะไม่ได้ล่ะ? มีคำกล่าวว่า";
		mes "มนุษย์ถูกสร้างตามฉายาของพระเจ้า";
		mes "งั้นหุ่นยนต์ก็ถูกสร้างตามฉายาของ";
		mes "มนุษย์นั่นแหละ เท่าที่ฉันเห็น";
		mes "พวกมนุษย์อย่างพวกเธอก็เข่นฆ่า";
		mes "กันเองตามใจชอบอยู่แล้วนี่";
		next;
		mes "[Kiehl]";
		mes "มันอาจจะไม่ใช่เรื่องจริยธรรม";
		mes "นักที่ฉันจะจัดหาอาวุธให้แก่";
		mes "มนุษย์ที่ต้องการพวกมัน...";
		mes "แต่นั่นคือสิ่งที่พวกมันเป็น";
		mes "อาวุธยังไงล่ะ มันดูมีมนุษยธรรม";
		mes "กว่านะที่ให้หุ่นยนต์สู้แทนมนุษย์";
		next;
		mes "[Kiehl]";
		mes "โดยธรรมชาติหุ่นยนต์ไม่ได้";
		mes "รู้สึกถึงความเจ็บปวดหรืออารมณ์...";
		mes "นอกจากพวกมันจะถูกโปรแกรม";
		mes "มาเป็นพิเศษ เสียใจด้วยนะ แต่ฉัน";
		mes "ไม่มีแผนที่จะหยุดสิ่งที่ทำอยู่หรอก";
		next;
		cutin "kh_kiel04",2;
		mes "[Kiehl]";
		mes "ฉันขอโทษนะ แต่ฉันไม่มีแผนจะหยุดสิ่งที่ฉันกำลังทำอยู่";
		mes "นอกจากนั้น ท่านพ่อยังแสดงตัวอย่างที่ยอดเยี่ยมให้ฉันเห็นว่า";
		mes "มนุษย์สามารถทำได้ถึงขนาดไหนเพื่อความเห็นแก่ตัวของตัวเองด้วยการทำลายครอบครัวหนึ่ง";
		mes "และเพราะฉะนั้น ฉันไม่คิดว่าเขาจะสามารถสร้างหุ่นยนต์ที่ยอดเยี่ยมไปกว่าของฉันได้";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "มนุษยชาติอาจจะไม่ได้";
		mes "สมบูรณ์แบบ แต่ลองคิดดูสิ";
		mes "ว่าคุณกำลังร่วมมือกับใคร!";
		mes "Rekenber คือตัวแทนแห่ง";
		mes "ความชั่วร้ายของมนุษย์! คุณ";
		mes "สนับสนุนพวกเขาแบบนี้ได้ยังไง?";
		next;
		cutin "kh_kiel02",2;
		mes "[Kiehl]";
		mes "ฉันมีความสัมพันธ์อันยาวนาน";
		mes "กับ Rekenber ฉันตระหนักดีถึง";
		mes "ความสามารถของพวกเขา เธอ";
		mes "จำห้องแรกที่เธอเดินผ่าน";
		mes "ระหว่างทางมาที่นี่ได้ไหม";
		mes "ห้องที่มีของเล่นเต็มไปหมดน่ะ?";
		next;
		mes "[Kiehl]";
		mes "ฉันพนันได้เลยว่าเธอไม่รู้ว่าที่นั่น";
		mes "เคยมีหุ่นยนต์รุ่นที่สองอยู่ 5 ตัว";
		mes "ตัวฉัน และพี่น้องคนอื่นๆ อีก 4 คน";
		mes "ท่านพ่อสร้างห้องนั้นขึ้นมาเพื่อให้";
		mes "เราทั้งห้าคนได้อยู่ร่วมกัน";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiehl]";
		mes "ฉันเป็นเพียงคนเดียวที่";
		mes "รอดชีวิตมาได้ ฉันกลับไปหา";
		mes "ท่านพ่อและได้รับชื่อมา";
		mes "แต่ใช่ ฉันรู้ว่า Rekenber";
		mes "ชั่วร้ายขนาดไหน...";
		next;
		mes "[Kiehl]";
		mes "ฉันไม่... ฉันไม่อยากจะ";
		mes "พูดเรื่องนี้อีกแล้ว เธอทำให้";
		mes "ฉัน... ออกไปซะเถอะ";
		mes "ฉันคิดว่าฉันจะไว้ชีวิตเธอ";
		next;
		cutin "",255;
		mes "[Mitchell]";
		mes "หยุดอยู่ตรงนั้น!";
		mes "Kiehl Hyre คุณถูกจับ";
		mes "ในข้อหาสร้างและค้า";
		mes "อาวุธผิดกฎหมาย!";
		set KielHyreQuest,100;
		hideoffnpc "Mitchell#KiehlRoom";
		hideoffnpc "Agent#KHAgent1";
		hideoffnpc "Agent#KHAgent2";
		hideoffnpc "Agent#KHAgent3";
		hideoffnpc "Agent#KHAgent4";
		next;
	}
	if ((KielHyreQuest == 100) && (getvariableofnpc(.KHKilledBoss,"KiehlRoom") < 1)) {
		set getvariableofnpc(.KHKilledBoss,"KiehlRoom"),0;
		cutin "kh_kiel01",2;
		mes "[Kiehl]";
		mes "อา เจ้าหน้าที่จากสาธารณรัฐ";
		mes "Schwarzwald หึ ฉันไม่เคยมี";
		mes "แขกมาหาเยอะขนาดนี้มาก่อน";
		mes "เอาเถอะ ฉันเดาว่านี่คงหมายความ";
		mes "ว่าสุดท้ายเราก็ต้องสู้กัน";
		mes "ระหว่างเธอกับฉัน *ถอนหายใจ* น่าเสียดาย";
		next;
		mes "[Kiehl]";
		mes "ก่อนอื่น เพื่อความยุติธรรม";
		mes "ขอฉันจัดการกับพวกที่น่ารำคาญ";
		mes "พวกนี้ก่อน พวกเขาแค่ทำหน้าที่";
		mes "ไปโดยไม่คิดอะไรเหมือนกับพวก";
		mes "หุ่นยนต์แต่ไม่ต้องห่วง พวกเขาไม่เจ็บหรอก";
		next;
		mes "[Mitchell]";
		mes "ไม่นะะะะะ!";
		specialeffect PF_FOGWALL,AREA,"Mitchell#KiehlRoom";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent1";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent2";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent3";
		specialeffect PF_FOGWALL,AREA,"Agent#KHAgent4";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiehl]";
		mes "และตอนนี้ เธอกับฉันก็จะได้";
		mes "ดวลกันอย่างเหมาะสมเสียที มนุษย์";
		mes "ฉันสนใจอยากจะเห็นนักว่า";
		mes "เธอจะแข็งแกร่งแค่ไหนกันเชียว~";
		close2;
		cutin "",255;
		monster "kh_kiehl02",50,52,"Kiehl",1733,1,"KiehlRoom::OnKiehlDead";
		hideonnpc "Kiehl#Original";
		end;
	}
	else if ((KielHyreQuest == 100) && (getvariableofnpc(.KHKilledBoss,"KiehlRoom") == 1)) {
		cutin "kh_kiel02",2;
		mes "[Kiehl]";
		mes "บ-บ้าเอ๊ย...!";
		mes "เล่นได้ดีนี่ นักผจญภัย";
		mes "ทำได้ดีมาก ฉันควรจะรู้ว่า";
		mes "ท่านพ่อคงส่งคนที่เก่งที่สุดมา";
		mes "จัดการฉัน แต่อย่างไรก็ตาม";
		mes "เธอก็ยังล้มฉันไม่ได้จริงๆ หรอก";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiehl]";
		mes "ฉันยังเหลือไพ่ตาย";
		mes "อยู่อีกสองสามใบ";
		mes "ฉันคิดว่า... ฉันจะลากเธอลง";
		mes "นรกไปกับฉัน... ถ้าหากว่า";
		mes "หุ่นยนต์ไปนรกได้ล่ะก็นะ~";
		next;
		mapannounce "kh_kiehl02","*จี๊ดดดดด~ กี๊ซซซ~ กรรร~ แคล้ง~*",bc_map,"0xFF0000";
		mes "[Mitchell]";
		mes "ไม่นะ...! พวกเราถูกขัง";
		mes "อยู่ในห้องนี้! พวกเรา...";
		mes "พวกเราติดอยู่ที่นี่!";
		next;
		mes "[Kiehl]";
		mes "เย้~ มาเผา";
		mes "ทุกอย่างให้วอดวายกันเถอะ~";
		next;
		mes "[Mitchell]";
		mes "เร็วเข้า "+strcharinfo(0)+",";
		mes "ใช้อุปกรณ์ตัดกำลังของ";
		mes "Kiel Hyre อันที่ใช้เพื่อ";
		mes "รบกวนแหล่งพลังงานของ";
		mes "Kiehl น่ะ! เร็วเข้า ใช้มันเดี๋ยวนี้!";
		next;
		mapannounce "kh_kiehl02","*จี๊ดดดด~ จี๊ดดดด~*",bc_map,"0xFF0000";
		mes "[Kiehl]";
		mes "อะ-อะไรกัน? ฉันข-ขยับ";
		mes "ไม่ได้! วันนี้มีแต่เรื่องให้";
		mes "ประหลาดใจจริงๆ เอาเถอะ";
		mes "ฉันเดาว่าถึงเวลาที่ฉันต้อง";
		mes "ใช้ไพ่ตายอีกใบของฉันแล้ว";
		next;
		mes "[Mitchell]";
		mes "อะไรนะ...?";
		mes "นายมีไพ่ตาย";
		mes "กี่ใบกันแน่?";
		next;
		mes "[????]";
		mes "ฉันผิดหวังจริงๆ...";
		mes "ฉันไม่อยากจะเชื่อเลยว่า";
		mes "พวกเธอไม่มีใครคิดถึงเรื่องนี้";
		next;
		mes "[Mitchell]";
		mes "แกเป็นใคร...?";
		mes "เผยตัวออกมานะ!";
		next;
		mes "[????]";
		mes "ได้โปรดเถอะ";
		mes "อย่าดูถูกฉันนักเลย";
		mes "เธอรู้จักเสียงนี้ดี";
		mes "เสียงที่คุยกับเธอ";
		mes "มาตลอดเวลานั่นไงล่ะ~";
		next;
		mes "[Mitchell]";
		mes "เป็นไปไม่ได้...";
		mes "จะมีแกสองคน";
		mes "ได้ยังไงกัน...?!";
		next;
		hideoffnpc "Kiehl#Copy";
		next;
		cutin "kh_kiel01",0;
		mes "[Kiehl]";
		mes "ฮ่าฮ่าฮ่าฮ่าฮ่า!";
		mes "ฉันเป็นหุ่นยนต์นะ!";
		mes "ฉันสามารถสร้างร่างสำรอง";
		mes "แล้วสลับสมองไปใส่ได้";
		mes "มันสะดวกชะมัดเลยล่ะ";
		mes "ขอบอกให้รู้ไว้";
		next;
		cutin "kh_kiel03",2;
		mes "[Kiehl]";
		mes "เอาล่ะ ฉันไม่ได้ตั้งใจจะอวด";
		mes "หรอกนะ แต่ฉันว่าฉันควรจะ";
		mes "เผยไพ่ตายใบสุดท้ายของฉัน";
		mes "ออกมาเสียที ก่อนอื่น ฉันรู้เรื่อง";
		mes "เกี่ยวกับเธอทั้งหมด คุณ Mitchell Layla~";
		next;
		mes "[Mitchell]";
		mes "อะไรนะ? แกรู้จัก";
		mes "ชื่อฉันได้ยังไง?";
		next;
		mes "[Kiehl]";
		mes "หึ ฉันก็มีสายลับ";
		mes "ส่วนตัวอยู่เหมือนกัน...";
		mes "ฉันจะให้เขาเป็นคนอธิบายแล้วกัน...";
		next;
		mes "[Masked Man]";
		mes "Mitchell...";
		mes "ฉันเสียใจด้วยนะ";
		mes "ที่เธอต้องเข้ามา";
		mes "พัวพันกับเรื่องทั้งหมดนี้...";
		next;
		mes "[Mitchell]";
		mes "Wolkeus? Wolkeus Kaiser?!";
		mes "คุณคือสายลับงั้นเหรอ?! แต่คุณยอมเสี่ยง";
		mes "ชีวิตเพื่อช่วยท่านประธานของเราเลยนะ!";
		mes "ไม่! โอ้ พระเจ้า! เรื่องแบบนี้เกิดขึ้น";
		mes "ได้ยังไงกัน?! ทุกอย่างมันแค่...";
		mes "นี่มันบ้าไปแล้ว! บ้าที่สุด!";
		next;
		mes "[Wolkeus]";
		mes "นี่คือผลลัพธ์ของแผนการ";
		mes "อันซับซ้อนที่ถูกวางไว้";
		mes "เมื่อหลายปีก่อน ฉันไม่ได้";
		mes "คาดหวังว่าเธอจะตกใจขนาดนี้";
		mes "Mitchell มันคือวิถีของเกม";
		mes "ที่มันต้องดำเนินไป เธอรู้ดีนี่";
		next;
		mes "[Mitchell]";
		mes "ท่านประธานคะ...";
		mes "ดิฉันทำพลาดไป... ขอโทษด้วยค่ะ...";
		next;
		mes "[Kiehl]";
		mes "เอาล่ะ Kaiser เธอรับเรื่องนี้";
		mes "ไม่ค่อยได้เท่าไหร่ แต่เอาเป็นว่า";
		mes "นายยังทำตัวเป็นสุภาพบุรุษ";
		mes "กับเธออยู่ละกันนะ จริงๆ ฉันอยากจะ";
		mes "ให้เราทุกคนได้ทำความรู้จัก";
		mes "กันมากกว่านี้หรอกนะ แต่...";
		next;
		cutin "kh_kiel01",2;
		mes "[Kiehl]";
		mes "เราควรจะกล่าวคำอำลา";
		mes "กันตรงนี้ ที่แห่งนี้จะหาย";
		mes "ไปภายในห้านาที อ้อ แล้วก็";
		mes "คุณ Layla คุณต้องไป";
		mes "กับเรา เรามีคำถามจะถามคุณ~";
		next;
		mes "[Kiehl]";
		mes "ฉันอยากรู้จังว่าแผนการ";
		mes "ของท่านประธานคืออะไร";
		mes "คุณ Kaiser ช่วยกรุณาคุมตัว";
		mes "คุณ Layla ไปด้วยครับ...";
		next;
		mes "[Wolkeus Kaiser]";
		mes "...............................";
		mes "ขอโทษนะ Mitchell";
		mes "ฉันจำเป็นต้องทำ";
		next;
		mes "[Mitchell]";
		mes "ไม่นะ ถอยไป! ปล่อยฉันนะ!";
		mes "ปล่อยฉันนะ Wolkeus!";
		hideonnpc "Mitchell#KiehlRoom";
		hideonnpc "Agent#KHAgent1";
		hideonnpc "Agent#KHAgent2";
		hideonnpc "Agent#KHAgent3";
		hideonnpc "Agent#KHAgent4";
		next;
		cutin "kh_kiel02",2;
		mes "[Kiehl]";
		mes "ยอดเยี่ยม จัดการเรื่องน่ารำคาญ";
		mes "นั่นเสร็จเสียที ทีนี้ฉันถึงไหน";
		mes "แล้วนะ? อ้อ ใช่ๆ เสียใจด้วยนะ";
		mes "แต่เราไม่มีเวลามาเล่น";
		mes "กันต่อแล้วล่ะ";
		next;
		mes "[Kiehl]";
		mes "นี่ นักผจญภัย";
		mes "ฉันรู้ว่าท่านพ่อส่งเธอมาที่นี่";
		mes "เพื่อสิ่งนี้ ถือว่ามันเป็นของขวัญ";
		mes "ชิ้นสุดท้ายจากฉันให้เขาก็แล้วกัน";
		mes "ฉันแปลกใจนะที่เขาทิ้งแหวนวงนี้";
		mes "ไว้ในตัวฉันแบบนี้...";
		next;
		cutin "kh_kiel04",2;
		mes "[Kiehl]";
		mes "ฉันจินตนาการว่ามันคง";
		mes "ต้องล้ำค่าต่อเขามาก แต่";
		mes "ฉันสงสัยจังว่าทำไมเขาถึง";
		mes "ใส่มันไว้ข้างในตัวฉัน? เอาเถอะ";
		mes "ฉันมีข้อความอย่างหนึ่งที่อยาก";
		mes "จะฝากเธอไปบอกเขาหน่อย";
		next;
		cutin "kh_kiel01",2;
		mes "[Kiehl]";
		mes "อย่างแรก... ฉันว่าเรา";
		mes "ควรจะกำจัดของเก่าๆ ชิ้นนี้";
		mes "ทิ้งไปได้แล้ว มันเป็นร่าง";
		mes "ที่ดีและรับใช้ฉันมาอย่างดี";
		mes "ตลอด 23 ปี ฉันคงจะคิดถึง";
		mes "มันนะ หลับให้สบายล่ะ Kiehl ตัวเก่า";
		next;
		specialeffect EF_DEVIL;
		next;
		mes "[Kiehl]";
		mes "เอาล่ะ นี่คือร่างที่ท่านพ่อ";
		mes "เป็นคนสร้างขึ้นมาเอง";
		mes "รบกวนช่วยบอกเขาด้วยว่า";
		mes "นี่หมายความว่าพวกเรา";
		mes "ไม่มีความเกี่ยวข้องกันอีก";
		mes "ต่อไปแล้ว";
		next;
		mes "[Kiehl]";
		mes "ส่วนร่างที่ฉันใช้ตอนนี้เหรอ?";
		mes "ฉันสร้างมันขึ้นมาเองด้วยเทคโนโลยี";
		mes "ที่ล้ำสมัยที่สุด ถือซะว่ามันเป็นร่าง";
		mes "หุ่นยนต์รุ่นที่สี่ (Fourth Generation)";
		mes "ก็แล้วกัน ท่านพ่อคงจะ";
		mes "เข้าใจความหมายที่ฉันสื่อ";
		next;
		mes "[Kiehl]";
		mes "ยังไงก็ฝากบอกเขาตามนั้นนะ";
		mes "แล้วก็นำแหวนเก่าๆ นั่นออกมา";
		mes "จากร่างหุ่นยนต์ตัวเก่าของฉัน";
		mes "แล้วเอามันไปคืนให้เขาซะ สำหรับ";
		mes "ตอนนี้ ออกไปจากที่นี่กันเถอะ เรา";
		mes "เหลือเวลาแค่อีก 3 นาทีเพื่ออพยพ";
		next;
		mes "[Kiehl]";
		mes "เธอเป็นคู่ต่อสู้ที่คู่ควร";
		mes "และเป็นมนุษย์ที่ฉันเคารพ";
		mes "ฉันไม่รู้ว่าเราจะได้พบกัน";
		mes "อีกไหม แต่ใครจะรู้ล่ะ?";
		mes "ยังไงฉันจะเปิดทางออก";
		mes "ให้เธอก็แล้วกัน ลาก่อน~";
		delitem 7504,1; //Toy_Motor
		set KielHyreQuest,104;
		hideonnpc "Kiehl#Copy";
		donpcevent "Kiehl_Room_Exit::OnEnable";
		enablenpc "Kiehl_Room_Exit";
		initnpctimer;
		cutin "",255;
		close;
	}
	if (KielHyreQuest == 104) {
		cutin "kh_kiel02",2;
		mes "^3355FFคุณเก็บกู้แหวน";
		mes "ออกมาจากส่วนใจกลางของ";
		mes "ร่างหุ่นยนต์ตัวเก่าของ Kiehl^000000";
		getitem 7508,1; //Elysia_Ring
		set KielHyreQuest,106;
		close2;
		cutin "",255;
		end;
	}
	else{
		cutin "kh_kiel02",2;
		mes "^3355FFร่างหุ่นยนต์";
		mes "ตัวเก่าของ Kiehl";
		mes "ยืนอยู่อย่างโดดเดี่ยว";
		mes "ไร้ชีวิตและเงียบงัน^000000";
		close2;
		cutin "",255;
		end;
	}


OnTimer180000:
	stopnpctimer;
	mapannounce "kh_kiehl02","ปี๊บบบบบบบบบบบบบ~",bc_npc,0xFF0000;
	donpcevent "KiehlRoom::OnReset";
	end;

OnTimer179000:
	mapannounce "kh_kiehl02","เหลือเวลา 1 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer178000:
	mapannounce "kh_kiehl02","เหลือเวลา 2 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer177000:
	mapannounce "kh_kiehl02","เหลือเวลา 3 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer176000:
	mapannounce "kh_kiehl02","เหลือเวลา 4 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer175000:
	mapannounce "kh_kiehl02","เหลือเวลา 5 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer170000:
	mapannounce "kh_kiehl02","เหลือเวลา 10 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer160000:
	mapannounce "kh_kiehl02","เหลือเวลา 20 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer150000:
	mapannounce "kh_kiehl02","เหลือเวลา 30 วินาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer120000:
	mapannounce "kh_kiehl02","เหลือเวลา 1 นาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer60000:
	mapannounce "kh_kiehl02","เหลือเวลา 2 นาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;

OnTimer1000:
	mapannounce "kh_kiehl02","เหลือเวลา 3 นาทีก่อนการระเบิด",bc_npc,0xFF0000;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; NPC for mob control, timers, and other junk.
//----------------------------------------------------------------------------
kh_kiehl02,1,1,0	script	KiehlRoom	-1,{
	end;

OnKiehlMobDead:
	set .KHKilled,.KHKilled+1;
	if (.KHKilled == 5) { 
		hideoffnpc "Kiehl#Original"; 
	}
	end;

OnKiehlDead:
	set .KHKilledBoss,1;
	hideoffnpc "Kiehl#Original";
	end;
	
OnReset:
	donpcevent "Kiehl_Room_Trap::OnGlobalTimerOff";
	if (getmapusers("kh_kiehl02") > 0)
		mapwarp "kh_kiehl02","lighthalzen",192,200;
	killmonsterall "kh_kiehl02";
	disablenpc "Kiehl_Room_Exit";
	hideonnpc "Mitchell#KiehlRoom";
	hideonnpc "Agent#KHAgent1";
	hideonnpc "Agent#KHAgent2";
	hideonnpc "Agent#KHAgent3";
	hideonnpc "Agent#KHAgent4";
	hideonnpc "Kiehl#Copy";
	hideoffnpc "Kiehl#Original"; 
	set .KHKilledBoss,0;
	set .KHKilled,0;
	set getvariableofnpc(.KHTrapSprung,"Kiehl_Room_Trap"),0;
	set $@KHQuestBusy,0;
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Mitchell and Agents.
//----------------------------------------------------------------------------
kh_kiehl02,49,55,6	script	Mitchell#KiehlRoom	727,{
	end;
OnInit:
	hideonnpc strnpcinfo(0);
	end;
}
kh_kiehl02,53,52,4	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent1	880
kh_kiehl02,51,49,1	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent2	880
kh_kiehl02,47,50,0	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent3	880
kh_kiehl02,46,53,6	duplicate(Mitchell#KiehlRoom)	Agent#KHAgent4	880

//----------------------------------------------------------------------------
// Kiehl's Room; Copy of Kiehl.
//----------------------------------------------------------------------------
kh_kiehl02,48,53,6	script	Kiehl#Copy	902,{
	end;

OnInit:
	hideonnpc "Kiehl#Copy";
	end;
}

//----------------------------------------------------------------------------
// Kiehl's Room; Kiehl_Room_Exit
//----------------------------------------------------------------------------
kh_kiehl02,49,56,0	script	Kiehl_Room_Exit	45,1,1,{
OnTouch_:
	if (getmapusers("kh_kiehl02") < 1)
		donpcevent "KiehlRoom::OnReset";
	warp "lighthalzen",193,200;
	end;

OnEnable:
	specialeffect EF_SUMMONSLAVE;
	end;

OnInit:
	disablenpc "Kiehl_Room_Exit";
	end;
}

//============================================================ 
// Old changelog
//============================================================ 
//= 1.0 First version, needs testing [Playtester]
//= 1.1 Copied over some changes made by -Tsuyuki- [L0ne_W0lf]
//=     Reworked variables slightly so that the permenents ones aside from the 
//=     main tracking variable, are deleted when no longer needed. Renamed
//=     several variables that handle strings to @KHInput$. [L0ne_W0lf]
//= 1.2 Removed duplicate NPCs. [Toms]
//= 1.3 More Bug fixes, fixed typo. Updated Additional comments. [L0ne_W0lf]
//= 1.4 Fixed doors not resetting in kh_kiehl01 after 30 second timer is up. [L0ne_W0lf]
//= 1.5 Another bug fixed (&& instead of ||). [L0ne_W0lf]
//= 1.6 More squashed bugs with if checking. [L0ne_W0lf]
//= 1.7 Corrected some spelling mistakes. [Balish]
//=     Corrected Exploit with the pub man, giving infinite wine and money.
//=     Corrected pool and map not showing text for some states of the quest.
//=     Corrected Elly showing cutin but not text for some states of the quest (causing players to log off to continue).
//=     Let fisherman talk to you when you have 10 fishes OR MORE.
//=     Corrected not letting you enter the tombstone after finishing the quest.
//= 1.8 Elly now deletes the Iron_Box, and Kiel Hyre deletes the Pin. [L0ne_W0lf]
//=     More security on the 5th Big Door, now makes sure no one outside of who-
//=     acticated it initially can use it. Resets after 10 minutes to make it.
//=     Made it so that you need to be at least step 84 to activate the final door.
//=     Corrected not deleting Allysia's Ring from inventory.
//= 1.9 Exit will now enable if you are just retrieving the Ring, keeps you from getting stuck. [L0ne_W0lf]
//=     Corrected "KH_Kielh02", was setting off a debug, invalid map index. Should have been "kh_Kiehl02"
//=     Made .KHQuestBusy$ into a temp global variable. $@KHQuestBusy$. 
//= 2.0 Changed the labels on the "Big Doors" to "Identifier Names" to prevent an error with using getvariableofnpc [L0ne_W0lf]
//= 2.1 Fifth door now checks for a variable HIGHER or EQUAL to 74 not 84, as pointed out by Stollen. [L0ne_W0lf]
//= 2.2 Another fix for Elly, no longer RESETS to 26 when you talk to her. [L0ne_W0lf]
//= 2.3 Should NOT have been setting .KHQuestBusy at all. It's not used or accessed anymore. Removed. [L0ne_W0lf]
//= 2.4 Lots of fixes (4ish) from Valandi. [L0ne_W0lf]
//=     Added a getmapuser check to the mapwarp in KHTimerEnd so it's not trying to warp out 0 users. [L0ne_W0lf]
//= 2.5 Fixed several small issues (and large one) such as typos in cutins, typos in dialog, etc. [L0ne_W0lf]
//=     Added some of the missing dialogs for several NPCs, and fixed a few NPC locations.
//=     ALL books can now trigger the wall.
//=     Allysia will now summon 4 (was 2) G_CONSTANTS instead of REGULAR constants.
//=     Fixed where Golden_Key and Kiel_Button are deleted.
//=     Removed KHTimerEnd, and instead use OnReset.
//=     Fixed typo in the second NPC that gives Black Keycards.
//=     Added Monster Warps. (Keeps monsters from being in dungeon quest area.) [Non-functional]
//= 2.6 Stupid mistake, accidentally had 4 copies of the same script in 1... [L0ne_W0lf the bonehead]
//= 2.7 Fixed the wrong name being displayed for Kiel Hyre in one dialog. 
//=     Removed $@KH_DoorInvoker entirely. The quest is now working like it should according to iRO.
//=     Fixed up a few more NPC headers. Facing direction fixes mostly this time.
//=     More progression changes to Kiehl Hyre. He no longer stops dialog after the agents appear.
//= 2.8 Fixed the weight checking in Vandt, and added official dialog. [L0ne_W0lf]
//=     Added weight checks for all NPCs that give items. Semi-official dialog.
//=     Got the missing portion of dialog for Mills'.
//=     Will add further proper dialogs as I get to them on the second runthrough of the quest.
//= 2.8a minor optimization with extra goto, else or empty switch [Lupus]
//= 2.9 Fixed the "enablenpc" problem with the missing spaces. No idea how it happened. [L0ne_W0lf]
//= 3.0 Fixed a typo in Elly, in her room. (was <= should have been <) [L0ne_W0lf]
//=     Added an 'end;' to the cookie basket. Kiel Hyre's final dialog will now delete all quest-related items.
//= 3.1 Moved the "delitem" for all related quest items to the proper NPC. [L0ne_W0lf]
//= 3.2 Fixed error with Allysia teling you to "Go away." maybe. [L0ne_W0lf]
//= 3.2b Fixed some typos and grammar mistakes. [SinSloth]
//= 3.3 Fixed the receiver log out bugs. [L0ne_W0lf]
//= 3.4 Fixed bug when u can't get a Yellow Keycard if u got the Blue one at first [Lupus]
//=     Note: There are many condition checks that should be omitted in the future fixed item names in item_db.txt / txt resources according the quest
//=     for items, should be used bitwise methods in a single variable. So let's fix the rest possible bugs (if they exist) and then optimize ^_-
//= 3.5 Changed the way the Black Keycard distibuting NPCs work slighty. [L0ne_W0lf]
//= 3.6 Keil Hyre removes ALL outstanding quest items when he is talked [L0ne_W0lf]
//=     to after finishing the quest.
//= 3.7 Corrected NPC names to fall within proper restrictions. [L0ne_W0lf]
//= 3.8 Corrected some delitems. (bugreport:690) [Samuray22]
//= 3.9 Fixed a cutin not being erased. (bugreport:1539) [L0ne_W0lf]
//============================================================
